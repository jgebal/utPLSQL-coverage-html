<!DOCTYPE html><html xmlns='http://www.w3.org/1999/xhtml'><head><title>Code coverage</title><meta http-equiv="content-type" content="text/html; charset=WINDOWS-1252" /><script src='https://utplsql.github.io/utPLSQL-coverage-html/assets/application.js'></script><link href='https://utplsql.github.io/utPLSQL-coverage-html/assets/application.css' media='screen, print' rel='stylesheet' type='text/css'/><link rel="shortcut icon" type="image/png" href="https://utplsql.github.io/utPLSQL-coverage-html/assets/favicon_green.png" /><link rel="icon" type="image/png" href="https://utplsql.github.io/utPLSQL-coverage-html/assets/favicon_green.png" /></head><body><div id="loading"><img src="https://utplsql.github.io/utPLSQL-coverage-html/assets/loading.gif" alt="loading"/></div><div id="wrapper" style="display:none;"><div class="timestamp">Generated <abbr class="timeago" title="2019-08-25T14:25:33">2019-08-25T14:25:33</abbr></div><ul class="group_tabs"></ul><div id="content">
    <div class="file_list_container" id="991716A5FE7B1B4DB80E6C06908178EB"><h2><span class="group_name">All files</span> (<span class="covered_percent"><span class="green">95.04%</span></span> lines covered at <span class="covered_strength"><span class="green">588</span></span> hits/line)</h2><a id="a_991716A5FE7B1B4DB80E6C06908178EB"></a><div><b>102</b> files in total. </div><div><b>4741</b> relevant lines. <span class="green"><b>4506</b> lines covered</span> (including <span class="yellow"><b>20</b> lines partially covered</span> ) and <span class="red"><b>235</b> lines missed.</span><table class="file_list"><thead><tr><th>File</th><th>% covered</th><th>Lines</th><th>Relevant Lines</th><th>Lines covered</th><th>Lines missed</th><th>Avg. Hits / Line </th></tr></thead><tbody>

    <tr><td class="strong"><a href="#6918B76EE25D1A9C1059EC5580543780" class="src_link" title="source\api\ut.pkb">source\api\ut.pkb</a></td><td class="green strong">93.2 %</td><td>693</td><td>103</td><td>96</td><td>7</td><td>1938</td></tr>

    <tr><td class="strong"><a href="#C959261D9A8948B1FFB339572C909CE5" class="src_link" title="source\api\ut_runner.pkb">source\api\ut_runner.pkb</a></td><td class="green strong">93.5 %</td><td>299</td><td>123</td><td>115</td><td>8</td><td>50</td></tr>

    <tr><td class="strong"><a href="#8CE0B3C1013EDAD98751B61966A43E95" class="src_link" title="source\api\ut_suite_item_info.tpb">source\api\ut_suite_item_info.tpb</a></td><td class="green strong">100 %</td><td>37</td><td>12</td><td>12</td><td>0</td><td>9</td></tr>

    <tr><td class="strong"><a href="#FCAE156B39D1E28329A94CAF911AD337" class="src_link" title="source\core\annotations\ut_annotation_cache_manager.pkb">source\core\annotations\ut_annotation_cache_manager.pkb</a></td><td class="green strong">95.12 %</td><td>220</td><td>41</td><td>39</td><td>2</td><td>208</td></tr>

    <tr><td class="strong"><a href="#F46B21C3C1C4547EC9C1166D2CC3D9EF" class="src_link" title="source\core\annotations\ut_annotation_manager.pkb">source\core\annotations\ut_annotation_manager.pkb</a></td><td class="green strong">98.86 %</td><td>324</td><td>88</td><td>87</td><td>1</td><td>919</td></tr>

    <tr><td class="strong"><a href="#F6069FFD93C173EC52E09AFB35DB9DC7" class="src_link" title="source\core\annotations\ut_annotation_parser.pkb">source\core\annotations\ut_annotation_parser.pkb</a></td><td class="green strong">97.26 %</td><td>251</td><td>73</td><td>71</td><td>2</td><td>3127</td></tr>

    <tr><td class="strong"><a href="#7ED435A27B4E0806FAE83566912511B7" class="src_link" title="source\core\annotations\ut_trigger_check.pkb">source\core\annotations\ut_trigger_check.pkb</a></td><td class="green strong">100 %</td><td>38</td><td>7</td><td>7</td><td>0</td><td>235</td></tr>

    <tr><td class="strong"><a href="#22ABEC318CF611BFDCD258BCED32E601" class="src_link" title="source\core\coverage\ut_coverage.pkb">source\core\coverage\ut_coverage.pkb</a></td><td class="yellow strong">88.1 %</td><td>282</td><td>84</td><td>74</td><td>10</td><td>11</td></tr>

    <tr><td class="strong"><a href="#ABD9557C21D356CDCD0E63016D989E14" class="src_link" title="source\core\coverage\ut_coverage_block.pkb">source\core\coverage\ut_coverage_block.pkb</a></td><td class="green strong">92.31 %</td><td>159</td><td>52</td><td>48</td><td>4</td><td>22</td></tr>

    <tr><td class="strong"><a href="#E987773302AFE393843F644A43D337E1" class="src_link" title="source\core\coverage\ut_coverage_helper.pkb">source\core\coverage\ut_coverage_helper.pkb</a></td><td class="yellow strong">90 %</td><td>86</td><td>10</td><td>9</td><td>1</td><td>22</td></tr>

    <tr><td class="strong"><a href="#023CCBB67345BAB2B32EE67EF5A0A0B6" class="src_link" title="source\core\coverage\ut_coverage_helper_block.pkb">source\core\coverage\ut_coverage_helper_block.pkb</a></td><td class="yellow strong">83.33 %</td><td>94</td><td>12</td><td>10</td><td>2</td><td>23</td></tr>

    <tr><td class="strong"><a href="#93CBCC1313F451160DD13F15D0FC13B5" class="src_link" title="source\core\coverage\ut_coverage_helper_profiler.pkb">source\core\coverage\ut_coverage_helper_profiler.pkb</a></td><td class="red strong">70 %</td><td>88</td><td>10</td><td>7</td><td>3</td><td>30</td></tr>

    <tr><td class="strong"><a href="#FCCAD99679A0A272C059CE4CD6D210A2" class="src_link" title="source\core\coverage\ut_coverage_profiler.pkb">source\core\coverage\ut_coverage_profiler.pkb</a></td><td class="green strong">100 %</td><td>95</td><td>37</td><td>37</td><td>0</td><td>33</td></tr>

    <tr><td class="strong"><a href="#9F7F9B1E5998F6C0031380865D3CFA19" class="src_link" title="source\core\coverage\ut_coverage_reporter_base.tpb">source\core\coverage\ut_coverage_reporter_base.tpb</a></td><td class="green strong">100 %</td><td>88</td><td>16</td><td>16</td><td>0</td><td>4</td></tr>

    <tr><td class="strong"><a href="#DEA7E05D825C8F032289E936A3DDC94C" class="src_link" title="source\core\events\ut_event_manager.pkb">source\core\events\ut_event_manager.pkb</a></td><td class="red strong">75.68 %</td><td>121</td><td>37</td><td>28</td><td>9</td><td>1947</td></tr>

    <tr><td class="strong"><a href="#BAA83A4480A76070F2484D5E5ECC8178" class="src_link" title="source\core\output_buffers\ut_output_buffer_base.tpb">source\core\output_buffers\ut_output_buffer_base.tpb</a></td><td class="green strong">100 %</td><td>75</td><td>26</td><td>26</td><td>0</td><td>319</td></tr>

    <tr><td class="strong"><a href="#D63A88DED6138F860763ACA1459F028E" class="src_link" title="source\core\output_buffers\ut_output_clob_table_buffer.tpb">source\core\output_buffers\ut_output_clob_table_buffer.tpb</a></td><td class="green strong">98.21 %</td><td>156</td><td>56</td><td>55</td><td>1</td><td>121</td></tr>

    <tr><td class="strong"><a href="#6846EE8B5D12F3090BB4F904381C7FC5" class="src_link" title="source\core\output_buffers\ut_output_table_buffer.tpb">source\core\output_buffers\ut_output_table_buffer.tpb</a></td><td class="yellow strong">86.21 %</td><td>174</td><td>58</td><td>50</td><td>8</td><td>735</td></tr>

    <tr><td class="strong"><a href="#CACBE6AC4D7CF2EB8E33CA08E6723E2F" class="src_link" title="source\core\session_context\ut_session_context.pkb">source\core\session_context\ut_session_context.pkb</a></td><td class="yellow strong">85.71 %</td><td>51</td><td>7</td><td>6</td><td>1</td><td>1184</td></tr>

    <tr><td class="strong"><a href="#CCBC00D0ED335BD281375A70EE43CF2E" class="src_link" title="source\core\session_context\ut_session_info.tpb">source\core\session_context\ut_session_info.tpb</a></td><td class="green strong">98.68 %</td><td>180</td><td>76</td><td>75</td><td>1</td><td>326</td></tr>

    <tr><td class="strong"><a href="#45DA61C3472368DE4C56E78C2AD67B38" class="src_link" title="source\core\types\ut_console_reporter_base.tpb">source\core\types\ut_console_reporter_base.tpb</a></td><td class="green strong">100 %</td><td>44</td><td>5</td><td>5</td><td>0</td><td>103</td></tr>

    <tr><td class="strong"><a href="#60E76FF77C7C7E3088566CA77DF2FAB7" class="src_link" title="source\core\types\ut_executable.tpb">source\core\types\ut_executable.tpb</a></td><td class="green strong">92.75 %</td><td>182</td><td>69</td><td>64</td><td>5</td><td>390</td></tr>

    <tr><td class="strong"><a href="#135E1D1D234F7624C8D2D4F9D391D23D" class="src_link" title="source\core\types\ut_executable_test.tpb">source\core\types\ut_executable_test.tpb</a></td><td class="green strong">96.15 %</td><td>90</td><td>26</td><td>25</td><td>1</td><td>627</td></tr>

    <tr><td class="strong"><a href="#707F669EF8906350D00E047EE302AC87" class="src_link" title="source\core\types\ut_expectation_result.tpb">source\core\types\ut_expectation_result.tpb</a></td><td class="green strong">93.33 %</td><td>57</td><td>15</td><td>14</td><td>1</td><td>358</td></tr>

    <tr><td class="strong"><a href="#83165DE76763D9593B30C7090ABDE69D" class="src_link" title="source\core\types\ut_file_mapping.tpb">source\core\types\ut_file_mapping.tpb</a></td><td class="green strong">100 %</td><td>22</td><td>2</td><td>2</td><td>0</td><td>48</td></tr>

    <tr><td class="strong"><a href="#C84DD8096EEE9C400A1D6431BA54B345" class="src_link" title="source\core\types\ut_logical_suite.tpb">source\core\types\ut_logical_suite.tpb</a></td><td class="green strong">100 %</td><td>118</td><td>42</td><td>42</td><td>0</td><td>250</td></tr>

    <tr><td class="strong"><a href="#CAD193C445C7BA8F653C022C40112F66" class="src_link" title="source\core\types\ut_object_name.tpb">source\core\types\ut_object_name.tpb</a></td><td class="yellow strong">90 %</td><td>41</td><td>10</td><td>9</td><td>1</td><td>765</td></tr>

    <tr><td class="strong"><a href="#D377907920671569E5523D3B812420A2" class="src_link" title="source\core\types\ut_output_reporter_base.tpb">source\core\types\ut_output_reporter_base.tpb</a></td><td class="red strong">75 %</td><td>93</td><td>20</td><td>15</td><td>5</td><td>162</td></tr>

    <tr><td class="strong"><a href="#DC637199C929CF0FE5D058797E74C0C6" class="src_link" title="source\core\types\ut_reporter_base.tpb">source\core\types\ut_reporter_base.tpb</a></td><td class="green strong">94.52 %</td><td>218</td><td>73</td><td>69</td><td>4</td><td>475</td></tr>

    <tr><td class="strong"><a href="#FBB7DAF2A48FCA7976D8492ECCD676F2" class="src_link" title="source\core\types\ut_results_counter.tpb">source\core\types\ut_results_counter.tpb</a></td><td class="green strong">100 %</td><td>73</td><td>27</td><td>27</td><td>0</td><td>1197</td></tr>

    <tr><td class="strong"><a href="#91909CE1AE65AF29D294AAEE7A0203A2" class="src_link" title="source\core\types\ut_run.tpb">source\core\types\ut_run.tpb</a></td><td class="green strong">93.94 %</td><td>119</td><td>33</td><td>31</td><td>2</td><td>98</td></tr>

    <tr><td class="strong"><a href="#50805596E2AD0A188F83B590B718FB64" class="src_link" title="source\core\types\ut_run_info.tpb">source\core\types\ut_run_info.tpb</a></td><td class="green strong">100 %</td><td>47</td><td>10</td><td>10</td><td>0</td><td>116</td></tr>

    <tr><td class="strong"><a href="#D9E97DEEB29924F70F3824C7CE9C2B9C" class="src_link" title="source\core\types\ut_suite.tpb">source\core\types\ut_suite.tpb</a></td><td class="green strong">100 %</td><td>111</td><td>44</td><td>44</td><td>0</td><td>140</td></tr>

    <tr><td class="strong"><a href="#9D696FC113B28CE6AA158AB5D08D4A9D" class="src_link" title="source\core\types\ut_suite_context.tpb">source\core\types\ut_suite_context.tpb</a></td><td class="green strong">100 %</td><td>31</td><td>6</td><td>6</td><td>0</td><td>176</td></tr>

    <tr><td class="strong"><a href="#6A302AC7391EF7975A08F9B8C47596C5" class="src_link" title="source\core\types\ut_suite_item.tpb">source\core\types\ut_suite_item.tpb</a></td><td class="green strong">100 %</td><td>113</td><td>33</td><td>33</td><td>0</td><td>949</td></tr>

    <tr><td class="strong"><a href="#B6621C2E18D6F33583A0DA6D0A3FC021" class="src_link" title="source\core\types\ut_test.tpb">source\core\types\ut_test.tpb</a></td><td class="green strong">100 %</td><td>176</td><td>87</td><td>87</td><td>0</td><td>514</td></tr>

    <tr><td class="strong"><a href="#FA5A7975E08110B3FD803D8A36D815C6" class="src_link" title="source\core\ut_expectation_processor.pkb">source\core\ut_expectation_processor.pkb</a></td><td class="green strong">100 %</td><td>238</td><td>71</td><td>71</td><td>0</td><td>446</td></tr>

    <tr><td class="strong"><a href="#396D4AEECC5C5BAE8D71A4CA4A99A7A6" class="src_link" title="source\core\ut_file_mapper.pkb">source\core\ut_file_mapper.pkb</a></td><td class="green strong">100 %</td><td>121</td><td>27</td><td>27</td><td>0</td><td>43</td></tr>

    <tr><td class="strong"><a href="#B3F1B1BF132D24722CBCDA2C0E0D7FAD" class="src_link" title="source\core\ut_metadata.pkb">source\core\ut_metadata.pkb</a></td><td class="green strong">91.76 %</td><td>317</td><td>85</td><td>78</td><td>7</td><td>304</td></tr>

    <tr><td class="strong"><a href="#127F439994C3AEE04B755C0419B72D79" class="src_link" title="source\core\ut_suite_builder.pkb">source\core\ut_suite_builder.pkb</a></td><td class="green strong">98.76 %</td><td>904</td><td>322</td><td>318</td><td>4</td><td>960</td></tr>

    <tr><td class="strong"><a href="#788A762DC0E68C38BB6BA83990AD321E" class="src_link" title="source\core\ut_suite_cache_manager.pkb">source\core\ut_suite_cache_manager.pkb</a></td><td class="green strong">96.92 %</td><td>433</td><td>65</td><td>63</td><td>2</td><td>179</td></tr>

    <tr><td class="strong"><a href="#B030D85FA8089E413FDD348DB8459404" class="src_link" title="source\core\ut_suite_manager.pkb">source\core\ut_suite_manager.pkb</a></td><td class="green strong">94.68 %</td><td>646</td><td>188</td><td>178</td><td>10</td><td>332</td></tr>

    <tr><td class="strong"><a href="#0E8DD0E531663A9A775D60E6239493E8" class="src_link" title="source\core\ut_utils.pkb">source\core\ut_utils.pkb</a></td><td class="green strong">94.29 %</td><td>879</td><td>350</td><td>330</td><td>20</td><td>3302</td></tr>

    <tr><td class="strong"><a href="#20F30C11E199428082CD2ACCF68D11B4" class="src_link" title="source\expectations\data_values\ut_compound_data_helper.pkb">source\expectations\data_values\ut_compound_data_helper.pkb</a></td><td class="green strong">99.09 %</td><td>814</td><td>220</td><td>218</td><td>2</td><td>173</td></tr>

    <tr><td class="strong"><a href="#5EFAAA23DDB1F7A300BC5AFA214D7610" class="src_link" title="source\expectations\data_values\ut_compound_data_value.tpb">source\expectations\data_values\ut_compound_data_value.tpb</a></td><td class="green strong">100 %</td><td>62</td><td>12</td><td>12</td><td>0</td><td>217</td></tr>

    <tr><td class="strong"><a href="#74B3BAC1F763F5374AA8D7613BDC69D9" class="src_link" title="source\expectations\data_values\ut_cursor_column.tpb">source\expectations\data_values\ut_cursor_column.tpb</a></td><td class="green strong">95.83 %</td><td>69</td><td>24</td><td>23</td><td>1</td><td>1022</td></tr>

    <tr><td class="strong"><a href="#F8C1888B3BBED7F33740C878BAC92AC7" class="src_link" title="source\expectations\data_values\ut_cursor_details.tpb">source\expectations\data_values\ut_cursor_details.tpb</a></td><td class="green strong">100 %</td><td>255</td><td>62</td><td>62</td><td>0</td><td>481</td></tr>

    <tr><td class="strong"><a href="#B38F290CC040E432C491C85A7794B8F5" class="src_link" title="source\expectations\data_values\ut_data_value.tpb">source\expectations\data_values\ut_data_value.tpb</a></td><td class="green strong">93.33 %</td><td>66</td><td>15</td><td>14</td><td>1</td><td>496</td></tr>

    <tr><td class="strong"><a href="#876A06014293CEA2806330694A18737C" class="src_link" title="source\expectations\data_values\ut_data_value_anydata.tpb">source\expectations\data_values\ut_data_value_anydata.tpb</a></td><td class="red strong">79.59 %</td><td>141</td><td>49</td><td>39</td><td>10</td><td>96</td></tr>

    <tr><td class="strong"><a href="#C2C5580188AAA0AC66BB9E307509C02B" class="src_link" title="source\expectations\data_values\ut_data_value_blob.tpb">source\expectations\data_values\ut_data_value_blob.tpb</a></td><td class="green strong">100 %</td><td>61</td><td>15</td><td>15</td><td>0</td><td>21</td></tr>

    <tr><td class="strong"><a href="#6A497ED50C7F407C1305BF7C33994DB5" class="src_link" title="source\expectations\data_values\ut_data_value_boolean.tpb">source\expectations\data_values\ut_data_value_boolean.tpb</a></td><td class="green strong">93.75 %</td><td>56</td><td>16</td><td>15</td><td>1</td><td>18</td></tr>

    <tr><td class="strong"><a href="#DBBFD203D280EBA3FA23DF12842FBF06" class="src_link" title="source\expectations\data_values\ut_data_value_clob.tpb">source\expectations\data_values\ut_data_value_clob.tpb</a></td><td class="green strong">100 %</td><td>62</td><td>15</td><td>15</td><td>0</td><td>31</td></tr>

    <tr><td class="strong"><a href="#C0BED259EF5883472A82FF55E29E3827" class="src_link" title="source\expectations\data_values\ut_data_value_date.tpb">source\expectations\data_values\ut_data_value_date.tpb</a></td><td class="green strong">93.75 %</td><td>56</td><td>16</td><td>15</td><td>1</td><td>43</td></tr>

    <tr><td class="strong"><a href="#F90F6ACF48769359D99C87400BFCA8DB" class="src_link" title="source\expectations\data_values\ut_data_value_dsinterval.tpb">source\expectations\data_values\ut_data_value_dsinterval.tpb</a></td><td class="green strong">100 %</td><td>54</td><td>15</td><td>15</td><td>0</td><td>43</td></tr>

    <tr><td class="strong"><a href="#6CA0A862582D23A47904D497571AC704" class="src_link" title="source\expectations\data_values\ut_data_value_json.tpb">source\expectations\data_values\ut_data_value_json.tpb</a></td><td class="green strong">98.39 %</td><td>166</td><td>62</td><td>61</td><td>1</td><td>14</td></tr>

    <tr><td class="strong"><a href="#269340825062FCCDC553F509DECC85D8" class="src_link" title="source\expectations\data_values\ut_data_value_number.tpb">source\expectations\data_values\ut_data_value_number.tpb</a></td><td class="green strong">93.75 %</td><td>56</td><td>16</td><td>15</td><td>1</td><td>113</td></tr>

    <tr><td class="strong"><a href="#BAA934B98DF580829E481BFC4639358F" class="src_link" title="source\expectations\data_values\ut_data_value_refcursor.tpb">source\expectations\data_values\ut_data_value_refcursor.tpb</a></td><td class="green strong">93.57 %</td><td>394</td><td>171</td><td>160</td><td>11</td><td>145</td></tr>

    <tr><td class="strong"><a href="#A82767399790F79958FE5016E0379745" class="src_link" title="source\expectations\data_values\ut_data_value_timestamp.tpb">source\expectations\data_values\ut_data_value_timestamp.tpb</a></td><td class="green strong">93.75 %</td><td>56</td><td>16</td><td>15</td><td>1</td><td>47</td></tr>

    <tr><td class="strong"><a href="#2AFE41619CB0FDDE4E124A31DDC1C036" class="src_link" title="source\expectations\data_values\ut_data_value_timestamp_ltz.tpb">source\expectations\data_values\ut_data_value_timestamp_ltz.tpb</a></td><td class="green strong">93.75 %</td><td>56</td><td>16</td><td>15</td><td>1</td><td>47</td></tr>

    <tr><td class="strong"><a href="#C18AEC99533A5A8022E7B51AEA504470" class="src_link" title="source\expectations\data_values\ut_data_value_timestamp_tz.tpb">source\expectations\data_values\ut_data_value_timestamp_tz.tpb</a></td><td class="green strong">93.75 %</td><td>56</td><td>16</td><td>15</td><td>1</td><td>46</td></tr>

    <tr><td class="strong"><a href="#DBE7DCFA28CCB99CC7572E4F6ED87638" class="src_link" title="source\expectations\data_values\ut_data_value_varchar2.tpb">source\expectations\data_values\ut_data_value_varchar2.tpb</a></td><td class="green strong">94.12 %</td><td>61</td><td>17</td><td>16</td><td>1</td><td>123</td></tr>

    <tr><td class="strong"><a href="#AD0B721FFAA27DF887FC1A94B02415B1" class="src_link" title="source\expectations\data_values\ut_data_value_yminterval.tpb">source\expectations\data_values\ut_data_value_yminterval.tpb</a></td><td class="green strong">100 %</td><td>53</td><td>15</td><td>15</td><td>0</td><td>43</td></tr>

    <tr><td class="strong"><a href="#4ABF5F9ABFCF6BF4BA006791BA370A9A" class="src_link" title="source\expectations\data_values\ut_json_leaf.tpb">source\expectations\data_values\ut_json_leaf.tpb</a></td><td class="green strong">100 %</td><td>31</td><td>12</td><td>12</td><td>0</td><td>1654</td></tr>

    <tr><td class="strong"><a href="#DBAAAF3CE772D40E253BEE275FFD53E6" class="src_link" title="source\expectations\data_values\ut_json_tree_details.tpb">source\expectations\data_values\ut_json_tree_details.tpb</a></td><td class="green strong">93.94 %</td><td>206</td><td>66</td><td>62</td><td>4</td><td>463</td></tr>

    <tr><td class="strong"><a href="#99D4AD21EA272D4422D3D38CFC118D32" class="src_link" title="source\expectations\data_values\ut_key_anyvalues.tpb">source\expectations\data_values\ut_key_anyvalues.tpb</a></td><td class="red strong">42.11 %</td><td>89</td><td>19</td><td>8</td><td>11</td><td>95</td></tr>

    <tr><td class="strong"><a href="#04A5757FE2A9859812F06CEE4973551E" class="src_link" title="source\expectations\matchers\ut_be_between.tpb">source\expectations\matchers\ut_be_between.tpb</a></td><td class="green strong">100 %</td><td>108</td><td>28</td><td>28</td><td>0</td><td>29</td></tr>

    <tr><td class="strong"><a href="#54B70BA383D33219218063052A5E515E" class="src_link" title="source\expectations\matchers\ut_be_empty.tpb">source\expectations\matchers\ut_be_empty.tpb</a></td><td class="green strong">100 %</td><td>39</td><td>6</td><td>6</td><td>0</td><td>26</td></tr>

    <tr><td class="strong"><a href="#54FE1C230A6B00F5DE03A1D48D0AB124" class="src_link" title="source\expectations\matchers\ut_be_false.tpb">source\expectations\matchers\ut_be_false.tpb</a></td><td class="green strong">100 %</td><td>36</td><td>6</td><td>6</td><td>0</td><td>7</td></tr>

    <tr><td class="strong"><a href="#DFD9DAEE74DB021AF52654A1117342AA" class="src_link" title="source\expectations\matchers\ut_be_greater_or_equal.tpb">source\expectations\matchers\ut_be_greater_or_equal.tpb</a></td><td class="green strong">100 %</td><td>88</td><td>22</td><td>22</td><td>0</td><td>11</td></tr>

    <tr><td class="strong"><a href="#FEBB479A976E1570843380CB2084A7D8" class="src_link" title="source\expectations\matchers\ut_be_greater_than.tpb">source\expectations\matchers\ut_be_greater_than.tpb</a></td><td class="green strong">100 %</td><td>88</td><td>22</td><td>22</td><td>0</td><td>11</td></tr>

    <tr><td class="strong"><a href="#7CE4BBFA061F34F2719241F79467C9C4" class="src_link" title="source\expectations\matchers\ut_be_less_or_equal.tpb">source\expectations\matchers\ut_be_less_or_equal.tpb</a></td><td class="green strong">100 %</td><td>88</td><td>22</td><td>22</td><td>0</td><td>11</td></tr>

    <tr><td class="strong"><a href="#E8F9E96A129E82CBB3750A7D1FB9A456" class="src_link" title="source\expectations\matchers\ut_be_less_than.tpb">source\expectations\matchers\ut_be_less_than.tpb</a></td><td class="green strong">100 %</td><td>93</td><td>22</td><td>22</td><td>0</td><td>11</td></tr>

    <tr><td class="strong"><a href="#AF355067D7F3AAFB2FE4F36BC4758124" class="src_link" title="source\expectations\matchers\ut_be_like.tpb">source\expectations\matchers\ut_be_like.tpb</a></td><td class="green strong">100 %</td><td>74</td><td>23</td><td>23</td><td>0</td><td>10</td></tr>

    <tr><td class="strong"><a href="#32CB7F4C75799EA5B512B920A7DFC2B6" class="src_link" title="source\expectations\matchers\ut_be_not_null.tpb">source\expectations\matchers\ut_be_not_null.tpb</a></td><td class="green strong">100 %</td><td>30</td><td>3</td><td>3</td><td>0</td><td>30</td></tr>

    <tr><td class="strong"><a href="#5351C0E617584889B00F21F5240F1502" class="src_link" title="source\expectations\matchers\ut_be_null.tpb">source\expectations\matchers\ut_be_null.tpb</a></td><td class="green strong">100 %</td><td>30</td><td>3</td><td>3</td><td>0</td><td>72</td></tr>

    <tr><td class="strong"><a href="#8E2A2AE5B98523DAE53FD11779390CC9" class="src_link" title="source\expectations\matchers\ut_be_true.tpb">source\expectations\matchers\ut_be_true.tpb</a></td><td class="green strong">100 %</td><td>36</td><td>6</td><td>6</td><td>0</td><td>7</td></tr>

    <tr><td class="strong"><a href="#73BD0B8D5E88FDBE6C87BC54E37F030F" class="src_link" title="source\expectations\matchers\ut_comparison_matcher.tpb">source\expectations\matchers\ut_comparison_matcher.tpb</a></td><td class="green strong">100 %</td><td>28</td><td>3</td><td>3</td><td>0</td><td>356</td></tr>

    <tr><td class="strong"><a href="#D644CDE3C7919DCD70F4C0FEFA582D35" class="src_link" title="source\expectations\matchers\ut_contain.tpb">source\expectations\matchers\ut_contain.tpb</a></td><td class="yellow strong">87.5 %</td><td>72</td><td>16</td><td>14</td><td>2</td><td>11</td></tr>

    <tr><td class="strong"><a href="#A1167C86C11AC263F85716FB36C7FDC8" class="src_link" title="source\expectations\matchers\ut_equal.tpb">source\expectations\matchers\ut_equal.tpb</a></td><td class="green strong">91.4 %</td><td>268</td><td>93</td><td>85</td><td>8</td><td>69</td></tr>

    <tr><td class="strong"><a href="#0223DB9BEE878F7A0A7F91296CDBAD93" class="src_link" title="source\expectations\matchers\ut_have_count.tpb">source\expectations\matchers\ut_have_count.tpb</a></td><td class="green strong">100 %</td><td>53</td><td>11</td><td>11</td><td>0</td><td>16</td></tr>

    <tr><td class="strong"><a href="#3BF9C9477EE88A413A14E15C65659099" class="src_link" title="source\expectations\matchers\ut_match.tpb">source\expectations\matchers\ut_match.tpb</a></td><td class="green strong">100 %</td><td>64</td><td>20</td><td>20</td><td>0</td><td>10</td></tr>

    <tr><td class="strong"><a href="#AD0DD1210207E8EACFE1420C38563383" class="src_link" title="source\expectations\matchers\ut_matcher.tpb">source\expectations\matchers\ut_matcher.tpb</a></td><td class="green strong">100 %</td><td>87</td><td>17</td><td>17</td><td>0</td><td>214</td></tr>

    <tr><td class="strong"><a href="#BE7CAFEFF2C3C27B9D3BEA05964FB8B1" class="src_link" title="source\expectations\matchers\ut_matcher_options.tpb">source\expectations\matchers\ut_matcher_options.tpb</a></td><td class="green strong">92.31 %</td><td>59</td><td>13</td><td>12</td><td>1</td><td>276</td></tr>

    <tr><td class="strong"><a href="#164942C44B44A3C2D22A5649BD38762C" class="src_link" title="source\expectations\matchers\ut_matcher_options_items.tpb">source\expectations\matchers\ut_matcher_options_items.tpb</a></td><td class="yellow strong">88.89 %</td><td>55</td><td>9</td><td>8</td><td>1</td><td>349</td></tr>

    <tr><td class="strong"><a href="#3769ACE2F1075831943C1B83D79D22C2" class="src_link" title="source\expectations\ut_expectation.tpb">source\expectations\ut_expectation.tpb</a></td><td class="green strong">98.62 %</td><td>722</td><td>145</td><td>143</td><td>2</td><td>35</td></tr>

    <tr><td class="strong"><a href="#A659E9166621A7E72A595C3ABA0EF6A7" class="src_link" title="source\expectations\ut_expectation_compound.tpb">source\expectations\ut_expectation_compound.tpb</a></td><td class="red strong">77.19 %</td><td>195</td><td>57</td><td>44</td><td>13</td><td>22</td></tr>

    <tr><td class="strong"><a href="#B8232653463E14C26B6FCF7386779AFB" class="src_link" title="source\expectations\ut_expectation_json.tpb">source\expectations\ut_expectation_json.tpb</a></td><td class="red strong">45.45 %</td><td>50</td><td>11</td><td>5</td><td>6</td><td>7</td></tr>

    <tr><td class="strong"><a href="#243F7561332AD985B019E751846E3EE4" class="src_link" title="source\reporters\ut_ansiconsole_helper.pkb">source\reporters\ut_ansiconsole_helper.pkb</a></td><td class="green strong">92.86 %</td><td>59</td><td>14</td><td>13</td><td>1</td><td>94</td></tr>

    <tr><td class="strong"><a href="#CC1779EBFD943CA5C94CE204C548B0DE" class="src_link" title="source\reporters\ut_coverage_cobertura_reporter.tpb">source\reporters\ut_coverage_cobertura_reporter.tpb</a></td><td class="green strong">91.8 %</td><td>159</td><td>61</td><td>56</td><td>5</td><td>2</td></tr>

    <tr><td class="strong"><a href="#739E87217CAFAE9F9E684E139B35EEEB" class="src_link" title="source\reporters\ut_coverage_html_reporter.tpb">source\reporters\ut_coverage_html_reporter.tpb</a></td><td class="yellow strong">88.89 %</td><td>55</td><td>9</td><td>8</td><td>1</td><td>1</td></tr>

    <tr><td class="strong"><a href="#31F3132F85029D11E692E073D549DC3E" class="src_link" title="source\reporters\ut_coverage_report_html_helper.pkb">source\reporters\ut_coverage_report_html_helper.pkb</a></td><td class="green strong">94.44 %</td><td>352</td><td>108</td><td>102</td><td>6</td><td>2</td></tr>

    <tr><td class="strong"><a href="#A55EDC518246E892DB761EC4B571F16B" class="src_link" title="source\reporters\ut_coverage_sonar_reporter.tpb">source\reporters\ut_coverage_sonar_reporter.tpb</a></td><td class="green strong">97.14 %</td><td>104</td><td>35</td><td>34</td><td>1</td><td>721</td></tr>

    <tr><td class="strong"><a href="#993FAFE97092372D51170E754C78C88C" class="src_link" title="source\reporters\ut_coveralls_reporter.tpb">source\reporters\ut_coveralls_reporter.tpb</a></td><td class="green strong">94.29 %</td><td>103</td><td>35</td><td>33</td><td>2</td><td>3</td></tr>

    <tr><td class="strong"><a href="#30DDE07F9A3D6EA525169A4FCA50CF3F" class="src_link" title="source\reporters\ut_debug_reporter.tpb">source\reporters\ut_debug_reporter.tpb</a></td><td class="green strong">100 %</td><td>78</td><td>25</td><td>25</td><td>0</td><td>46</td></tr>

    <tr><td class="strong"><a href="#75D21DED29E1976FAAB0BF39A21A508C" class="src_link" title="source\reporters\ut_documentation_reporter.tpb">source\reporters\ut_documentation_reporter.tpb</a></td><td class="green strong">98.89 %</td><td>224</td><td>90</td><td>89</td><td>1</td><td>166</td></tr>

    <tr><td class="strong"><a href="#7BF22C8928D405D114E29619147867B3" class="src_link" title="source\reporters\ut_junit_reporter.tpb">source\reporters\ut_junit_reporter.tpb</a></td><td class="green strong">93.85 %</td><td>156</td><td>65</td><td>61</td><td>4</td><td>15</td></tr>

    <tr><td class="strong"><a href="#6D30D3B0B842FCC6B0842D8E35B4D0B8" class="src_link" title="source\reporters\ut_realtime_reporter.tpb">source\reporters\ut_realtime_reporter.tpb</a></td><td class="green strong">100 %</td><td>286</td><td>138</td><td>138</td><td>0</td><td>31</td></tr>

    <tr><td class="strong"><a href="#8DBA06E904F411C976086F76E852406F" class="src_link" title="source\reporters\ut_sonar_test_reporter.tpb">source\reporters\ut_sonar_test_reporter.tpb</a></td><td class="green strong">97.73 %</td><td>114</td><td>44</td><td>43</td><td>1</td><td>29</td></tr>

    <tr><td class="strong"><a href="#8FA1BAC4515D97F9BD603588112C8EB3" class="src_link" title="source\reporters\ut_teamcity_reporter.tpb">source\reporters\ut_teamcity_reporter.tpb</a></td><td class="green strong">94.44 %</td><td>153</td><td>36</td><td>34</td><td>2</td><td>3</td></tr>

    <tr><td class="strong"><a href="#F4D03BD90D5DE54D36E3104D1E9E1345" class="src_link" title="source\reporters\ut_teamcity_reporter_helper.pkb">source\reporters\ut_teamcity_reporter_helper.pkb</a></td><td class="green strong">93.18 %</td><td>124</td><td>44</td><td>41</td><td>3</td><td>18</td></tr>

    <tr><td class="strong"><a href="#875134AA9841E08D6A462A51BD5228D1" class="src_link" title="source\reporters\ut_tfs_junit_reporter.tpb">source\reporters\ut_tfs_junit_reporter.tpb</a></td><td class="green strong">92.45 %</td><td>149</td><td>53</td><td>49</td><td>4</td><td>9</td></tr>

    <tr><td class="strong"><a href="#1AD77BAF3D3931D97C1DD87611947781" class="src_link" title="source\reporters\ut_xunit_reporter.tpb">source\reporters\ut_xunit_reporter.tpb</a></td><td class="red strong">66.67 %</td><td>31</td><td>3</td><td>2</td><td>1</td><td>1</td></tr>
    </tbody></table></div>

    </div><div id="footer">Generated by <a href="http://github.com/utPLSQL/utPLSQL">utPLSQL v3.1.8.3169-develop</a><br/>Based on <a href="http://github.com/colszowka/simplecov-html">simplecov-html</a> v0.10.0 </div><div class="source_files">
    <div class="source_table" id="6918B76EE25D1A9C1059EC5580543780"><div class="header"> <h3>UT3.UT</h3><h4><span class="green">93.2 %</span> lines covered</h4><div> <b>103</b> relevant lines. <span class="green"><b>96</b> lines covered</span> and <span class="red"><b>7</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  g_nls_date_format varchar2(4000);</code></li>

            <li class="covered" data-hits="1" data-linenumber="21">
              <span class="hits">1</span>
              <code class="sql">  gc_fail_on_errors constant boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  g_result_line_no binary_integer;</code></li>

            <li class="covered" data-hits="1" data-linenumber="24">
              <span class="hits">1</span>
              <code class="sql">  g_result_lines   ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  function version return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="117" data-linenumber="28">
              <span class="hits">117</span>
              <code class="sql">    return ut_runner.version();</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  function expect(a_actual in anydata, a_message varchar2 := null) return ut_expectation_compound is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="109" data-linenumber="33">
              <span class="hits">109</span>
              <code class="sql">    return ut_expectation_compound(ut_data_value_anydata(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  function expect(a_actual in blob, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="23" data-linenumber="38">
              <span class="hits">23</span>
              <code class="sql">    return ut_expectation(ut_data_value_blob(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  function expect(a_actual in boolean, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="43">
              <span class="hits">29</span>
              <code class="sql">    return ut_expectation(ut_data_value_boolean(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  function expect(a_actual in clob, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="48" data-linenumber="48">
              <span class="hits">48</span>
              <code class="sql">    return ut_expectation(ut_data_value_clob(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  function expect(a_actual in date, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="42" data-linenumber="53">
              <span class="hits">42</span>
              <code class="sql">    return ut_expectation(ut_data_value_date(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  function expect(a_actual in number, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="122" data-linenumber="58">
              <span class="hits">122</span>
              <code class="sql">    return ut_expectation(ut_data_value_number(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  function expect(a_actual in timestamp_unconstrained, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="42" data-linenumber="63">
              <span class="hits">42</span>
              <code class="sql">    return ut_expectation(ut_data_value_timestamp(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  function expect(a_actual in timestamp_ltz_unconstrained, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="44" data-linenumber="68">
              <span class="hits">44</span>
              <code class="sql">    return ut_expectation(ut_data_value_timestamp_ltz(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  function expect(a_actual in timestamp_tz_unconstrained, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="40" data-linenumber="73">
              <span class="hits">40</span>
              <code class="sql">    return ut_expectation(ut_data_value_timestamp_tz(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  function expect(a_actual in varchar2, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="57" data-linenumber="78">
              <span class="hits">57</span>
              <code class="sql">    return ut_expectation(ut_data_value_varchar2(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  function expect(a_actual in sys_refcursor, a_message varchar2 := null) return ut_expectation_compound is</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="153" data-linenumber="83">
              <span class="hits">153</span>
              <code class="sql">    return ut_expectation_compound(ut_data_value_refcursor(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  function expect(a_actual in yminterval_unconstrained, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="34" data-linenumber="88">
              <span class="hits">34</span>
              <code class="sql">    return ut_expectation(ut_data_value_yminterval(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  function expect(a_actual in dsinterval_unconstrained, a_message varchar2 := null) return ut_expectation is</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="34" data-linenumber="93">
              <span class="hits">34</span>
              <code class="sql">    return ut_expectation(ut_data_value_dsinterval(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">  function expect(a_actual in json_element_t , a_message varchar2 := null) return ut_expectation_json is</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="23" data-linenumber="98">
              <span class="hits">23</span>
              <code class="sql">    return ut_expectation_json(ut_data_value_json(a_actual), a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  procedure fail(a_message in varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="103">
              <span class="hits">1</span>
              <code class="sql">    ut_expectation_processor.report_failure(a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">  procedure raise_if_packages_invalidated is</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">    e_package_invalidated exception;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">    pragma exception_init (e_package_invalidated, -04068);</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="113" data-linenumber="110">
              <span class="hits">113</span>
              <code class="sql">    if ut_expectation_processor.invalidation_exception_found() then</code></li>

            <li class="covered" data-hits="1" data-linenumber="111">
              <span class="hits">1</span>
              <code class="sql">      ut_expectation_processor.reset_invalidation_exception();</code></li>

            <li class="covered" data-hits="1" data-linenumber="112">
              <span class="hits">1</span>
              <code class="sql">      raise e_package_invalidated;</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">  procedure run_autonomous(</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">    a_paths ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">    a_reporter in out nocopy ut_reporter_base,</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">    a_color_console integer,</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">    a_coverage_schemes ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">    a_source_file_mappings ut_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">    a_test_file_mappings ut_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">    a_include_objects ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">    a_exclude_objects ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">    a_client_character_set varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">    a_random_test_order     integer,</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">    a_random_test_order_seed     positive,</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="102" data-linenumber="133">
              <span class="hits">102</span>
              <code class="sql">    a_reporter := coalesce(a_reporter,ut_documentation_reporter());</code></li>

            <li class="covered" data-hits="102" data-linenumber="134">
              <span class="hits">102</span>
              <code class="sql">    ut_runner.run(</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">      a_paths,</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">      ut_reporters(a_reporter),</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">      ut_utils.int_to_boolean(a_color_console),</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">      a_source_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">      a_test_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">      gc_fail_on_errors,</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">      false,</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">      ut_utils.int_to_boolean(a_random_test_order),</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="101" data-linenumber="150">
              <span class="hits">101</span>
              <code class="sql">    rollback;</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">  procedure run_autonomous(</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">    a_paths ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">    a_reporter in out nocopy ut_reporter_base,</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">    a_color_console integer,</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">    a_coverage_schemes ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">    a_source_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">    a_test_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">    a_include_objects ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">    a_exclude_objects ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">    a_client_character_set varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">    a_random_test_order    integer,</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">    a_random_test_order_seed    positive,</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="169">
              <span class="hits">10</span>
              <code class="sql">    a_reporter := coalesce(a_reporter,ut_documentation_reporter());</code></li>

            <li class="covered" data-hits="10" data-linenumber="170">
              <span class="hits">10</span>
              <code class="sql">    ut_runner.run(</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">      a_paths,</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">      ut_reporters(a_reporter),</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">      ut_utils.int_to_boolean(a_color_console),</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">      ut_file_mapper.build_file_mappings(a_source_files),</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">      ut_file_mapper.build_file_mappings(a_test_files),</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">      gc_fail_on_errors,</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">      false,</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">      ut_utils.int_to_boolean(a_random_test_order),</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="10" data-linenumber="186">
              <span class="hits">10</span>
              <code class="sql">    rollback;</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">  function get_report_outputs( a_cursor sys_refcursor ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">    l_clob      clob;</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">    l_item_type varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">    l_result    varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="18750" data-linenumber="194">
              <span class="hits">18750</span>
              <code class="sql">    if g_result_line_no is null then</code></li>

            <li class="covered" data-hits="16627" data-linenumber="195">
              <span class="hits">16627</span>
              <code class="sql">      fetch a_cursor into l_clob, l_item_type;</code></li>

            <li class="covered" data-hits="16627" data-linenumber="196">
              <span class="hits">16627</span>
              <code class="sql">      if a_cursor%notfound then</code></li>

            <li class="covered" data-hits="81" data-linenumber="197">
              <span class="hits">81</span>
              <code class="sql">        close a_cursor;</code></li>

            <li class="covered" data-hits="81" data-linenumber="198">
              <span class="hits">81</span>
              <code class="sql">        g_result_line_no := null;</code></li>

            <li class="covered" data-hits="81" data-linenumber="199">
              <span class="hits">81</span>
              <code class="sql">        g_result_lines   := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="81" data-linenumber="200">
              <span class="hits">81</span>
              <code class="sql">        raise_if_packages_invalidated();</code></li>

            <li class="covered" data-hits="80" data-linenumber="201">
              <span class="hits">80</span>
              <code class="sql">        raise no_data_found;</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="16546" data-linenumber="203">
              <span class="hits">16546</span>
              <code class="sql">      g_result_lines   := ut_utils.clob_to_table(l_clob, ut_utils.gc_max_storage_varchar2_len);</code></li>

            <li class="covered" data-hits="16546" data-linenumber="204">
              <span class="hits">16546</span>
              <code class="sql">      g_result_line_no := g_result_lines.first;</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql"></code></li>

            <li class="covered" data-hits="18669" data-linenumber="207">
              <span class="hits">18669</span>
              <code class="sql">    if g_result_line_no is not null then</code></li>

            <li class="covered" data-hits="18669" data-linenumber="208">
              <span class="hits">18669</span>
              <code class="sql">      l_result         := g_result_lines(g_result_line_no);</code></li>

            <li class="covered" data-hits="18669" data-linenumber="209">
              <span class="hits">18669</span>
              <code class="sql">      g_result_line_no := g_result_lines.next(g_result_line_no);</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="18669" data-linenumber="211">
              <span class="hits">18669</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql">  function run(</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">    a_color_console integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">    a_source_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">    a_test_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">    a_random_test_order     integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql">  ) return ut_varchar2_rows pipelined is</code></li>

            <li class="covered" data-hits="3" data-linenumber="227">
              <span class="hits">3</span>
              <code class="sql">    l_reporter  ut_reporter_base := a_reporter;</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">    l_results   sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="230">
              <span class="hits">3</span>
              <code class="sql">    run_autonomous(</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">      ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql">      l_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">      a_source_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">      a_test_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="3" data-linenumber="244">
              <span class="hits">3</span>
              <code class="sql">    if l_reporter is of (ut_output_reporter_base) then</code></li>

            <li class="covered" data-hits="3" data-linenumber="245">
              <span class="hits">3</span>
              <code class="sql">      l_results := treat(l_reporter as ut_output_reporter_base).get_lines_cursor();</code></li>

            <li class="covered" data-hits="90" data-linenumber="246">
              <span class="hits">90</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="90" data-linenumber="247">
              <span class="hits">90</span>
              <code class="sql">        pipe row( get_report_outputs( l_results ) );</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql">    end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="250">
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="251">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql">  function run(</code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql">    a_color_console integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">    a_source_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">    a_test_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="259">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="262">
            <code class="sql">    a_random_test_order     integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">  ) return ut_varchar2_rows pipelined is</code></li>

            <li class="covered" data-hits="1" data-linenumber="266">
              <span class="hits">1</span>
              <code class="sql">    l_reporter  ut_reporter_base := a_reporter;</code></li>

            <li class="never" data-hits="" data-linenumber="267">
            <code class="sql">    l_results   sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="268">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="269">
              <span class="hits">1</span>
              <code class="sql">    run_autonomous(</code></li>

            <li class="never" data-hits="" data-linenumber="270">
            <code class="sql">      ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">      l_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql">      a_source_files,</code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql">      a_test_files,</code></li>

            <li class="never" data-hits="" data-linenumber="276">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="278">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="279">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="280">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="282">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="283">
              <span class="hits">1</span>
              <code class="sql">    if l_reporter is of (ut_output_reporter_base) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="284">
              <span class="hits">1</span>
              <code class="sql">      l_results := treat(l_reporter as ut_output_reporter_base).get_lines_cursor();</code></li>

            <li class="covered" data-hits="30" data-linenumber="285">
              <span class="hits">30</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="30" data-linenumber="286">
              <span class="hits">30</span>
              <code class="sql">        pipe row( get_report_outputs( l_results ) );</code></li>

            <li class="never" data-hits="" data-linenumber="287">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="288">
            <code class="sql">    end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="289">
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="291">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="292">
            <code class="sql">  function run(</code></li>

            <li class="never" data-hits="" data-linenumber="293">
            <code class="sql">    a_paths ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="294">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="295">
            <code class="sql">    a_color_console integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="296">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="297">
            <code class="sql">    a_source_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="298">
            <code class="sql">    a_test_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="299">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="300">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="301">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="302">
            <code class="sql">    a_random_test_order     integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="303">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="304">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="305">
            <code class="sql">  ) return ut_varchar2_rows pipelined is</code></li>

            <li class="covered" data-hits="6" data-linenumber="306">
              <span class="hits">6</span>
              <code class="sql">    l_reporter  ut_reporter_base := a_reporter;</code></li>

            <li class="never" data-hits="" data-linenumber="307">
            <code class="sql">    l_results   sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="308">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="309">
              <span class="hits">6</span>
              <code class="sql">    run_autonomous(</code></li>

            <li class="never" data-hits="" data-linenumber="310">
            <code class="sql">      a_paths,</code></li>

            <li class="never" data-hits="" data-linenumber="311">
            <code class="sql">      l_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="312">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="313">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="314">
            <code class="sql">      a_source_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="315">
            <code class="sql">      a_test_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="317">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="318">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="320">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="321">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="322">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="6" data-linenumber="323">
              <span class="hits">6</span>
              <code class="sql">    if l_reporter is of (ut_output_reporter_base) then</code></li>

            <li class="covered" data-hits="6" data-linenumber="324">
              <span class="hits">6</span>
              <code class="sql">      l_results := treat(l_reporter as ut_output_reporter_base).get_lines_cursor();</code></li>

            <li class="covered" data-hits="158" data-linenumber="325">
              <span class="hits">158</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="158" data-linenumber="326">
              <span class="hits">158</span>
              <code class="sql">        pipe row( get_report_outputs( l_results ) );</code></li>

            <li class="never" data-hits="" data-linenumber="327">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="328">
            <code class="sql">    end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="329">
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="330">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="331">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="332">
            <code class="sql">  function run(</code></li>

            <li class="never" data-hits="" data-linenumber="333">
            <code class="sql">    a_paths ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="334">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="335">
            <code class="sql">    a_color_console integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="336">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="337">
            <code class="sql">    a_source_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="338">
            <code class="sql">    a_test_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="339">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="340">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="341">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="342">
            <code class="sql">    a_random_test_order     integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="343">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="344">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="345">
            <code class="sql">  ) return ut_varchar2_rows pipelined is</code></li>

            <li class="covered" data-hits="1" data-linenumber="346">
              <span class="hits">1</span>
              <code class="sql">    l_reporter  ut_reporter_base := a_reporter;</code></li>

            <li class="never" data-hits="" data-linenumber="347">
            <code class="sql">    l_results   sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="348">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="349">
              <span class="hits">1</span>
              <code class="sql">    run_autonomous(</code></li>

            <li class="never" data-hits="" data-linenumber="350">
            <code class="sql">      a_paths,</code></li>

            <li class="never" data-hits="" data-linenumber="351">
            <code class="sql">      l_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="352">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="353">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="354">
            <code class="sql">      a_source_files,</code></li>

            <li class="never" data-hits="" data-linenumber="355">
            <code class="sql">      a_test_files,</code></li>

            <li class="never" data-hits="" data-linenumber="356">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="357">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="358">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="359">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="360">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="361">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="362">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="363">
              <span class="hits">1</span>
              <code class="sql">    if l_reporter is of (ut_output_reporter_base) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="364">
              <span class="hits">1</span>
              <code class="sql">      l_results := treat(l_reporter as ut_output_reporter_base).get_lines_cursor();</code></li>

            <li class="covered" data-hits="44" data-linenumber="365">
              <span class="hits">44</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="44" data-linenumber="366">
              <span class="hits">44</span>
              <code class="sql">        pipe row( get_report_outputs( l_results ) );</code></li>

            <li class="never" data-hits="" data-linenumber="367">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="368">
            <code class="sql">    end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="369">
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="370">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="371">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="372">
            <code class="sql">  function run(</code></li>

            <li class="never" data-hits="" data-linenumber="373">
            <code class="sql">    a_path varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="374">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="375">
            <code class="sql">    a_color_console integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="376">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="377">
            <code class="sql">    a_source_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="378">
            <code class="sql">    a_test_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="379">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="380">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="381">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="382">
            <code class="sql">    a_random_test_order     integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="383">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="384">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="385">
            <code class="sql">  ) return ut_varchar2_rows pipelined is</code></li>

            <li class="covered" data-hits="63" data-linenumber="386">
              <span class="hits">63</span>
              <code class="sql">    l_reporter     ut_reporter_base := a_reporter;</code></li>

            <li class="never" data-hits="" data-linenumber="387">
            <code class="sql">    l_results      sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="388">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="63" data-linenumber="389">
              <span class="hits">63</span>
              <code class="sql">    run_autonomous(</code></li>

            <li class="never" data-hits="" data-linenumber="390">
            <code class="sql">      ut_varchar2_list(a_path),</code></li>

            <li class="never" data-hits="" data-linenumber="391">
            <code class="sql">      l_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="392">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="393">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="394">
            <code class="sql">      a_source_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="395">
            <code class="sql">      a_test_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="396">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="397">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="398">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="399">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="400">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="401">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="402">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="62" data-linenumber="403">
              <span class="hits">62</span>
              <code class="sql">    if l_reporter is of (ut_output_reporter_base) then</code></li>

            <li class="covered" data-hits="62" data-linenumber="404">
              <span class="hits">62</span>
              <code class="sql">      l_results := treat(l_reporter as ut_output_reporter_base).get_lines_cursor();</code></li>

            <li class="covered" data-hits="18260" data-linenumber="405">
              <span class="hits">18260</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="18260" data-linenumber="406">
              <span class="hits">18260</span>
              <code class="sql">        pipe row( get_report_outputs( l_results ) );</code></li>

            <li class="never" data-hits="" data-linenumber="407">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="408">
            <code class="sql">    end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="409">
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="410">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="411">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="412">
            <code class="sql">  function run(</code></li>

            <li class="never" data-hits="" data-linenumber="413">
            <code class="sql">    a_path varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="414">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="415">
            <code class="sql">    a_color_console integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="416">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="417">
            <code class="sql">    a_source_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="418">
            <code class="sql">    a_test_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="419">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="420">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="421">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="422">
            <code class="sql">    a_random_test_order     integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="423">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="424">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="425">
            <code class="sql">  ) return ut_varchar2_rows pipelined is</code></li>

            <li class="covered" data-hits="8" data-linenumber="426">
              <span class="hits">8</span>
              <code class="sql">    l_reporter  ut_reporter_base := a_reporter;</code></li>

            <li class="never" data-hits="" data-linenumber="427">
            <code class="sql">    l_results   sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="428">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="429">
              <span class="hits">8</span>
              <code class="sql">    run_autonomous(</code></li>

            <li class="never" data-hits="" data-linenumber="430">
            <code class="sql">      ut_varchar2_list(a_path),</code></li>

            <li class="never" data-hits="" data-linenumber="431">
            <code class="sql">      l_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="432">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="433">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="434">
            <code class="sql">      a_source_files,</code></li>

            <li class="never" data-hits="" data-linenumber="435">
            <code class="sql">      a_test_files,</code></li>

            <li class="never" data-hits="" data-linenumber="436">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="437">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="438">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="439">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="440">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="441">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="442">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="8" data-linenumber="443">
              <span class="hits">8</span>
              <code class="sql">    if l_reporter is of (ut_output_reporter_base) then</code></li>

            <li class="covered" data-hits="8" data-linenumber="444">
              <span class="hits">8</span>
              <code class="sql">      l_results := treat(l_reporter as ut_output_reporter_base).get_lines_cursor();</code></li>

            <li class="covered" data-hits="168" data-linenumber="445">
              <span class="hits">168</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="168" data-linenumber="446">
              <span class="hits">168</span>
              <code class="sql">        pipe row( get_report_outputs( l_results ) );</code></li>

            <li class="never" data-hits="" data-linenumber="447">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="448">
            <code class="sql">    end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="449">
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="450">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="451">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="452">
            <code class="sql">  procedure run(</code></li>

            <li class="never" data-hits="" data-linenumber="453">
            <code class="sql">    a_paths ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="454">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="455">
            <code class="sql">    a_color_console boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="456">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="457">
            <code class="sql">    a_source_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="458">
            <code class="sql">    a_test_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="459">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="460">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="461">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="462">
            <code class="sql">    a_force_manual_rollback boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="463">
            <code class="sql">    a_random_test_order     boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="464">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="465">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="466">
            <code class="sql">  ) is</code></li>

            <li class="covered" data-hits="32" data-linenumber="467">
              <span class="hits">32</span>
              <code class="sql">    l_reporter  ut_reporter_base := a_reporter;</code></li>

            <li class="never" data-hits="" data-linenumber="468">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="32" data-linenumber="469">
              <span class="hits">32</span>
              <code class="sql">    if a_force_manual_rollback then</code></li>

            <li class="covered" data-hits="2" data-linenumber="470">
              <span class="hits">2</span>
              <code class="sql">      l_reporter := coalesce(l_reporter,ut_documentation_reporter());</code></li>

            <li class="covered" data-hits="2" data-linenumber="471">
              <span class="hits">2</span>
              <code class="sql">      ut_runner.run(</code></li>

            <li class="never" data-hits="" data-linenumber="472">
            <code class="sql">        a_paths,</code></li>

            <li class="never" data-hits="" data-linenumber="473">
            <code class="sql">        ut_reporters(l_reporter),</code></li>

            <li class="never" data-hits="" data-linenumber="474">
            <code class="sql">        a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="475">
            <code class="sql">        a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="476">
            <code class="sql">        a_source_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="477">
            <code class="sql">        a_test_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="478">
            <code class="sql">        a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="479">
            <code class="sql">        a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="480">
            <code class="sql">        gc_fail_on_errors,</code></li>

            <li class="never" data-hits="" data-linenumber="481">
            <code class="sql">        a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="482">
            <code class="sql">        a_force_manual_rollback,</code></li>

            <li class="never" data-hits="" data-linenumber="483">
            <code class="sql">        a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="484">
            <code class="sql">        a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="485">
            <code class="sql">        a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="486">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="487">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="30" data-linenumber="488">
              <span class="hits">30</span>
              <code class="sql">      run_autonomous(</code></li>

            <li class="never" data-hits="" data-linenumber="489">
            <code class="sql">        a_paths,</code></li>

            <li class="never" data-hits="" data-linenumber="490">
            <code class="sql">        l_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="491">
            <code class="sql">        ut_utils.boolean_to_int(a_color_console),</code></li>

            <li class="never" data-hits="" data-linenumber="492">
            <code class="sql">        a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="493">
            <code class="sql">        a_source_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="494">
            <code class="sql">        a_test_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="495">
            <code class="sql">        a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="496">
            <code class="sql">        a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="497">
            <code class="sql">        a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="498">
            <code class="sql">        ut_utils.boolean_to_int(a_random_test_order),</code></li>

            <li class="never" data-hits="" data-linenumber="499">
            <code class="sql">        a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="500">
            <code class="sql">        a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="501">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="502">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="32" data-linenumber="503">
              <span class="hits">32</span>
              <code class="sql">    if l_reporter is of (ut_output_reporter_base) then</code></li>

            <li class="covered" data-hits="32" data-linenumber="504">
              <span class="hits">32</span>
              <code class="sql">        treat(l_reporter as ut_output_reporter_base).lines_to_dbms_output();</code></li>

            <li class="never" data-hits="" data-linenumber="505">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="32" data-linenumber="506">
              <span class="hits">32</span>
              <code class="sql">    raise_if_packages_invalidated();</code></li>

            <li class="never" data-hits="" data-linenumber="507">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="508">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="509">
            <code class="sql">  procedure run(</code></li>

            <li class="never" data-hits="" data-linenumber="510">
            <code class="sql">    a_paths ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="511">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="512">
            <code class="sql">    a_color_console boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="513">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="514">
            <code class="sql">    a_source_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="515">
            <code class="sql">    a_test_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="516">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="517">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="518">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="519">
            <code class="sql">    a_force_manual_rollback boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="520">
            <code class="sql">    a_random_test_order     boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="521">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="522">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="523">
            <code class="sql">  ) is</code></li>

            <li class="covered" data-hits="4" data-linenumber="524">
              <span class="hits">4</span>
              <code class="sql">    l_reporter  ut_reporter_base := a_reporter;</code></li>

            <li class="never" data-hits="" data-linenumber="525">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="526">
              <span class="hits">4</span>
              <code class="sql">    ut.run(</code></li>

            <li class="never" data-hits="" data-linenumber="527">
            <code class="sql">      a_paths,</code></li>

            <li class="never" data-hits="" data-linenumber="528">
            <code class="sql">      l_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="529">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="530">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="531">
            <code class="sql">      ut_file_mapper.build_file_mappings(a_source_files),</code></li>

            <li class="never" data-hits="" data-linenumber="532">
            <code class="sql">      ut_file_mapper.build_file_mappings(a_test_files),</code></li>

            <li class="never" data-hits="" data-linenumber="533">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="534">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="535">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="536">
            <code class="sql">      a_force_manual_rollback,</code></li>

            <li class="never" data-hits="" data-linenumber="537">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="538">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="539">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="540">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="541">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="542">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="543">
            <code class="sql">  procedure run(</code></li>

            <li class="never" data-hits="" data-linenumber="544">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="545">
            <code class="sql">    a_color_console boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="546">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="547">
            <code class="sql">    a_source_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="548">
            <code class="sql">    a_test_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="549">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="550">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="551">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="552">
            <code class="sql">    a_force_manual_rollback boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="553">
            <code class="sql">    a_random_test_order     boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="554">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="555">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="556">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="557">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="11" data-linenumber="558">
              <span class="hits">11</span>
              <code class="sql">    ut.run(</code></li>

            <li class="never" data-hits="" data-linenumber="559">
            <code class="sql">      ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="560">
            <code class="sql">      a_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="561">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="562">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="563">
            <code class="sql">      a_source_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="564">
            <code class="sql">      a_test_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="565">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="566">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="567">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="568">
            <code class="sql">      a_force_manual_rollback,</code></li>

            <li class="never" data-hits="" data-linenumber="569">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="570">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="571">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="572">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="573">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="574">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="575">
            <code class="sql">  procedure run(</code></li>

            <li class="never" data-hits="" data-linenumber="576">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="577">
            <code class="sql">    a_color_console boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="578">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="579">
            <code class="sql">    a_source_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="580">
            <code class="sql">    a_test_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="581">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="582">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="583">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="584">
            <code class="sql">    a_force_manual_rollback boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="585">
            <code class="sql">    a_random_test_order     boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="586">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="587">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="588">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="589">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="590">
              <code class="sql">    ut.run(</code></li>

            <li class="never" data-hits="" data-linenumber="591">
            <code class="sql">      ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="592">
            <code class="sql">      a_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="593">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="594">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="595">
            <code class="sql">      a_source_files,</code></li>

            <li class="never" data-hits="" data-linenumber="596">
            <code class="sql">      a_test_files,</code></li>

            <li class="never" data-hits="" data-linenumber="597">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="598">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="599">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="600">
            <code class="sql">      a_force_manual_rollback,</code></li>

            <li class="never" data-hits="" data-linenumber="601">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="602">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="603">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="604">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="605">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="606">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="607">
            <code class="sql">  procedure run(</code></li>

            <li class="never" data-hits="" data-linenumber="608">
            <code class="sql">    a_path varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="609">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="610">
            <code class="sql">    a_color_console boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="611">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="612">
            <code class="sql">    a_source_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="613">
            <code class="sql">    a_test_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="614">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="615">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="616">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="617">
            <code class="sql">    a_force_manual_rollback boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="618">
            <code class="sql">    a_random_test_order     boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="619">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="620">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="621">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="622">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="14" data-linenumber="623">
              <span class="hits">14</span>
              <code class="sql">    ut.run(</code></li>

            <li class="never" data-hits="" data-linenumber="624">
            <code class="sql">      ut_varchar2_list(a_path),</code></li>

            <li class="never" data-hits="" data-linenumber="625">
            <code class="sql">      a_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="626">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="627">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="628">
            <code class="sql">      a_source_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="629">
            <code class="sql">      a_test_file_mappings,</code></li>

            <li class="never" data-hits="" data-linenumber="630">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="631">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="632">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="633">
            <code class="sql">      a_force_manual_rollback,</code></li>

            <li class="never" data-hits="" data-linenumber="634">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="635">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="636">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="637">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="638">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="639">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="640">
            <code class="sql">  procedure run(</code></li>

            <li class="never" data-hits="" data-linenumber="641">
            <code class="sql">    a_path varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="642">
            <code class="sql">    a_reporter ut_reporter_base := null,</code></li>

            <li class="never" data-hits="" data-linenumber="643">
            <code class="sql">    a_color_console boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="644">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="645">
            <code class="sql">    a_source_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="646">
            <code class="sql">    a_test_files ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="647">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="648">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="649">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="650">
            <code class="sql">    a_force_manual_rollback boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="651">
            <code class="sql">    a_random_test_order     boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="652">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="653">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="654">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="655">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="656">
              <span class="hits">3</span>
              <code class="sql">    ut.run(</code></li>

            <li class="never" data-hits="" data-linenumber="657">
            <code class="sql">      ut_varchar2_list(a_path),</code></li>

            <li class="never" data-hits="" data-linenumber="658">
            <code class="sql">      a_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="659">
            <code class="sql">      a_color_console,</code></li>

            <li class="never" data-hits="" data-linenumber="660">
            <code class="sql">      a_coverage_schemes,</code></li>

            <li class="never" data-hits="" data-linenumber="661">
            <code class="sql">      a_source_files,</code></li>

            <li class="never" data-hits="" data-linenumber="662">
            <code class="sql">      a_test_files,</code></li>

            <li class="never" data-hits="" data-linenumber="663">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="664">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="665">
            <code class="sql">      a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="666">
            <code class="sql">      a_force_manual_rollback,</code></li>

            <li class="never" data-hits="" data-linenumber="667">
            <code class="sql">      a_random_test_order,</code></li>

            <li class="never" data-hits="" data-linenumber="668">
            <code class="sql">      a_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="669">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="670">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="671">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="672">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="673">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="674">
            <code class="sql">  procedure set_nls is</code></li>

            <li class="never" data-hits="" data-linenumber="675">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="676">
              <span class="hits">4</span>
              <code class="sql">    if g_nls_date_format is null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="677">
              <span class="hits">4</span>
              <code class="sql">      select nsp.value</code></li>

            <li class="never" data-hits="" data-linenumber="678">
            <code class="sql">       into g_nls_date_format</code></li>

            <li class="never" data-hits="" data-linenumber="679">
            <code class="sql">       from nls_session_parameters nsp</code></li>

            <li class="never" data-hits="" data-linenumber="680">
            <code class="sql">      where parameter = &apos;NLS_DATE_FORMAT&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="681">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="4" data-linenumber="682">
              <span class="hits">4</span>
              <code class="sql">    execute immediate &apos;alter session set nls_date_format = &apos;&apos;&apos;||ut_utils.gc_date_format||&apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="683">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="684">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="685">
            <code class="sql">  procedure reset_nls is</code></li>

            <li class="never" data-hits="" data-linenumber="686">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="687">
              <span class="hits">4</span>
              <code class="sql">    if g_nls_date_format is not null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="688">
              <span class="hits">4</span>
              <code class="sql">      execute immediate &apos;alter session set nls_date_format = &apos;&apos;&apos;||g_nls_date_format||&apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="689">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="4" data-linenumber="690">
              <span class="hits">4</span>
              <code class="sql">    g_nls_date_format := null;</code></li>

            <li class="never" data-hits="" data-linenumber="691">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="692">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="693">
            <code class="sql">end ut;</code></li>
</ol></pre></div>
    <div class="source_table" id="C959261D9A8948B1FFB339572C909CE5"><div class="header"> <h3>UT3.UT_RUNNER</h3><h4><span class="green">93.5 %</span> lines covered</h4><div> <b>123</b> relevant lines. <span class="green"><b>115</b> lines covered</span> (including <span class="yellow"><b>1</b> lines partially covered</span> ) and <span class="red"><b>8</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_runner is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">   * Private functions</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">   */</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  function to_ut_object_list(a_names ut_varchar2_list, a_schema_names ut_varchar2_rows) return ut_object_names is</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">    l_result      ut_object_names;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">    l_object_name ut_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="27">
              <span class="hits">116</span>
              <code class="sql">    if a_names is not empty then</code></li>

            <li class="covered" data-hits="3" data-linenumber="28">
              <span class="hits">3</span>
              <code class="sql">      l_result := ut_object_names();</code></li>

            <li class="covered" data-hits="6" data-linenumber="29">
              <span class="hits">6</span>
              <code class="sql">      for i in 1 .. a_names.count loop</code></li>

            <li class="covered" data-hits="3" data-linenumber="30">
              <span class="hits">3</span>
              <code class="sql">        l_object_name := ut_object_name(a_names(i));</code></li>

            <li class="covered" data-hits="3" data-linenumber="31">
              <span class="hits">3</span>
              <code class="sql">        if l_object_name.owner is null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="32">
              <code class="sql">          for i in 1 .. cardinality(a_schema_names) loop</code></li>

            <li class="missed" data-hits="0" data-linenumber="33">
              <code class="sql">            l_result.extend;</code></li>

            <li class="missed" data-hits="0" data-linenumber="34">
              <code class="sql">            l_result(l_result.last) := ut_object_name(a_schema_names(i)||&apos;.&apos;||l_object_name.name);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">          end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="3" data-linenumber="37">
              <span class="hits">3</span>
              <code class="sql">          l_result.extend;</code></li>

            <li class="covered" data-hits="3" data-linenumber="38">
              <span class="hits">3</span>
              <code class="sql">          l_result(l_result.last) := l_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="116" data-linenumber="42">
              <span class="hits">116</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  procedure finish_run(a_run ut_run, a_force_manual_rollback boolean) is</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="47">
              <span class="hits">116</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_finalize, a_run);</code></li>

            <li class="covered" data-hits="117" data-linenumber="48">
              <span class="hits">117</span>
              <code class="sql">    ut_metadata.reset_source_definition_cache;</code></li>

            <li class="covered" data-hits="116" data-linenumber="49">
              <span class="hits">116</span>
              <code class="sql">    ut_utils.read_cache_to_dbms_output();</code></li>

            <li class="covered" data-hits="222" data-linenumber="50">
              <span class="hits">222</span>
              <code class="sql">    ut_coverage_helper.cleanup_tmp_table();</code></li>

            <li class="covered" data-hits="232" data-linenumber="51">
              <span class="hits">232</span>
              <code class="sql">    ut_compound_data_helper.cleanup_diff();</code></li>

            <li class="covered" data-hits="116" data-linenumber="52">
              <span class="hits">116</span>
              <code class="sql">    if not a_force_manual_rollback then</code></li>

            <li class="covered" data-hits="114" data-linenumber="53">
              <span class="hits">114</span>
              <code class="sql">      rollback;</code></li>

            <li class="covered" data-hits="114" data-linenumber="54">
              <span class="hits">114</span>
              <code class="sql">      ut_utils.cleanup_session_temp_tables;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">   * Public functions</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">   */</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  function version return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="118" data-linenumber="64">
              <span class="hits">118</span>
              <code class="sql">    return ut_utils.gc_version;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  function version_compatibility_check( a_requested varchar2, a_current varchar2 := null ) return integer is</code></li>

            <li class="covered" data-hits="16" data-linenumber="68">
              <span class="hits">16</span>
              <code class="sql">    l_result boolean := false;</code></li>

            <li class="covered" data-hits="16" data-linenumber="69">
              <span class="hits">16</span>
              <code class="sql">    l_requested ut_utils.t_version := ut_utils.to_version(a_requested);</code></li>

            <li class="covered" data-hits="15" data-linenumber="70">
              <span class="hits">15</span>
              <code class="sql">    l_current ut_utils.t_version := ut_utils.to_version(coalesce(a_current,version()));</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="14" data-linenumber="72">
              <span class="hits">14</span>
              <code class="sql">    if l_requested.major = l_current.major</code></li>

            <li class="covered" data-hits="1" data-linenumber="73">
              <span class="hits">1</span>
              <code class="sql">       and (l_requested.minor &lt; l_current.minor or l_requested.minor is null</code></li>

            <li class="covered" data-hits="1" data-linenumber="74">
              <span class="hits">1</span>
              <code class="sql">            or l_requested.minor = l_current.minor and (l_requested.bugfix &lt;= l_current.bugfix or l_requested.bugfix is null)) then</code></li>

            <li class="covered" data-hits="10" data-linenumber="75">
              <span class="hits">10</span>
              <code class="sql">      l_result := true;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="14" data-linenumber="77">
              <span class="hits">14</span>
              <code class="sql">    return ut_utils.boolean_to_int(l_result);</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  procedure run(</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">    a_paths ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">    a_reporters ut_reporters,</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">    a_color_console boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">    a_coverage_schemes ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">    a_source_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">    a_test_file_mappings ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">    a_include_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    a_exclude_objects ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">    a_fail_on_errors boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">    a_client_character_set varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">    a_force_manual_rollback boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">    a_random_test_order     boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">    a_random_test_order_seed     positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">    a_tags varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">    l_run                     ut_run;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">    l_coverage_schema_names   ut_varchar2_rows;</code></li>

            <li class="covered" data-hits="116" data-linenumber="98">
              <span class="hits">116</span>
              <code class="sql">    l_exclude_object_names    ut_object_names := ut_object_names();</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">    l_include_object_names    ut_object_names;</code></li>

            <li class="covered" data-hits="116" data-linenumber="100">
              <span class="hits">116</span>
              <code class="sql">    l_paths                   ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">    l_random_test_order_seed  positive;</code></li>

            <li class="covered" data-hits="116" data-linenumber="102">
              <span class="hits">116</span>
              <code class="sql">    l_tags                    ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="232" data-linenumber="104">
              <span class="hits">232</span>
              <code class="sql">    ut_event_manager.initialize();</code></li>

            <li class="covered" data-hits="116" data-linenumber="105">
              <span class="hits">116</span>
              <code class="sql">    if a_reporters is not empty then</code></li>

            <li class="covered" data-hits="232" data-linenumber="106">
              <span class="hits">232</span>
              <code class="sql">      for i in 1 .. a_reporters.count loop</code></li>

            <li class="covered" data-hits="116" data-linenumber="107">
              <span class="hits">116</span>
              <code class="sql">        ut_event_manager.add_listener( a_reporters(i) );</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="110">
              <code class="sql">      ut_event_manager.add_listener( ut_documentation_reporter() );</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="116" data-linenumber="112">
              <span class="hits">116</span>
              <code class="sql">    ut_event_manager.add_listener( ut_session_info() );</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="114">
              <span class="hits">116</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_initialize);</code></li>

            <li class="covered" data-hits="116" data-linenumber="115">
              <span class="hits">116</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_debug, ut_run_info());</code></li>

            <li class="covered" data-hits="116" data-linenumber="116">
              <span class="hits">116</span>
              <code class="sql">    if a_random_test_order_seed is not null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="117">
              <span class="hits">4</span>
              <code class="sql">      l_random_test_order_seed  := a_random_test_order_seed;</code></li>

            <li class="covered" data-hits="112" data-linenumber="118">
              <span class="hits">112</span>
              <code class="sql">    elsif a_random_test_order then</code></li>

            <li class="missed" data-hits="0" data-linenumber="119">
              <code class="sql">      dbms_random.seed( to_char(systimestamp,&apos;yyyyddmmhh24missffff&apos;) );</code></li>

            <li class="missed" data-hits="0" data-linenumber="120">
              <code class="sql">      l_random_test_order_seed := trunc(dbms_random.value(1, 1000000000));</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="116" data-linenumber="122">
              <span class="hits">116</span>
              <code class="sql">    if a_paths is null or a_paths is empty or a_paths.count = 1 and a_paths(1) is null then</code></li>

            <li class="covered" data-hits="21" data-linenumber="123">
              <span class="hits">21</span>
              <code class="sql">      l_paths := ut_varchar2_list(sys_context(&apos;userenv&apos;, &apos;current_schema&apos;));</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="196" data-linenumber="125">
              <span class="hits">196</span>
              <code class="sql">      for i in 1..a_paths.count loop</code></li>

            <li class="covered" data-hits="101" data-linenumber="126">
              <span class="hits">101</span>
              <code class="sql">        l_paths := l_paths multiset union ut_utils.string_to_table(a_string =&gt; a_paths(i),a_delimiter =&gt; &apos;,&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="232" data-linenumber="131">
              <span class="hits">232</span>
              <code class="sql">      ut_expectation_processor.reset_invalidation_exception();</code></li>

            <li class="covered" data-hits="116" data-linenumber="132">
              <span class="hits">116</span>
              <code class="sql">      ut_utils.save_dbms_output_to_cache();</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="134">
              <span class="hits">116</span>
              <code class="sql">      ut_console_reporter_base.set_color_enabled(a_color_console);</code></li>

            <li class="covered" data-hits="116" data-linenumber="135">
              <span class="hits">116</span>
              <code class="sql">      if a_coverage_schemes is not empty then</code></li>

            <li class="covered" data-hits="1" data-linenumber="136">
              <span class="hits">1</span>
              <code class="sql">        l_coverage_schema_names := ut_utils.convert_collection(a_coverage_schemes);</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="115" data-linenumber="138">
              <span class="hits">115</span>
              <code class="sql">        l_coverage_schema_names := ut_suite_manager.get_schema_names(l_paths);</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="141">
              <span class="hits">116</span>
              <code class="sql">      if a_exclude_objects is not empty then</code></li>

            <li class="missed" data-hits="0" data-linenumber="142">
              <code class="sql">        l_exclude_object_names := to_ut_object_list(a_exclude_objects, l_coverage_schema_names);</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="145">
              <span class="hits">116</span>
              <code class="sql">      if a_tags is not null then</code></li>

            <li class="covered" data-hits="16" data-linenumber="146">
              <span class="hits">16</span>
              <code class="sql">        l_tags := l_tags multiset union distinct ut_utils.convert_collection(</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">          ut_utils.trim_list_elements(ut_utils.filter_list(ut_utils.string_to_table(a_tags,&apos;,&apos;),ut_utils.gc_word_no_space))</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="116" data-linenumber="150">
              <span class="hits">116</span>
              <code class="sql">      l_exclude_object_names := l_exclude_object_names multiset union all ut_suite_manager.get_schema_ut_packages(l_coverage_schema_names);</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="152">
              <span class="hits">116</span>
              <code class="sql">      l_include_object_names := to_ut_object_list(a_include_objects, l_coverage_schema_names);</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="154">
              <span class="hits">116</span>
              <code class="sql">      l_run := ut_run(</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">        null,</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">        l_paths,</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">        l_coverage_schema_names,</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">        l_exclude_object_names,</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">        l_include_object_names,</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">        set(a_source_file_mappings),</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">        set(a_test_file_mappings),</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">        a_client_character_set,</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">        l_random_test_order_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">        l_tags</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="167">
              <span class="hits">116</span>
              <code class="sql">      ut_suite_manager.configure_execution_by_path(l_paths, l_run.items, l_random_test_order_seed, l_tags);</code></li>

            <li class="covered" data-hits="115" data-linenumber="168">
              <span class="hits">115</span>
              <code class="sql">      if a_force_manual_rollback then</code></li>

            <li class="covered" data-hits="2" data-linenumber="169">
              <span class="hits">2</span>
              <code class="sql">        l_run.set_rollback_type( a_rollback_type =&gt; ut_utils.gc_rollback_manual, a_force =&gt; true );</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql"></code></li>

            <li class="covered" data-hits="115" data-linenumber="172">
              <span class="hits">115</span>
              <code class="sql">      l_run.do_execute();</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql"></code></li>

            <li class="covered" data-hits="115" data-linenumber="174">
              <span class="hits">115</span>
              <code class="sql">      finish_run(l_run, a_force_manual_rollback);</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">    exception</code></li>

            <li class="covered" data-hits="2" data-linenumber="176">
              <span class="hits">2</span>
              <code class="sql">      when others then</code></li>

            <li class="covered" data-hits="1" data-linenumber="177">
              <span class="hits">1</span>
              <code class="sql">        finish_run(l_run, a_force_manual_rollback);</code></li>

            <li class="covered" data-hits="1" data-linenumber="178">
              <span class="hits">1</span>
              <code class="sql">        dbms_output.put_line(dbms_utility.format_error_backtrace);</code></li>

            <li class="covered" data-hits="1" data-linenumber="179">
              <span class="hits">1</span>
              <code class="sql">        dbms_output.put_line(dbms_utility.format_error_stack);</code></li>

            <li class="covered" data-hits="1" data-linenumber="180">
              <span class="hits">1</span>
              <code class="sql">        raise;</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">    end;</code></li>

            <li class="partcov" data-hits="115" data-blocks="1/2" data-linenumber="182">
                <span class="blocks">1/2</span>
              <span class="hits">115</span>
              <code class="sql">    if a_fail_on_errors and l_run.result in (ut_utils.gc_failure, ut_utils.gc_error) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="183">
              <span class="hits">1</span>
              <code class="sql">      raise_application_error(ut_utils.gc_some_tests_failed, &apos;Some tests failed&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">  procedure rebuild_annotation_cache(a_object_owner varchar2, a_object_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="189">
              <span class="hits">2</span>
              <code class="sql">    ut_annotation_manager.rebuild_annotation_cache(a_object_owner, coalesce(a_object_type,&apos;PACKAGE&apos;));</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">  procedure purge_cache(a_object_owner varchar2 := null, a_object_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="194">
              <span class="hits">1</span>
              <code class="sql">    ut_annotation_manager.purge_cache(a_object_owner, a_object_type);</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">  function get_suites_info(a_owner varchar2 := null, a_package_name varchar2 := null) return ut_suite_items_info pipelined is</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">    l_cursor      sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">    l_results     ut_suite_items_info;</code></li>

            <li class="covered" data-hits="3" data-linenumber="200">
              <span class="hits">3</span>
              <code class="sql">    c_bulk_limit  constant integer := 100;</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="202">
              <span class="hits">3</span>
              <code class="sql">    l_cursor := ut_suite_manager.get_suites_info( nvl(a_owner,sys_context(&apos;userenv&apos;, &apos;current_schema&apos;)), a_package_name );</code></li>

            <li class="covered" data-hits="3" data-linenumber="203">
              <span class="hits">3</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="3" data-linenumber="204">
              <span class="hits">3</span>
              <code class="sql">      fetch l_cursor bulk collect into l_results limit c_bulk_limit;</code></li>

            <li class="covered" data-hits="13" data-linenumber="205">
              <span class="hits">13</span>
              <code class="sql">      for i in 1 .. l_results.count loop</code></li>

            <li class="covered" data-hits="10" data-linenumber="206">
              <span class="hits">10</span>
              <code class="sql">        pipe row (l_results(i));</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="3" data-linenumber="208">
              <span class="hits">3</span>
              <code class="sql">      exit when l_cursor%notfound;</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="3" data-linenumber="210">
              <span class="hits">3</span>
              <code class="sql">    close l_cursor;</code></li>

            <li class="covered" data-hits="3" data-linenumber="211">
              <span class="hits">3</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql">  function is_test(a_owner varchar2, a_package_name varchar2, a_procedure_name varchar2) return boolean is</code></li>

            <li class="covered" data-hits="7" data-linenumber="215">
              <span class="hits">7</span>
              <code class="sql">    l_result      boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="217">
              <span class="hits">7</span>
              <code class="sql">    if a_owner is not null and a_package_name is not null and a_procedure_name is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="219">
              <span class="hits">4</span>
              <code class="sql">      l_result := ut_suite_manager.suite_item_exists( a_owner, a_package_name, a_procedure_name );</code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql"></code></li>

            <li class="covered" data-hits="7" data-linenumber="223">
              <span class="hits">7</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql">  function is_suite(a_owner varchar2, a_package_name varchar2) return boolean is</code></li>

            <li class="covered" data-hits="6" data-linenumber="227">
              <span class="hits">6</span>
              <code class="sql">    l_result      boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="229">
              <span class="hits">6</span>
              <code class="sql">    if a_owner is not null and a_package_name is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="231">
              <span class="hits">4</span>
              <code class="sql">      l_result := ut_suite_manager.suite_item_exists( a_owner, a_package_name );</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql"></code></li>

            <li class="covered" data-hits="6" data-linenumber="235">
              <span class="hits">6</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">  function has_suites(a_owner varchar2) return boolean is</code></li>

            <li class="covered" data-hits="5" data-linenumber="239">
              <span class="hits">5</span>
              <code class="sql">    l_result      boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="241">
              <span class="hits">5</span>
              <code class="sql">    if a_owner is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="243">
              <span class="hits">4</span>
              <code class="sql">      l_result := ut_suite_manager.suite_item_exists( a_owner );</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql"></code></li>

            <li class="covered" data-hits="5" data-linenumber="247">
              <span class="hits">5</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql">  function get_reporters_list return tt_reporters_info pipelined is</code></li>

            <li class="covered" data-hits="1" data-linenumber="251">
              <span class="hits">1</span>
              <code class="sql">    l_owner       varchar2(128) := upper(ut_utils.ut_owner());</code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql">    l_reporters   ut_reporters_info;</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql">    l_result      t_reporter_rec;</code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="255">
              <span class="hits">4</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="4" data-linenumber="256">
              <span class="hits">4</span>
              <code class="sql">      l_reporters := ut_utils.get_child_reporters( l_reporters );</code></li>

            <li class="covered" data-hits="4" data-linenumber="257">
              <span class="hits">4</span>
              <code class="sql">      exit when l_reporters is null or l_reporters.count = 0;</code></li>

            <li class="covered" data-hits="18" data-linenumber="258">
              <span class="hits">18</span>
              <code class="sql">      for i in 1 .. l_reporters.count loop</code></li>

            <li class="covered" data-hits="15" data-linenumber="259">
              <span class="hits">15</span>
              <code class="sql">        if l_reporters(i).is_instantiable = &apos;Y&apos; then</code></li>

            <li class="covered" data-hits="12" data-linenumber="260">
              <span class="hits">12</span>
              <code class="sql">          l_result.reporter_object_name := l_owner||&apos;.&apos;||l_reporters(i).object_name;</code></li>

            <li class="covered" data-hits="12" data-linenumber="261">
              <span class="hits">12</span>
              <code class="sql">          l_result.is_output_reporter   := l_reporters(i).is_output_reporter;</code></li>

            <li class="covered" data-hits="12" data-linenumber="262">
              <span class="hits">12</span>
              <code class="sql">          pipe row( l_result );</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="266">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="267">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="268">
            <code class="sql">  function hash_suite_path(a_path varchar2, a_random_seed positiven) return varchar2 is</code></li>

            <li class="covered" data-hits="16" data-linenumber="269">
              <span class="hits">16</span>
              <code class="sql">    l_start_pos pls_integer := 1;</code></li>

            <li class="covered" data-hits="16" data-linenumber="270">
              <span class="hits">16</span>
              <code class="sql">    l_end_pos   pls_integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">    l_result    varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">    l_item      varchar2(4000);</code></li>

            <li class="covered" data-hits="16" data-linenumber="273">
              <span class="hits">16</span>
              <code class="sql">    l_at_end    boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="16" data-linenumber="275">
              <span class="hits">16</span>
              <code class="sql">    if a_random_seed is null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="276">
              <code class="sql">      l_result := a_path;</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="16" data-linenumber="278">
              <span class="hits">16</span>
              <code class="sql">    if a_path is not null then</code></li>

            <li class="covered" data-hits="36" data-linenumber="279">
              <span class="hits">36</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="36" data-linenumber="280">
              <span class="hits">36</span>
              <code class="sql">        l_end_pos := instr(a_path,&apos;.&apos;,l_start_pos);</code></li>

            <li class="covered" data-hits="36" data-linenumber="281">
              <span class="hits">36</span>
              <code class="sql">        if l_end_pos = 0 then</code></li>

            <li class="covered" data-hits="16" data-linenumber="282">
              <span class="hits">16</span>
              <code class="sql">          l_end_pos := length(a_path)+1;</code></li>

            <li class="covered" data-hits="16" data-linenumber="283">
              <span class="hits">16</span>
              <code class="sql">          l_at_end  := true;</code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="36" data-linenumber="285">
              <span class="hits">36</span>
              <code class="sql">        l_item := substr(a_path,l_start_pos,l_end_pos-l_start_pos);</code></li>

            <li class="covered" data-hits="36" data-linenumber="286">
              <span class="hits">36</span>
              <code class="sql">        if l_item is not null then</code></li>

            <li class="covered" data-hits="36" data-linenumber="287">
              <span class="hits">36</span>
              <code class="sql">          l_result  :=</code></li>

            <li class="never" data-hits="" data-linenumber="288">
            <code class="sql">            l_result ||</code></li>

            <li class="never" data-hits="" data-linenumber="289">
            <code class="sql">              ut_utils.get_hash( to_char( dbms_utility.get_hash_value( l_item, 1, a_random_seed ) ) );</code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="36" data-linenumber="291">
              <span class="hits">36</span>
              <code class="sql">        exit when l_at_end;</code></li>

            <li class="covered" data-hits="20" data-linenumber="292">
              <span class="hits">20</span>
              <code class="sql">        l_result  := l_result || chr(0);</code></li>

            <li class="covered" data-hits="20" data-linenumber="293">
              <span class="hits">20</span>
              <code class="sql">        l_start_pos := l_end_pos + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="294">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="295">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="16" data-linenumber="296">
              <span class="hits">16</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="297">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="298">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="299">
            <code class="sql">end ut_runner;</code></li>
</ol></pre></div>
    <div class="source_table" id="8CE0B3C1013EDAD98751B61966A43E95"><div class="header"> <h3>UT3.UT_SUITE_ITEM_INFO</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>12</b> relevant lines. <span class="green"><b>12</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_suite_item_info is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">  constructor function ut_suite_item_info(a_object_owner varchar2, a_object_name varchar2, a_item_name varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">    a_item_description varchar2, a_item_type varchar2, a_item_line_no integer, a_path varchar2, a_disabled_flag integer,</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    a_tags ut_varchar2_rows) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="22">
              <span class="hits">10</span>
              <code class="sql">    self.object_owner     := a_object_owner;</code></li>

            <li class="covered" data-hits="10" data-linenumber="23">
              <span class="hits">10</span>
              <code class="sql">    self.object_name      := a_object_name;</code></li>

            <li class="covered" data-hits="10" data-linenumber="24">
              <span class="hits">10</span>
              <code class="sql">    self.item_name        := a_item_name;</code></li>

            <li class="covered" data-hits="10" data-linenumber="25">
              <span class="hits">10</span>
              <code class="sql">    self.item_description := a_item_description;</code></li>

            <li class="covered" data-hits="10" data-linenumber="26">
              <span class="hits">10</span>
              <code class="sql">    self.item_type        := a_item_type;</code></li>

            <li class="covered" data-hits="10" data-linenumber="27">
              <span class="hits">10</span>
              <code class="sql">    self.item_line_no     := a_item_line_no;</code></li>

            <li class="covered" data-hits="10" data-linenumber="28">
              <span class="hits">10</span>
              <code class="sql">    self.path             := a_path;</code></li>

            <li class="covered" data-hits="10" data-linenumber="29">
              <span class="hits">10</span>
              <code class="sql">    self.disabled_flag    := a_disabled_flag;</code></li>

            <li class="covered" data-hits="10" data-linenumber="30">
              <span class="hits">10</span>
              <code class="sql">    self.tags             := case</code></li>

            <li class="covered" data-hits="1" data-linenumber="31">
              <span class="hits">1</span>
              <code class="sql">                               when a_tags is null then null</code></li>

            <li class="covered" data-hits="1" data-linenumber="32">
              <span class="hits">1</span>
              <code class="sql">                               when a_tags.count = 0 then null</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">                               else ut_utils.to_string(ut_utils.table_to_clob(a_tags,&apos;,&apos;) ,a_quote_char =&gt; null)</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">                             end;</code></li>

            <li class="covered" data-hits="10" data-linenumber="35">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="FCAE156B39D1E28329A94CAF911AD337"><div class="header"> <h3>UT3.UT_ANNOTATION_CACHE_MANAGER</h3><h4><span class="green">95.12 %</span> lines covered</h4><div> <b>41</b> relevant lines. <span class="green"><b>39</b> lines covered</span> and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_annotation_cache_manager as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  procedure update_cache(a_object ut_annotated_object) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    l_cache_id          integer;</code></li>

            <li class="covered" data-hits="415" data-linenumber="21">
              <span class="hits">415</span>
              <code class="sql">    l_timestamp         timestamp := systimestamp;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="415" data-linenumber="24">
              <span class="hits">415</span>
              <code class="sql">    update ut_annotation_cache_schema s</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">       set s.max_parse_time = l_timestamp</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">         where s.object_type = a_object.object_type and s.object_owner = a_object.object_owner;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql"></code></li>

            <li class="covered" data-hits="415" data-linenumber="28">
              <span class="hits">415</span>
              <code class="sql">    if sql%rowcount = 0 then</code></li>

            <li class="covered" data-hits="5" data-linenumber="29">
              <span class="hits">5</span>
              <code class="sql">      insert into ut_annotation_cache_schema s</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">      (object_owner, object_type, max_parse_time)</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">      values (a_object.object_owner, a_object.object_type, l_timestamp);</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    -- if not in trigger, or object has annotations</code></li>

            <li class="covered" data-hits="415" data-linenumber="35">
              <span class="hits">415</span>
              <code class="sql">    if ora_sysevent is null or a_object.annotations is not null and a_object.annotations.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="covered" data-hits="376" data-linenumber="37">
              <span class="hits">376</span>
              <code class="sql">      update ut_annotation_cache_info i</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">         set i.parse_time = l_timestamp,</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">             i.is_annotated = case when a_object.annotations is not empty then &apos;Y&apos; else &apos;N&apos; end</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">       where (i.object_owner, i.object_name, i.object_type)</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">          in ((a_object.object_owner, a_object.object_name, a_object.object_type))</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">        returning cache_id into l_cache_id;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql"></code></li>

            <li class="covered" data-hits="376" data-linenumber="44">
              <span class="hits">376</span>
              <code class="sql">      if sql%rowcount = 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="covered" data-hits="85" data-linenumber="46">
              <span class="hits">85</span>
              <code class="sql">        insert into ut_annotation_cache_info</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">               (cache_id, object_owner, object_name, object_type, parse_time, is_annotated)</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">        values (ut_annotation_cache_seq.nextval, a_object.object_owner, a_object.object_name, a_object.object_type, l_timestamp,</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">                case when a_object.annotations is not empty then &apos;Y&apos; else &apos;N&apos; end</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">        )</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">          returning cache_id into l_cache_id;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="covered" data-hits="415" data-linenumber="56">
              <span class="hits">415</span>
              <code class="sql">    delete from ut_annotation_cache c where cache_id = l_cache_id;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql"></code></li>

            <li class="covered" data-hits="415" data-linenumber="58">
              <span class="hits">415</span>
              <code class="sql">    if a_object.annotations is not null and a_object.annotations.count &gt; 0 then</code></li>

            <li class="covered" data-hits="376" data-linenumber="59">
              <span class="hits">376</span>
              <code class="sql">      insert into ut_annotation_cache</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">             (cache_id, annotation_position, annotation_name, annotation_text, subobject_name)</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">      select l_cache_id, a.position, a.name, a.text, a.subobject_name</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">        from table(a_object.annotations) a;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="415" data-linenumber="64">
              <span class="hits">415</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  procedure reset_objects_cache(a_objects ut_annotation_objs_cache_info) is</code></li>

            <li class="covered" data-hits="85" data-linenumber="69">
              <span class="hits">85</span>
              <code class="sql">    l_timestamp         timestamp := systimestamp;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql"></code></li>

            <li class="covered" data-hits="85" data-linenumber="73">
              <span class="hits">85</span>
              <code class="sql">    delete from ut_annotation_cache c</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">     where c.cache_id</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">        in (select i.cache_id</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">              from ut_annotation_cache_info i</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">              join table (a_objects) o</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">                on o.object_name = i.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">               and o.object_type = i.object_type</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">               and o.object_owner = i.object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">           );</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="covered" data-hits="85" data-linenumber="83">
              <span class="hits">85</span>
              <code class="sql">    update ut_annotation_cache_schema s</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">       set s.max_parse_time = l_timestamp</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">    where (s.object_owner, s.object_type)</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">      in (</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">         select o.object_owner, o.object_type</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">           from table(a_objects) o</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">         );</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql"></code></li>

            <li class="covered" data-hits="85" data-linenumber="91">
              <span class="hits">85</span>
              <code class="sql">    if sql%rowcount = 0 then</code></li>

            <li class="covered" data-hits="1" data-linenumber="92">
              <span class="hits">1</span>
              <code class="sql">      insert into ut_annotation_cache_schema s</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">      (object_owner, object_type, max_parse_time)</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">      select distinct o.object_owner, o.object_type, l_timestamp</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">        from table(a_objects) o;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql"></code></li>

            <li class="covered" data-hits="85" data-linenumber="98">
              <span class="hits">85</span>
              <code class="sql">    merge into ut_annotation_cache_info i</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">      using (select o.object_name, o.object_type, o.object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">               from table(a_objects) o ) o</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">         on (o.object_name = i.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">             and o.object_type = i.object_type</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">             and o.object_owner = i.object_owner)</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">     when matched then</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">       update</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">       set parse_time = l_timestamp,</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">           is_annotated = &apos;N&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">     when not matched then insert</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">            (cache_id, object_owner, object_name, object_type, parse_time, is_annotated)</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">     values (ut_annotation_cache_seq.nextval, o.object_owner, o.object_name, o.object_type, l_timestamp, &apos;N&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql"></code></li>

            <li class="covered" data-hits="85" data-linenumber="112">
              <span class="hits">85</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">  function get_cached_objects_list(a_object_owner varchar2, a_object_type varchar2, a_parsed_after timestamp := null) return ut_annotation_objs_cache_info is</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">    l_result ut_annotation_objs_cache_info;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="893" data-linenumber="118">
              <span class="hits">893</span>
              <code class="sql">      select ut_annotation_obj_cache_info(</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">        object_owner  =&gt; i.object_owner,</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">        object_name   =&gt; i.object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">        object_type   =&gt; i.object_type,</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">        needs_refresh =&gt; &apos;N&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">        parse_time    =&gt; i.parse_time</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">      bulk collect into l_result</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">      from ut_annotation_cache_info i</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">      where i.object_owner = a_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">        and i.object_type  = a_object_type</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">        and (i.parse_time &gt; a_parsed_after or a_parsed_after is null);</code></li>

            <li class="covered" data-hits="893" data-linenumber="130">
              <span class="hits">893</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">  function get_cache_schema_info(a_object_owner varchar2, a_object_type varchar2) return t_cache_schema_info is</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">    l_result t_cache_schema_info;</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="327" data-linenumber="137">
              <span class="hits">327</span>
              <code class="sql">      select *</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">        into l_result</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">        from ut_annotation_cache_schema s</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">       where s.object_type = a_object_type and s.object_owner = a_object_owner;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">    exception</code></li>

            <li class="covered" data-hits="6" data-linenumber="142">
              <span class="hits">6</span>
              <code class="sql">      when no_data_found then</code></li>

            <li class="covered" data-hits="3" data-linenumber="143">
              <span class="hits">3</span>
              <code class="sql">        null;</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">    end;</code></li>

            <li class="covered" data-hits="327" data-linenumber="145">
              <span class="hits">327</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">  procedure set_fully_refreshed(a_object_owner varchar2, a_object_type varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="13" data-linenumber="151">
              <span class="hits">13</span>
              <code class="sql">    update ut_annotation_cache_schema s</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">       set s.full_refresh_time = s.max_parse_time</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">     where s.object_owner = a_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">       and s.object_type  = a_object_type;</code></li>

            <li class="covered" data-hits="13" data-linenumber="155">
              <span class="hits">13</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">  procedure remove_from_cache(a_objects ut_annotation_objs_cache_info) is</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql"></code></li>

            <li class="covered" data-hits="388" data-linenumber="162">
              <span class="hits">388</span>
              <code class="sql">    delete from ut_annotation_cache_info i</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">     where exists (</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">             select 1 from table (a_objects) o</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">              where o.object_name = i.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">                and o.object_type = i.object_type</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">                and o.object_owner = i.object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">             );</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql"></code></li>

            <li class="covered" data-hits="388" data-linenumber="170">
              <span class="hits">388</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">  function get_annotations_parsed_since(a_object_owner varchar2, a_object_type varchar2, a_parsed_after timestamp) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">    l_results sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="317" data-linenumber="176">
              <span class="hits">317</span>
              <code class="sql">    open l_results for</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">      select ut_annotated_object(</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">               i.object_owner, i.object_name, i.object_type, i.parse_time,</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">               cast(</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">                 collect(</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">                   ut_annotation(</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">                     c.annotation_position, c.annotation_name, c.annotation_text, c.subobject_name</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">                   ) order by c.annotation_position</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">                 ) as ut_annotations</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">               )</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">             ) as annotated_object</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">        from ut_annotation_cache_info i</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">        join ut_annotation_cache c on i.cache_id = c.cache_id</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">       where i.object_owner = a_object_owner and i.object_type = a_object_type</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">         and (i.parse_time &gt; a_parsed_after or a_parsed_after is null)</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">       group by i.object_owner, i.object_type, i.object_name, i.parse_time;</code></li>

            <li class="covered" data-hits="317" data-linenumber="192">
              <span class="hits">317</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">  procedure purge_cache(a_object_owner varchar2, a_object_type varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">    l_filter       varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">    l_cache_filter varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="200">
              <span class="hits">2</span>
              <code class="sql">    if a_object_owner is null and a_object_type is null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="201">
              <code class="sql">      l_filter := &apos;:a_object_owner is null and :a_object_type is null&apos;;</code></li>

            <li class="missed" data-hits="0" data-linenumber="202">
              <code class="sql">      l_cache_filter := l_filter;</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="2" data-linenumber="204">
              <span class="hits">2</span>
              <code class="sql">      l_filter := case when a_object_owner is null then &apos;:a_object_owner is null&apos; else &apos;object_owner = :a_object_owner&apos; end;</code></li>

            <li class="covered" data-hits="2" data-linenumber="205">
              <span class="hits">2</span>
              <code class="sql">      l_filter := l_filter || &apos; and &apos; || case when a_object_type is null then &apos;:a_object_type is null&apos; else &apos;object_type = :a_object_type&apos; end;</code></li>

            <li class="covered" data-hits="2" data-linenumber="206">
              <span class="hits">2</span>
              <code class="sql">      l_cache_filter := &apos; c.cache_id in (select i.cache_id from ut_annotation_cache_info i where &apos; || l_filter || &apos; )&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="2" data-linenumber="208">
              <span class="hits">2</span>
              <code class="sql">    execute immediate &apos;delete from ut_annotation_cache c where &apos; || l_cache_filter</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">    using a_object_owner, a_object_type;</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="211">
              <span class="hits">2</span>
              <code class="sql">    execute immediate &apos; delete from ut_annotation_cache_info i where &apos; || l_filter</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">    using a_object_owner, a_object_type;</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="214">
              <span class="hits">2</span>
              <code class="sql">    execute immediate &apos; delete from ut_annotation_cache_schema s where &apos; || l_filter</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">    using a_object_owner, a_object_type;</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="217">
              <span class="hits">2</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="F46B21C3C1C4547EC9C1166D2CC3D9EF"><div class="header"> <h3>UT3.UT_ANNOTATION_MANAGER</h3><h4><span class="green">98.86 %</span> lines covered</h4><div> <b>88</b> relevant lines. <span class="green"><b>87</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_annotation_manager as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  ------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  --private definitions</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  function user_can_see_whole_schema( a_schema_name varchar2 ) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="345" data-linenumber="24">
              <span class="hits">345</span>
              <code class="sql">    return sys_context(&apos;userenv&apos;,&apos;current_schema&apos;) = a_schema_name</code></li>

            <li class="covered" data-hits="1" data-linenumber="25">
              <span class="hits">1</span>
              <code class="sql">      or ut_metadata.user_has_execute_any_proc()</code></li>

            <li class="covered" data-hits="1" data-linenumber="26">
              <span class="hits">1</span>
              <code class="sql">      or ut_metadata.is_object_visible(&apos;dba_objects&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  function get_non_existing_objects( a_object_owner varchar2, a_object_type varchar2 ) return ut_annotation_objs_cache_info is</code></li>

            <li class="covered" data-hits="265" data-linenumber="30">
              <span class="hits">265</span>
              <code class="sql">    l_objects_view     varchar2(200) := ut_metadata.get_objects_view_name();</code></li>

            <li class="covered" data-hits="265" data-linenumber="31">
              <span class="hits">265</span>
              <code class="sql">    l_object_to_delete ut_annotation_objs_cache_info := ut_annotation_objs_cache_info();</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    l_cached_objects   ut_annotation_objs_cache_info;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="265" data-linenumber="34">
              <span class="hits">265</span>
              <code class="sql">    l_cached_objects := ut_annotation_cache_manager.get_cached_objects_list( a_object_owner, a_object_type );</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="covered" data-hits="265" data-linenumber="36">
              <span class="hits">265</span>
              <code class="sql">    if l_cached_objects is not empty then</code></li>

            <li class="covered" data-hits="262" data-linenumber="37">
              <span class="hits">262</span>
              <code class="sql">      execute immediate &apos;select /*+ cardinality(i &apos;||ut_utils.scale_cardinality(cardinality(l_cached_objects))||&apos;) */</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">                  value(i)</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">             from table( :l_data ) i</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">             where</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">               not exists (</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">                  select 1  from &apos;||l_objects_view||q&apos;[ o</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">                   where o.owner       = i.object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">                     and o.object_name = i.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">                     and o.object_type = i.object_type</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">                     and o.owner       = &apos;]&apos;||ut_utils.qualified_sql_name(a_object_owner)||q&apos;[&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">                     and o.object_type = &apos;]&apos;||ut_utils.qualified_sql_name(a_object_type)||q&apos;[&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">                  )]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">        bulk collect into l_object_to_delete</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">        using l_cached_objects;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="265" data-linenumber="52">
              <span class="hits">265</span>
              <code class="sql">    return l_object_to_delete;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  function get_objects_to_refresh(</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    a_object_owner   varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">    a_object_type    varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">    a_modified_after timestamp</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  ) return ut_annotation_objs_cache_info is</code></li>

            <li class="covered" data-hits="327" data-linenumber="60">
              <span class="hits">327</span>
              <code class="sql">    l_ut_owner       varchar2(250) := ut_utils.ut_owner;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">    l_refresh_needed boolean;</code></li>

            <li class="covered" data-hits="327" data-linenumber="62">
              <span class="hits">327</span>
              <code class="sql">    l_objects_view   varchar2(200) := ut_metadata.get_objects_view_name();</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    l_cached_objects ut_annotation_objs_cache_info;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    l_result         ut_annotation_objs_cache_info;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="327" data-linenumber="66">
              <span class="hits">327</span>
              <code class="sql">    ut_event_manager.trigger_event( &apos;get_objects_to_refresh - start&apos; );</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql"></code></li>

            <li class="covered" data-hits="327" data-linenumber="68">
              <span class="hits">327</span>
              <code class="sql">    l_refresh_needed := ( ut_trigger_check.is_alive() = false ) or a_modified_after is null;</code></li>

            <li class="covered" data-hits="327" data-linenumber="69">
              <span class="hits">327</span>
              <code class="sql">    l_cached_objects := ut_annotation_cache_manager.get_cached_objects_list( a_object_owner, a_object_type, a_modified_after );</code></li>

            <li class="covered" data-hits="327" data-linenumber="70">
              <span class="hits">327</span>
              <code class="sql">    if l_refresh_needed then</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">      --limit the list to objects that exist and are visible to the invoking user</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">      --enrich the list by info about cache validity</code></li>

            <li class="covered" data-hits="29" data-linenumber="73">
              <span class="hits">29</span>
              <code class="sql">      execute immediate</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">        &apos;select /*+ cardinality(i &apos;||ut_utils.scale_cardinality(cardinality(l_cached_objects))||&apos;) */</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">                &apos;||l_ut_owner||q&apos;[.ut_annotation_obj_cache_info(</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">                  object_owner  =&gt; o.owner,</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">                  object_name   =&gt; o.object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">                  object_type   =&gt; o.object_type,</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">                  needs_refresh =&gt; &apos;Y&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">                  parse_time    =&gt; c.parse_time</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">                )</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">           from ]&apos;||l_objects_view||&apos; o</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">           left join table( cast(:l_cached_objects as &apos;||l_ut_owner||q&apos;[.ut_annotation_objs_cache_info ) ) c</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">             on o.owner       = c.object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">            and o.object_name = c.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">            and o.object_type = c.object_type</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">          where o.owner       = &apos;]&apos;||ut_utils.qualified_sql_name(a_object_owner)||q&apos;[&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">            and o.object_type = &apos;]&apos;||ut_utils.qualified_sql_name(a_object_type)||q&apos;[&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">            and case when o.last_ddl_time &lt; cast(c.parse_time as date) then &apos;N&apos; else &apos;Y&apos; end = &apos;Y&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">            and ]&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="91">
              <span class="hits">1</span>
              <code class="sql">          || case</code></li>

            <li class="covered" data-hits="1" data-linenumber="92">
              <span class="hits">1</span>
              <code class="sql">             when a_modified_after is null</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">               then &apos;:a_modified_after is null&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">             else &apos;o.last_ddl_time &gt;= cast(:a_modified_after as date)&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">             end</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">        bulk collect into l_result using l_cached_objects, a_modified_after;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="298" data-linenumber="98">
              <span class="hits">298</span>
              <code class="sql">      l_result := l_cached_objects;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="327" data-linenumber="100">
              <span class="hits">327</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;get_objects_to_refresh - end (count=&apos;||l_result.count||&apos;)&apos;);</code></li>

            <li class="covered" data-hits="327" data-linenumber="101">
              <span class="hits">327</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">  function get_sources_to_annotate(a_object_owner varchar2, a_object_type varchar2, a_objects_to_refresh ut_annotation_objs_cache_info) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">    l_result       sys_refcursor;</code></li>

            <li class="covered" data-hits="85" data-linenumber="106">
              <span class="hits">85</span>
              <code class="sql">    l_sources_view varchar2(200) := ut_metadata.get_source_view_name();</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">    l_card         natural;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="85" data-linenumber="109">
              <span class="hits">85</span>
              <code class="sql">    l_card := ut_utils.scale_cardinality(cardinality(a_objects_to_refresh));</code></li>

            <li class="covered" data-hits="85" data-linenumber="110">
              <span class="hits">85</span>
              <code class="sql">    open l_result for</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">      q&apos;[select x.name, x.text</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">          from (select /*+ cardinality( r ]&apos;||l_card||q&apos;[ )*/</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">                       s.name, s.text, s.line,</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">                       max(case when s.text like &apos;%--%\%%&apos; escape &apos;\&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">                                 and regexp_like(s.text,&apos;^\s*--\s*%&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">                           then &apos;Y&apos; else &apos;N&apos; end</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">                          )</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">                         over(partition by s.name) is_annotated</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">                  from table(:a_objects_to_refresh) r</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">                  join ]&apos;||l_sources_view||q&apos;[ s</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">                    on s.name  = r.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">                   and s.owner = r.object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">                   and s.type  = r.object_type</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">                 where s.owner = &apos;]&apos;||ut_utils.qualified_sql_name(a_object_owner)||q&apos;[&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">                   and s.type  = &apos;]&apos;||ut_utils.qualified_sql_name(a_object_type)||q&apos;[&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">               ) x</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">          where x.is_annotated = &apos;Y&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">          order by x.name, x.line]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">      using a_objects_to_refresh;</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql"></code></li>

            <li class="covered" data-hits="85" data-linenumber="131">
              <span class="hits">85</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">  procedure build_annot_cache_for_sources(</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">    a_object_owner     varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">    a_object_type      varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">    a_sources_cursor   sys_refcursor</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">    l_annotations         ut_annotations;</code></li>

            <li class="covered" data-hits="216" data-linenumber="140">
              <span class="hits">216</span>
              <code class="sql">    c_lines_fetch_limit   constant integer := 10000;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">    l_lines               dbms_preprocessor.source_lines_t;</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">    l_names               dbms_preprocessor.source_lines_t;</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">    l_name                varchar2(250);</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">    l_object_lines        dbms_preprocessor.source_lines_t;</code></li>

            <li class="covered" data-hits="216" data-linenumber="145">
              <span class="hits">216</span>
              <code class="sql">    l_parse_time          date := sysdate;</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="216" data-linenumber="148">
              <span class="hits">216</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="216" data-linenumber="149">
              <span class="hits">216</span>
              <code class="sql">      fetch a_sources_cursor bulk collect into l_names, l_lines limit c_lines_fetch_limit;</code></li>

            <li class="covered" data-hits="16196" data-linenumber="150">
              <span class="hits">16196</span>
              <code class="sql">      for i in 1 .. l_names.count loop</code></li>

            <li class="covered" data-hits="15980" data-linenumber="151">
              <span class="hits">15980</span>
              <code class="sql">        if l_names(i) != l_name then</code></li>

            <li class="covered" data-hits="211" data-linenumber="152">
              <span class="hits">211</span>
              <code class="sql">          l_annotations := ut_annotation_parser.parse_object_annotations(l_object_lines, a_object_type);</code></li>

            <li class="covered" data-hits="211" data-linenumber="153">
              <span class="hits">211</span>
              <code class="sql">          ut_annotation_cache_manager.update_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">            ut_annotated_object(a_object_owner, l_name, a_object_type, l_parse_time, l_annotations)</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">          );</code></li>

            <li class="covered" data-hits="211" data-linenumber="156">
              <span class="hits">211</span>
              <code class="sql">          l_object_lines.delete;</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql"></code></li>

            <li class="covered" data-hits="15980" data-linenumber="159">
              <span class="hits">15980</span>
              <code class="sql">        l_name  := l_names(i);</code></li>

            <li class="covered" data-hits="15980" data-linenumber="160">
              <span class="hits">15980</span>
              <code class="sql">        l_object_lines(l_object_lines.count+1) := l_lines(i);</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="216" data-linenumber="162">
              <span class="hits">216</span>
              <code class="sql">      exit when a_sources_cursor%notfound;</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="216" data-linenumber="165">
              <span class="hits">216</span>
              <code class="sql">    if a_sources_cursor%rowcount &gt; 0 then</code></li>

            <li class="covered" data-hits="204" data-linenumber="166">
              <span class="hits">204</span>
              <code class="sql">      l_annotations := ut_annotation_parser.parse_object_annotations(l_object_lines, a_object_type);</code></li>

            <li class="covered" data-hits="204" data-linenumber="167">
              <span class="hits">204</span>
              <code class="sql">      ut_annotation_cache_manager.update_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">        ut_annotated_object(a_object_owner, l_name, a_object_type, l_parse_time, l_annotations)</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">      );</code></li>

            <li class="covered" data-hits="204" data-linenumber="170">
              <span class="hits">204</span>
              <code class="sql">      l_object_lines.delete;</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="216" data-linenumber="172">
              <span class="hits">216</span>
              <code class="sql">    close a_sources_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">  procedure validate_annotation_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">    a_object_owner   varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">    a_object_type    varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">    a_modified_after timestamp := null</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">    l_objects_to_refresh ut_annotation_objs_cache_info;</code></li>

            <li class="covered" data-hits="327" data-linenumber="182">
              <span class="hits">327</span>
              <code class="sql">    l_modified_after     timestamp := a_modified_after;</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="327" data-linenumber="184">
              <span class="hits">327</span>
              <code class="sql">    if ut_annotation_cache_manager.get_cache_schema_info(a_object_owner, a_object_type).full_refresh_time is null then</code></li>

            <li class="covered" data-hits="10" data-linenumber="185">
              <span class="hits">10</span>
              <code class="sql">      l_modified_after := null;</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql"></code></li>

            <li class="covered" data-hits="327" data-linenumber="188">
              <span class="hits">327</span>
              <code class="sql">    l_objects_to_refresh := get_objects_to_refresh(a_object_owner, a_object_type, l_modified_after);</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql"></code></li>

            <li class="covered" data-hits="327" data-linenumber="190">
              <span class="hits">327</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;validate_annotation_cache - start (l_objects_to_refresh.count = &apos;||l_objects_to_refresh.count||&apos;)&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql"></code></li>

            <li class="covered" data-hits="327" data-linenumber="193">
              <span class="hits">327</span>
              <code class="sql">    if user_can_see_whole_schema( a_object_owner ) then</code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql">      --Remove non existing objects from cache only when user can see whole schema</code></li>

            <li class="covered" data-hits="265" data-linenumber="195">
              <span class="hits">265</span>
              <code class="sql">      ut_annotation_cache_manager.remove_from_cache( get_non_existing_objects( a_object_owner, a_object_type ) );</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">    --if some source needs parsing and putting into cache</code></li>

            <li class="covered" data-hits="327" data-linenumber="199">
              <span class="hits">327</span>
              <code class="sql">    if l_objects_to_refresh.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">      --Delete annotations for objects that are to be refreshed</code></li>

            <li class="covered" data-hits="85" data-linenumber="201">
              <span class="hits">85</span>
              <code class="sql">      ut_annotation_cache_manager.reset_objects_cache(l_objects_to_refresh);</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql">      --Rebuild cache from objects source</code></li>

            <li class="covered" data-hits="85" data-linenumber="203">
              <span class="hits">85</span>
              <code class="sql">      build_annot_cache_for_sources(</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">        a_object_owner, a_object_type,</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql">        get_sources_to_annotate(a_object_owner, a_object_type, l_objects_to_refresh)</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="208">
            <code class="sql"></code></li>

            <li class="covered" data-hits="327" data-linenumber="209">
              <span class="hits">327</span>
              <code class="sql">    if l_modified_after is null then</code></li>

            <li class="covered" data-hits="18" data-linenumber="210">
              <span class="hits">18</span>
              <code class="sql">      if user_can_see_whole_schema( a_object_owner ) then</code></li>

            <li class="covered" data-hits="13" data-linenumber="211">
              <span class="hits">13</span>
              <code class="sql">        ut_annotation_cache_manager.set_fully_refreshed( a_object_owner, a_object_type );</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">      else</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql">        -- if user cannot see full schema - we dont mark it as fully refreshed</code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql">        -- it will get refreshed each time until someone with proper privs will refresh it</code></li>

            <li class="covered" data-hits="5" data-linenumber="215">
              <span class="hits">5</span>
              <code class="sql">        null;</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="327" data-linenumber="218">
              <span class="hits">327</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;validate_annotation_cache - end&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">  ------------------------------------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">  --public definitions</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">  ------------------------------------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">  procedure rebuild_annotation_cache(a_object_owner varchar2, a_object_type varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="226">
              <span class="hits">10</span>
              <code class="sql">    validate_annotation_cache( a_object_owner, a_object_type );</code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">  procedure trigger_obj_annotation_rebuild is</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">    l_sql_text         ora_name_list_t;</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">    l_parts            binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql">    l_restricted_users ora_name_list_t;</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql">    function get_source_from_sql_text(a_object_name varchar2, a_sql_text ora_name_list_t, a_parts binary_integer) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">      l_sql_clob    clob;</code></li>

            <li class="covered" data-hits="128" data-linenumber="236">
              <span class="hits">128</span>
              <code class="sql">      l_sql_lines   ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">      l_result      sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="128" data-linenumber="239">
              <span class="hits">128</span>
              <code class="sql">      if a_parts &gt; 0 then</code></li>

            <li class="covered" data-hits="747" data-linenumber="240">
              <span class="hits">747</span>
              <code class="sql">        for i in 1..a_parts loop</code></li>

            <li class="covered" data-hits="619" data-linenumber="241">
              <span class="hits">619</span>
              <code class="sql">          ut_utils.append_to_clob(l_sql_clob, a_sql_text(i));</code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql">        end loop;</code></li>

            <li class="covered" data-hits="128" data-linenumber="243">
              <span class="hits">128</span>
              <code class="sql">        l_sql_clob := ut_utils.replace_multiline_comments(l_sql_clob);</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql">        -- replace comment lines that contain &quot;-- create or replace&quot;</code></li>

            <li class="covered" data-hits="128" data-linenumber="245">
              <span class="hits">128</span>
              <code class="sql">        l_sql_clob := regexp_replace(l_sql_clob, &apos;^.*[-]{2,}\s*create(\s+or\s+replace).*$&apos;, modifier =&gt; &apos;mi&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql">        -- remove the &quot;create [or replace] [[non]editionable] &quot; so that we have only &quot;type|package&quot; for parsing</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">        -- needed for dbms_preprocessor</code></li>

            <li class="covered" data-hits="128" data-linenumber="248">
              <span class="hits">128</span>
              <code class="sql">        l_sql_clob := regexp_replace(l_sql_clob, &apos;^(.*?\s*create(\s+or\s+replace)?(\s+(editionable|noneditionable))?\s+?)((package|type).*)&apos;, &apos;\5&apos;, 1, 1, &apos;ni&apos;);</code></li>

            <li class="covered" data-hits="128" data-linenumber="249">
              <span class="hits">128</span>
              <code class="sql">        l_sql_lines := ut_utils.convert_collection( ut_utils.clob_to_table(l_sql_clob) );</code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="128" data-linenumber="251">
              <span class="hits">128</span>
              <code class="sql">      open l_result for</code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql">        select a_object_name as name, column_value||chr(10) as text from table(l_sql_lines);</code></li>

            <li class="covered" data-hits="128" data-linenumber="253">
              <span class="hits">128</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">    function get_source_for_object(a_object_owner varchar2, a_object_name varchar2, a_object_type varchar2) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">      l_result       sys_refcursor;</code></li>

            <li class="covered" data-hits="3" data-linenumber="258">
              <span class="hits">3</span>
              <code class="sql">      l_sources_view varchar2(200) := ut_metadata.get_source_view_name();</code></li>

            <li class="never" data-hits="" data-linenumber="259">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="260">
              <span class="hits">3</span>
              <code class="sql">      open l_result for</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql">        q&apos;[select :a_object_name, s.text</code></li>

            <li class="never" data-hits="" data-linenumber="262">
            <code class="sql">             from ]&apos;||l_sources_view||q&apos;[ s</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql">            where s.type  = :a_object_type</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">              and s.owner = :a_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">              and s.name  = :a_object_name</code></li>

            <li class="never" data-hits="" data-linenumber="266">
            <code class="sql">          order by s.line]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="267">
            <code class="sql">        using a_object_name, a_object_type, a_object_owner, a_object_name;</code></li>

            <li class="covered" data-hits="3" data-linenumber="268">
              <span class="hits">3</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="269">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="270">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="254" data-linenumber="272">
              <span class="hits">254</span>
              <code class="sql">    if ora_dict_obj_type in (&apos;PACKAGE&apos;,&apos;PROCEDURE&apos;,&apos;FUNCTION&apos;,&apos;TYPE&apos;) then</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql">      $if dbms_db_version.version &lt; 12 $then</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql">        l_restricted_users := ora_name_list_t(</code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql">          &apos;ANONYMOUS&apos;,&apos;APPQOSSYS&apos;,&apos;AUDSYS&apos;,&apos;DBSFWUSER&apos;,&apos;DBSNMP&apos;,&apos;DIP&apos;,&apos;GGSYS&apos;,&apos;GSMADMIN_INTERNAL&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="276">
            <code class="sql">          &apos;GSMCATUSER&apos;,&apos;GSMUSER&apos;,&apos;ORACLE_OCM&apos;,&apos;OUTLN&apos;,&apos;REMOTE_SCHEDULER_AGENT&apos;,&apos;SYS&apos;,&apos;SYS$UMF&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">          &apos;SYSBACKUP&apos;,&apos;SYSDG&apos;,&apos;SYSKM&apos;,&apos;SYSRAC&apos;,&apos;SYSTEM&apos;,&apos;WMSYS&apos;,&apos;XDB&apos;,&apos;XS$NULL&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="278">
            <code class="sql">      $else</code></li>

            <li class="covered" data-hits="254" data-linenumber="279">
              <span class="hits">254</span>
              <code class="sql">        select username bulk collect into l_restricted_users</code></li>

            <li class="never" data-hits="" data-linenumber="280">
            <code class="sql">          from all_users where oracle_maintained = &apos;Y&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql">      $end</code></li>

            <li class="covered" data-hits="254" data-linenumber="282">
              <span class="hits">254</span>
              <code class="sql">      if ora_dict_obj_owner member of l_restricted_users then</code></li>

            <li class="missed" data-hits="0" data-linenumber="283">
              <code class="sql">        return;</code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="285">
            <code class="sql"></code></li>

            <li class="covered" data-hits="254" data-linenumber="286">
              <span class="hits">254</span>
              <code class="sql">      if ora_sysevent = &apos;CREATE&apos; then</code></li>

            <li class="covered" data-hits="128" data-linenumber="287">
              <span class="hits">128</span>
              <code class="sql">        l_parts := ORA_SQL_TXT(l_sql_text);</code></li>

            <li class="covered" data-hits="128" data-linenumber="288">
              <span class="hits">128</span>
              <code class="sql">        build_annot_cache_for_sources(</code></li>

            <li class="never" data-hits="" data-linenumber="289">
            <code class="sql">          ora_dict_obj_owner, ora_dict_obj_type,</code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">          get_source_from_sql_text(ora_dict_obj_name, l_sql_text, l_parts)</code></li>

            <li class="never" data-hits="" data-linenumber="291">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="126" data-linenumber="292">
              <span class="hits">126</span>
              <code class="sql">      elsif ora_sysevent = &apos;ALTER&apos; then</code></li>

            <li class="covered" data-hits="3" data-linenumber="293">
              <span class="hits">3</span>
              <code class="sql">        build_annot_cache_for_sources(</code></li>

            <li class="never" data-hits="" data-linenumber="294">
            <code class="sql">          ora_dict_obj_owner, ora_dict_obj_type,</code></li>

            <li class="never" data-hits="" data-linenumber="295">
            <code class="sql">          get_source_for_object(ora_dict_obj_owner, ora_dict_obj_name, ora_dict_obj_type)</code></li>

            <li class="never" data-hits="" data-linenumber="296">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="123" data-linenumber="297">
              <span class="hits">123</span>
              <code class="sql">      elsif ora_sysevent = &apos;DROP&apos; then</code></li>

            <li class="covered" data-hits="123" data-linenumber="298">
              <span class="hits">123</span>
              <code class="sql">        ut_annotation_cache_manager.remove_from_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="299">
            <code class="sql">          ut_annotation_objs_cache_info(</code></li>

            <li class="never" data-hits="" data-linenumber="300">
            <code class="sql">            ut_annotation_obj_cache_info(ora_dict_obj_owner, ora_dict_obj_name, ora_dict_obj_type, &apos;Y&apos;, null)</code></li>

            <li class="never" data-hits="" data-linenumber="301">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="302">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="303">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="304">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="305">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="306">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="307">
            <code class="sql">  function get_annotated_objects(a_object_owner varchar2, a_object_type varchar2, a_modified_after timestamp) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="308">
            <code class="sql">    l_cursor                 sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="309">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="317" data-linenumber="310">
              <span class="hits">317</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;get_annotated_objects - start: a_modified_after=&apos;||ut_utils.to_string(a_modified_after));</code></li>

            <li class="covered" data-hits="317" data-linenumber="311">
              <span class="hits">317</span>
              <code class="sql">    validate_annotation_cache(a_object_owner, a_object_type, a_modified_after);</code></li>

            <li class="never" data-hits="" data-linenumber="312">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="313">
            <code class="sql">    --pipe annotations from cache</code></li>

            <li class="covered" data-hits="317" data-linenumber="314">
              <span class="hits">317</span>
              <code class="sql">    l_cursor := ut_annotation_cache_manager.get_annotations_parsed_since(a_object_owner, a_object_type, a_modified_after);</code></li>

            <li class="covered" data-hits="317" data-linenumber="315">
              <span class="hits">317</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;get_annotated_objects - end&apos;);</code></li>

            <li class="covered" data-hits="317" data-linenumber="316">
              <span class="hits">317</span>
              <code class="sql">    return l_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="317">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="318">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">  procedure purge_cache(a_object_owner varchar2, a_object_type varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="320">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="321">
              <span class="hits">2</span>
              <code class="sql">    ut_annotation_cache_manager.purge_cache(a_object_owner, a_object_type);</code></li>

            <li class="never" data-hits="" data-linenumber="322">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="323">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="324">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="F6069FFD93C173EC52E09AFB35DB9DC7"><div class="header"> <h3>UT3.UT_ANNOTATION_PARSER</h3><h4><span class="green">97.26 %</span> lines covered</h4><div> <b>73</b> relevant lines. <span class="green"><b>71</b> lines covered</span> and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_annotation_parser as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  ------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  --private definitions</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  type tt_comment_list is table of varchar2(32767) index by binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="24">
              <span class="hits">1</span>
              <code class="sql">  gc_annotation_qualifier        constant varchar2(1) := &apos;%&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="25">
              <span class="hits">1</span>
              <code class="sql">  gc_annot_comment_pattern       constant varchar2(30) := &apos;^( |&apos;||chr(09)||&apos;)*-- *(&apos;||gc_annotation_qualifier||&apos;.*?)$&apos;; -- chr(09) is a tab character</code></li>

            <li class="covered" data-hits="1" data-linenumber="26">
              <span class="hits">1</span>
              <code class="sql">  gc_comment_replacer_patter     constant varchar2(50) := &apos;{COMMENT#%N%}&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="27">
              <span class="hits">1</span>
              <code class="sql">  gc_comment_replacer_regex_ptrn constant varchar2(25) := &apos;{COMMENT#(\d+)}&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="28">
              <span class="hits">1</span>
              <code class="sql">  gc_regexp_identifier           constant varchar2(50) := &apos;[a-zA-Z][a-zA-Z0-9#_$]*&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="29">
              <span class="hits">1</span>
              <code class="sql">  gc_annotation_block_pattern    constant varchar2(200) := &apos;(({COMMENT#.+}&apos;||chr(10)||&apos;)+)( |&apos;||chr(09)||&apos;)*(procedure|function)\s+(&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">                                                           gc_regexp_identifier || &apos;)&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="31">
              <span class="hits">1</span>
              <code class="sql">  gc_annotation_pattern          constant varchar2(50) := gc_annotation_qualifier || gc_regexp_identifier || &apos;[ &apos;||chr(9)||&apos;]*(\(.*?\)\s*?$)?&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  procedure add_annotation(</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    a_annotations in out nocopy ut_annotations,</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    a_position positiven,</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    a_comment varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    a_subobject_name varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">    l_annotation_str   varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">    l_annotation_text  varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    l_annotation_name  varchar2(1000);</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    -- strip everything except the annotation itself (spaces and others)</code></li>

            <li class="covered" data-hits="6031" data-linenumber="45">
              <span class="hits">6031</span>
              <code class="sql">    l_annotation_str := regexp_substr(a_comment, gc_annotation_pattern, 1, 1, modifier =&gt; &apos;i&apos;);</code></li>

            <li class="covered" data-hits="6031" data-linenumber="46">
              <span class="hits">6031</span>
              <code class="sql">    if l_annotation_str is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">      -- get the annotation name and it&apos;s parameters if present</code></li>

            <li class="covered" data-hits="6031" data-linenumber="49">
              <span class="hits">6031</span>
              <code class="sql">      l_annotation_name := lower(regexp_substr(l_annotation_str ,&apos;%(&apos; || gc_regexp_identifier || &apos;)&apos;, subexpression =&gt; 1));</code></li>

            <li class="covered" data-hits="6031" data-linenumber="50">
              <span class="hits">6031</span>
              <code class="sql">      l_annotation_text := trim(regexp_substr(l_annotation_str, &apos;\((.*?)\)\s*$&apos;, subexpression =&gt; 1));</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql"></code></li>

            <li class="covered" data-hits="6031" data-linenumber="52">
              <span class="hits">6031</span>
              <code class="sql">      a_annotations.extend;</code></li>

            <li class="covered" data-hits="6031" data-linenumber="53">
              <span class="hits">6031</span>
              <code class="sql">      a_annotations( a_annotations.last) :=</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">        ut_annotation(a_position, l_annotation_name, l_annotation_text, a_subobject_name);</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  procedure delete_processed_comments( a_comments in out nocopy tt_comment_list, a_annotations ut_annotations ) is</code></li>

            <li class="covered" data-hits="429" data-linenumber="59">
              <span class="hits">429</span>
              <code class="sql">    l_loop_index       binary_integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="429" data-linenumber="61">
              <span class="hits">429</span>
              <code class="sql">    l_loop_index := a_annotations.first;</code></li>

            <li class="covered" data-hits="4929" data-linenumber="62">
              <span class="hits">4929</span>
              <code class="sql">    while l_loop_index is not null loop</code></li>

            <li class="covered" data-hits="4500" data-linenumber="63">
              <span class="hits">4500</span>
              <code class="sql">      a_comments.delete( a_annotations(l_loop_index).position );</code></li>

            <li class="covered" data-hits="4500" data-linenumber="64">
              <span class="hits">4500</span>
              <code class="sql">      l_loop_index := a_annotations.next( l_loop_index );</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  procedure add_annotations(</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">    a_annotations in out nocopy ut_annotations,</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    a_source varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    a_comments tt_comment_list,</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    a_subobject_name varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  ) is</code></li>

            <li class="covered" data-hits="3705" data-linenumber="74">
              <span class="hits">3705</span>
              <code class="sql">    l_loop_index       binary_integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">    l_annotation_index binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">    -- loop while there are unprocessed comment blocks</code></li>

            <li class="covered" data-hits="8205" data-linenumber="78">
              <span class="hits">8205</span>
              <code class="sql">    while 0 != nvl(regexp_instr(srcstr        =&gt; a_source</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">                               ,pattern       =&gt; gc_comment_replacer_regex_ptrn</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">                               ,occurrence    =&gt; l_loop_index</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">                               ,subexpression =&gt; 1)</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">                  ,0) loop</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">      -- define index of the comment block and get it&apos;s content from cache</code></li>

            <li class="covered" data-hits="4500" data-linenumber="85">
              <span class="hits">4500</span>
              <code class="sql">      l_annotation_index := regexp_substr( a_source ,gc_comment_replacer_regex_ptrn ,1 ,l_loop_index ,subexpression =&gt; 1);</code></li>

            <li class="covered" data-hits="4500" data-linenumber="86">
              <span class="hits">4500</span>
              <code class="sql">      add_annotation( a_annotations, l_annotation_index, a_comments( l_annotation_index ), a_subobject_name );</code></li>

            <li class="covered" data-hits="4500" data-linenumber="87">
              <span class="hits">4500</span>
              <code class="sql">      l_loop_index := l_loop_index + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">  end add_annotations;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  procedure add_procedure_annotations(a_annotations in out nocopy ut_annotations, a_source clob, a_comments in out nocopy tt_comment_list) is</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">    l_proc_comments         varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">    l_proc_name             varchar2(250);</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">    l_annot_proc_ind        number;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">    l_annot_proc_block      varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">    -- loop through procedures and functions of the package and get all the comment blocks just before it&apos;s declaration</code></li>

            <li class="covered" data-hits="429" data-linenumber="99">
              <span class="hits">429</span>
              <code class="sql">    l_annot_proc_ind := 1;</code></li>

            <li class="covered" data-hits="4134" data-linenumber="100">
              <span class="hits">4134</span>
              <code class="sql">    loop</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">      --find annotated procedure index</code></li>

            <li class="covered" data-hits="4134" data-linenumber="102">
              <span class="hits">4134</span>
              <code class="sql">      l_annot_proc_ind := regexp_instr(srcstr     =&gt; a_source</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">                                      ,pattern    =&gt; gc_annotation_block_pattern</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">                                      ,occurrence =&gt; 1</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">                                      ,modifier   =&gt; &apos;i&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">                                      ,position   =&gt; l_annot_proc_ind);</code></li>

            <li class="covered" data-hits="4134" data-linenumber="107">
              <span class="hits">4134</span>
              <code class="sql">      exit when l_annot_proc_ind = 0;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">      --get the annotations with procedure name</code></li>

            <li class="covered" data-hits="3705" data-linenumber="110">
              <span class="hits">3705</span>
              <code class="sql">      l_annot_proc_block := regexp_substr(srcstr     =&gt; a_source</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">                                         ,pattern    =&gt; gc_annotation_block_pattern</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">                                         ,position   =&gt; l_annot_proc_ind</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">                                         ,occurrence =&gt; 1</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">                                         ,modifier   =&gt; &apos;i&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">      --extract the annotations</code></li>

            <li class="covered" data-hits="3705" data-linenumber="117">
              <span class="hits">3705</span>
              <code class="sql">      l_proc_comments := trim(regexp_substr(srcstr        =&gt; l_annot_proc_block</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">                                           ,pattern       =&gt; gc_annotation_block_pattern</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">                                           ,modifier      =&gt; &apos;i&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">                                           ,subexpression =&gt; 1));</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">      --extract the procedure name</code></li>

            <li class="covered" data-hits="3705" data-linenumber="122">
              <span class="hits">3705</span>
              <code class="sql">      l_proc_name     := trim(regexp_substr(srcstr        =&gt; l_annot_proc_block</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">                                           ,pattern       =&gt; gc_annotation_block_pattern</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">                                           ,modifier      =&gt; &apos;i&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">                                           ,subexpression =&gt; 5));</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">      -- parse the comment block for the syntactically correct annotations and store them as an array</code></li>

            <li class="covered" data-hits="3705" data-linenumber="128">
              <span class="hits">3705</span>
              <code class="sql">      add_annotations(a_annotations, l_proc_comments, a_comments, l_proc_name);</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql"></code></li>

            <li class="covered" data-hits="3705" data-linenumber="130">
              <span class="hits">3705</span>
              <code class="sql">      l_annot_proc_ind := instr(a_source, &apos;;&apos;, l_annot_proc_ind + length(l_annot_proc_block) );</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  end add_procedure_annotations;</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">  function extract_and_replace_comments(a_source in out nocopy clob) return tt_comment_list is</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">    l_comments         tt_comment_list;</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">    l_comment_pos      binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">    l_comment_line     binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">    l_comment_replacer varchar2(50);</code></li>

            <li class="covered" data-hits="429" data-linenumber="139">
              <span class="hits">429</span>
              <code class="sql">    l_source           clob := a_source;</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="429" data-linenumber="141">
              <span class="hits">429</span>
              <code class="sql">    l_comment_pos := 1;</code></li>

            <li class="covered" data-hits="6460" data-linenumber="142">
              <span class="hits">6460</span>
              <code class="sql">    loop</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql"></code></li>

            <li class="covered" data-hits="6460" data-linenumber="144">
              <span class="hits">6460</span>
              <code class="sql">      l_comment_pos := regexp_instr(srcstr     =&gt; a_source</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">                                   ,pattern    =&gt; gc_annot_comment_pattern</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">                                   ,occurrence =&gt; 1</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">                                   ,modifier   =&gt; &apos;m&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">                                   ,position   =&gt; l_comment_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql"></code></li>

            <li class="covered" data-hits="6460" data-linenumber="150">
              <span class="hits">6460</span>
              <code class="sql">      exit when l_comment_pos = 0;</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">      -- position index is shifted by 1 because gc_annot_comment_pattern contains ^ as first sign</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">      -- but after instr index already points to the char on that line</code></li>

            <li class="covered" data-hits="6031" data-linenumber="154">
              <span class="hits">6031</span>
              <code class="sql">      l_comment_pos := l_comment_pos-1;</code></li>

            <li class="covered" data-hits="6031" data-linenumber="155">
              <span class="hits">6031</span>
              <code class="sql">      l_comment_line := length(substr(a_source,1,l_comment_pos))-length(replace(substr(a_source,1,l_comment_pos),chr(10)))+1;</code></li>

            <li class="covered" data-hits="6031" data-linenumber="156">
              <span class="hits">6031</span>
              <code class="sql">      l_comments(l_comment_line) := trim(regexp_substr(srcstr        =&gt; a_source</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">                                                            ,pattern       =&gt; gc_annot_comment_pattern</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">                                                            ,occurrence    =&gt; 1</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">                                                            ,position      =&gt; l_comment_pos</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">                                                            ,modifier      =&gt; &apos;m&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">                                                            ,subexpression =&gt; 2));</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql"></code></li>

            <li class="covered" data-hits="6031" data-linenumber="163">
              <span class="hits">6031</span>
              <code class="sql">      l_comment_replacer := replace(gc_comment_replacer_patter, &apos;%N%&apos;, l_comment_line);</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql"></code></li>

            <li class="covered" data-hits="6031" data-linenumber="165">
              <span class="hits">6031</span>
              <code class="sql">      l_source    := regexp_replace(srcstr     =&gt; a_source</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">                                   ,pattern    =&gt; gc_annot_comment_pattern</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">                                   ,replacestr =&gt; l_comment_replacer</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">                                   ,position   =&gt; l_comment_pos</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">                                   ,occurrence =&gt; 1</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">                                   ,modifier   =&gt; &apos;m&apos;);</code></li>

            <li class="covered" data-hits="6031" data-linenumber="171">
              <span class="hits">6031</span>
              <code class="sql">      dbms_lob.freetemporary(a_source);</code></li>

            <li class="covered" data-hits="6031" data-linenumber="172">
              <span class="hits">6031</span>
              <code class="sql">      a_source := l_source;</code></li>

            <li class="covered" data-hits="6031" data-linenumber="173">
              <span class="hits">6031</span>
              <code class="sql">      dbms_lob.freetemporary(l_source);</code></li>

            <li class="covered" data-hits="6031" data-linenumber="174">
              <span class="hits">6031</span>
              <code class="sql">      l_comment_pos := l_comment_pos + length(l_comment_replacer);</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql"></code></li>

            <li class="covered" data-hits="429" data-linenumber="178">
              <span class="hits">429</span>
              <code class="sql">    ut_utils.debug_log(a_source);</code></li>

            <li class="covered" data-hits="429" data-linenumber="179">
              <span class="hits">429</span>
              <code class="sql">    return l_comments;</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">  end extract_and_replace_comments;</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">  ------------------------------------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">  --public definitions</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">  ------------------------------------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">  function parse_object_annotations(a_source clob) return ut_annotations is</code></li>

            <li class="covered" data-hits="429" data-linenumber="187">
              <span class="hits">429</span>
              <code class="sql">    l_source           clob := a_source;</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">    l_comments         tt_comment_list;</code></li>

            <li class="covered" data-hits="429" data-linenumber="189">
              <span class="hits">429</span>
              <code class="sql">    l_annotations      ut_annotations := ut_annotations();</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">    l_result           ut_annotations;</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">    l_comment_index    positive;</code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql"></code></li>

            <li class="covered" data-hits="429" data-linenumber="194">
              <span class="hits">429</span>
              <code class="sql">     l_source := ut_utils.replace_multiline_comments(l_source);</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">    -- replace all single line comments with {COMMENT#12} element and store it&apos;s content for easier processing</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">    -- this call modifies l_source</code></li>

            <li class="covered" data-hits="429" data-linenumber="198">
              <span class="hits">429</span>
              <code class="sql">    l_comments := extract_and_replace_comments(l_source);</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql"></code></li>

            <li class="covered" data-hits="429" data-linenumber="200">
              <span class="hits">429</span>
              <code class="sql">    add_procedure_annotations(l_annotations, l_source, l_comments);</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql"></code></li>

            <li class="covered" data-hits="429" data-linenumber="202">
              <span class="hits">429</span>
              <code class="sql">    delete_processed_comments(l_comments, l_annotations);</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">    --at this point, only the comments not related to procedures are left, so we process them all as top-level</code></li>

            <li class="covered" data-hits="429" data-linenumber="205">
              <span class="hits">429</span>
              <code class="sql">    l_comment_index := l_comments.first;</code></li>

            <li class="covered" data-hits="1960" data-linenumber="206">
              <span class="hits">1960</span>
              <code class="sql">    while l_comment_index is not null loop</code></li>

            <li class="covered" data-hits="1531" data-linenumber="207">
              <span class="hits">1531</span>
              <code class="sql">      add_annotation( l_annotations, l_comment_index, l_comments( l_comment_index ) );</code></li>

            <li class="covered" data-hits="1531" data-linenumber="208">
              <span class="hits">1531</span>
              <code class="sql">      l_comment_index := l_comments.next(l_comment_index);</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql"></code></li>

            <li class="covered" data-hits="429" data-linenumber="211">
              <span class="hits">429</span>
              <code class="sql">    dbms_lob.freetemporary(l_source);</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql"></code></li>

            <li class="covered" data-hits="429" data-linenumber="213">
              <span class="hits">429</span>
              <code class="sql">    select value(x) bulk collect into l_result from table(l_annotations) x order by x.position;</code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql"></code></li>

            <li class="covered" data-hits="429" data-linenumber="215">
              <span class="hits">429</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">  end parse_object_annotations;</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">  function parse_object_annotations(a_source_lines dbms_preprocessor.source_lines_t, a_object_type varchar2) return ut_annotations is</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">    l_processed_lines dbms_preprocessor.source_lines_t;</code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql">    l_source          clob;</code></li>

            <li class="covered" data-hits="416" data-linenumber="221">
              <span class="hits">416</span>
              <code class="sql">    l_annotations     ut_annotations := ut_annotations();</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">    ex_package_is_wrapped exception;</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">    pragma exception_init(ex_package_is_wrapped, -24241);</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">    source_text_is_empty exception;</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">    pragma exception_init(source_text_is_empty, -24236);</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="416" data-linenumber="227">
              <span class="hits">416</span>
              <code class="sql">    if a_source_lines.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">      --convert to post-processed source clob</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">      begin</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">        --get post-processed source</code></li>

            <li class="covered" data-hits="416" data-linenumber="231">
              <span class="hits">416</span>
              <code class="sql">        if a_object_type = &apos;TYPE&apos; then</code></li>

            <li class="covered" data-hits="10" data-linenumber="232">
              <span class="hits">10</span>
              <code class="sql">          l_processed_lines := a_source_lines;</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="406" data-linenumber="234">
              <span class="hits">406</span>
              <code class="sql">          l_processed_lines := sys.dbms_preprocessor.get_post_processed_source(a_source_lines);</code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">        --convert to clob</code></li>

            <li class="covered" data-hits="16678" data-linenumber="237">
              <span class="hits">16678</span>
              <code class="sql">        for i in 1..l_processed_lines.count loop</code></li>

            <li class="covered" data-hits="16262" data-linenumber="238">
              <span class="hits">16262</span>
              <code class="sql">          ut_utils.append_to_clob(l_source, replace(l_processed_lines(i), chr(13)||chr(10), chr(10)));</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">        --parse annotations</code></li>

            <li class="covered" data-hits="416" data-linenumber="241">
              <span class="hits">416</span>
              <code class="sql">        l_annotations := parse_object_annotations(l_source);</code></li>

            <li class="covered" data-hits="416" data-linenumber="242">
              <span class="hits">416</span>
              <code class="sql">        dbms_lob.freetemporary(l_source);</code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">      exception</code></li>

            <li class="missed" data-hits="0" data-linenumber="244">
              <code class="sql">        when ex_package_is_wrapped or source_text_is_empty then</code></li>

            <li class="missed" data-hits="0" data-linenumber="245">
              <code class="sql">          null;</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql">      end;</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="416" data-linenumber="248">
              <span class="hits">416</span>
              <code class="sql">    return l_annotations;</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="251">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="7ED435A27B4E0806FAE83566912511B7"><div class="header"> <h3>UT3.UT_TRIGGER_CHECK</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>7</b> relevant lines. <span class="green"><b>7</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_trigger_check is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="19">
              <span class="hits">1</span>
              <code class="sql">  gc_check_object_name constant varchar2(128) := &apos;UT3_TRIGGER_ALIVE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="20">
              <span class="hits">1</span>
              <code class="sql">  g_is_trigger_live    boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  function is_alive return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="418" data-linenumber="25">
              <span class="hits">418</span>
              <code class="sql">    execute immediate &apos;create or replace synonym &apos;||ut_utils.ut_owner||&apos;.&apos;||gc_check_object_name||&apos; for no_object&apos;;</code></li>

            <li class="covered" data-hits="418" data-linenumber="26">
              <span class="hits">418</span>
              <code class="sql">    return g_is_trigger_live;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  procedure is_alive is</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="404" data-linenumber="31">
              <span class="hits">404</span>
              <code class="sql">    if ora_dict_obj_owner is not null and ora_dict_obj_name is not null and ora_dict_obj_type is not null then</code></li>

            <li class="covered" data-hits="400" data-linenumber="32">
              <span class="hits">400</span>
              <code class="sql">      g_is_trigger_live := true;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="4" data-linenumber="34">
              <span class="hits">4</span>
              <code class="sql">      g_is_trigger_live := false;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="22ABEC318CF611BFDCD258BCED32E601"><div class="header"> <h3>UT3.UT_COVERAGE</h3><h4><span class="yellow">88.1 %</span> lines covered</h4><div> <b>84</b> relevant lines. <span class="green"><b>74</b> lines covered</span> and <span class="red"><b>10</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_coverage is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  g_coverage_id   tt_coverage_id_arr;</code></li>

            <li class="covered" data-hits="1" data-linenumber="20">
              <span class="hits">1</span>
              <code class="sql">  g_develop_mode  boolean not null := false;</code></li>

            <li class="covered" data-hits="1" data-linenumber="21">
              <span class="hits">1</span>
              <code class="sql">  g_is_started    boolean not null := false;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  procedure set_develop_mode(a_develop_mode in boolean) is</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="25">
              <span class="hits">2</span>
              <code class="sql">      g_develop_mode := a_develop_mode;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  function get_coverage_id(a_coverage_type in varchar2) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="20" data-linenumber="30">
              <span class="hits">20</span>
              <code class="sql">      return g_coverage_id(a_coverage_type);</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  function is_develop_mode return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="52" data-linenumber="35">
              <span class="hits">52</span>
              <code class="sql">      return g_develop_mode;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  function get_cov_sources_sql(a_coverage_options ut_coverage_options, a_skip_objects  ut_object_names) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_result                varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">    l_full_name             varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">    l_join_mappings         varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    l_filters               varchar2(32767);</code></li>

            <li class="covered" data-hits="10" data-linenumber="43">
              <span class="hits">10</span>
              <code class="sql">    l_mappings_cardinality  integer := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="45">
              <span class="hits">10</span>
              <code class="sql">    l_result := q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    with</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">      trigger_source_offsets as (</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">        select min(s.line) - 1 offset, s.owner, s.name, s.type</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">          from {sources_view} s</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">         where s.type = &apos;TRIGGER&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">           {filters}</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">           and (lower(s.text) like &apos;%begin%&apos; or lower(s.text) like &apos;%declare%&apos; or lower(s.text) like &apos;%compound%&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">         group by s.owner, s.name, s.type</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      ),</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">      sources as (</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">        select /*+ cardinality(f {mappings_cardinality}) */</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">               {l_full_name} as full_name, s.owner, s.name,</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">               s.line - case when s.type = &apos;TRIGGER&apos; then o.offset else 0 end as line,</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">               s.text</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">          from {sources_view} s {join_file_mappings}</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">          left join trigger_source_offsets o</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">            on (s.owner = o.owner and s.name = o.name and s.type = o.type)</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">         where s.type in (&apos;PACKAGE BODY&apos;, &apos;TYPE BODY&apos;, &apos;PROCEDURE&apos;, &apos;FUNCTION&apos;, &apos;TRIGGER&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">           {filters}</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">      ),</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">      coverage_sources as (</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">        select full_name, owner, name, line, text,</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">               case</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">                 when</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">                   -- to avoid execution of regexp_like on every line</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">                   -- first do a rough check for existence of search pattern keyword</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">                   (lower(s.text) like &apos;%procedure%&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">                    or lower(s.text) like &apos;%function%&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">                    or lower(s.text) like &apos;%begin%&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">                    or lower(s.text) like &apos;%end%&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">                    or lower(s.text) like &apos;%package%&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">                   ) and</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">                   regexp_like(</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">                      s.text,</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">                      &apos;^([\t ]*(((not)?\s*(overriding|final|instantiable)[\t ]*)*(static|constructor|member)?[\t ]*(procedure|function)|package([\t ]+body)|begin|end([\t ]+\S+)*[ \t]*;))&apos;, &apos;i&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">                   )</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">                  then &apos;Y&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">               end as to_be_skipped</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">          from sources s</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">    select full_name, owner, name, line, to_be_skipped, text</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">      from coverage_sources s</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">           -- Exclude calls to utPLSQL framework, Unit Test packages and objects from a_exclude_list parameter of coverage reporter</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">     where (s.owner, s.name) not in ( select /*+ cardinality(el {skipped_objects_cardinality})*/el.owner, el.name from table(:l_skipped_objects) el )</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">       and line &gt; 0</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">    ]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="93">
              <span class="hits">10</span>
              <code class="sql">    if a_coverage_options.file_mappings is not empty then</code></li>

            <li class="covered" data-hits="5" data-linenumber="94">
              <span class="hits">5</span>
              <code class="sql">      l_mappings_cardinality := ut_utils.scale_cardinality(cardinality(a_coverage_options.file_mappings));</code></li>

            <li class="covered" data-hits="5" data-linenumber="95">
              <span class="hits">5</span>
              <code class="sql">      l_full_name := &apos;f.file_name&apos;;</code></li>

            <li class="covered" data-hits="5" data-linenumber="96">
              <span class="hits">5</span>
              <code class="sql">      l_join_mappings := &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">            join table(:file_mappings) f</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">              on s.name  = f.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">             and s.type  = f.object_type</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">             and s.owner = f.object_owner&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="5" data-linenumber="102">
              <span class="hits">5</span>
              <code class="sql">      l_full_name := q&apos;[lower(s.owner||&apos;.&apos;||s.name)]&apos;;</code></li>

            <li class="covered" data-hits="5" data-linenumber="103">
              <span class="hits">5</span>
              <code class="sql">      l_filters := case</code></li>

            <li class="covered" data-hits="1" data-linenumber="104">
              <span class="hits">1</span>
              <code class="sql">        when a_coverage_options.include_objects is not empty then &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">           and (s.owner, s.name) in (</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">                 select /*+ cardinality(il &apos;||ut_utils.scale_cardinality(cardinality(a_coverage_options.include_objects))||&apos;) */</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">                        il.owner, il.name</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">                   from table(:include_objects) il</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">               )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">        else &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">           and s.owner in (</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">                 select /*+ cardinality(t &apos;||ut_utils.scale_cardinality(cardinality(a_coverage_options.schema_names))||&apos;) */</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">                        upper(t.column_value)</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">                   from table(:l_schema_names) t)&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">        end;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="118">
              <span class="hits">10</span>
              <code class="sql">    l_result := replace(l_result, &apos;{sources_view}&apos;,         ut_metadata.get_source_view_name());</code></li>

            <li class="covered" data-hits="10" data-linenumber="119">
              <span class="hits">10</span>
              <code class="sql">    l_result := replace(l_result, &apos;{l_full_name}&apos;,          l_full_name);</code></li>

            <li class="covered" data-hits="10" data-linenumber="120">
              <span class="hits">10</span>
              <code class="sql">    l_result := replace(l_result, &apos;{join_file_mappings}&apos;,   l_join_mappings);</code></li>

            <li class="covered" data-hits="10" data-linenumber="121">
              <span class="hits">10</span>
              <code class="sql">    l_result := replace(l_result, &apos;{filters}&apos;,              l_filters);</code></li>

            <li class="covered" data-hits="10" data-linenumber="122">
              <span class="hits">10</span>
              <code class="sql">    l_result := replace(l_result, &apos;{mappings_cardinality}&apos;, l_mappings_cardinality);</code></li>

            <li class="covered" data-hits="10" data-linenumber="123">
              <span class="hits">10</span>
              <code class="sql">    l_result := replace(l_result, &apos;{skipped_objects_cardinality}&apos;, ut_utils.scale_cardinality(cardinality(a_skip_objects)));</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="125">
              <span class="hits">10</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">  function get_cov_sources_cursor(a_coverage_options in ut_coverage_options) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">    l_cursor        sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">    l_skip_objects  ut_object_names;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">    l_sql           varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="134">
              <span class="hits">10</span>
              <code class="sql">    if not is_develop_mode() then</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">      --skip all the utplsql framework objects and all the unit test packages that could potentially be reported by coverage.</code></li>

            <li class="missed" data-hits="0" data-linenumber="136">
              <code class="sql">      l_skip_objects := ut_utils.get_utplsql_objects_list() multiset union all coalesce(a_coverage_options.exclude_objects, ut_object_names());</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="139">
              <span class="hits">10</span>
              <code class="sql">    l_sql := get_cov_sources_sql(a_coverage_options, l_skip_objects);</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="141">
              <span class="hits">10</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_debug, ut_key_anyvalues().put(&apos;l_sql&apos;,l_sql) );</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="143">
              <span class="hits">10</span>
              <code class="sql">    if a_coverage_options.file_mappings is not empty then</code></li>

            <li class="covered" data-hits="5" data-linenumber="144">
              <span class="hits">5</span>
              <code class="sql">      open l_cursor for l_sql using a_coverage_options.file_mappings, l_skip_objects;</code></li>

            <li class="covered" data-hits="5" data-linenumber="145">
              <span class="hits">5</span>
              <code class="sql">    elsif a_coverage_options.include_objects is not empty then</code></li>

            <li class="covered" data-hits="3" data-linenumber="146">
              <span class="hits">3</span>
              <code class="sql">      open l_cursor for l_sql using a_coverage_options.include_objects, a_coverage_options.include_objects, l_skip_objects;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="2" data-linenumber="148">
              <span class="hits">2</span>
              <code class="sql">      open l_cursor for l_sql using a_coverage_options.schema_names, a_coverage_options.schema_names, l_skip_objects;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="10" data-linenumber="150">
              <span class="hits">10</span>
              <code class="sql">    return l_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">  procedure populate_tmp_table(a_coverage_options ut_coverage_options) is</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">    l_cov_sources_crsr sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">    l_cov_sources_data ut_coverage_helper.t_coverage_sources_tmp_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="159">
              <span class="hits">10</span>
              <code class="sql">    if not ut_coverage_helper.is_tmp_table_populated() or is_develop_mode() then</code></li>

            <li class="covered" data-hits="10" data-linenumber="160">
              <span class="hits">10</span>
              <code class="sql">      ut_coverage_helper.cleanup_tmp_table();</code></li>

            <li class="covered" data-hits="10" data-linenumber="161">
              <span class="hits">10</span>
              <code class="sql">      l_cov_sources_crsr := get_cov_sources_cursor(a_coverage_options);</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql"></code></li>

            <li class="covered" data-hits="11" data-linenumber="163">
              <span class="hits">11</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="11" data-linenumber="164">
              <span class="hits">11</span>
              <code class="sql">        fetch l_cov_sources_crsr bulk collect into l_cov_sources_data limit 10000;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql"></code></li>

            <li class="covered" data-hits="11" data-linenumber="166">
              <span class="hits">11</span>
              <code class="sql">        ut_coverage_helper.insert_into_tmp_table(l_cov_sources_data);</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql"></code></li>

            <li class="covered" data-hits="11" data-linenumber="168">
              <span class="hits">11</span>
              <code class="sql">        exit when l_cov_sources_crsr%notfound;</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="171">
              <span class="hits">10</span>
              <code class="sql">      close l_cov_sources_crsr;</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="10" data-linenumber="173">
              <span class="hits">10</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">  * Public functions</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">  procedure coverage_start(a_coverage_options ut_coverage_options default null) is</code></li>

            <li class="covered" data-hits="10" data-linenumber="181">
              <span class="hits">10</span>
              <code class="sql">    l_run_comment varchar2(200) := &apos;utPLSQL Code coverage run &apos;||ut_utils.to_string(systimestamp);</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="183">
              <span class="hits">10</span>
              <code class="sql">    if not is_develop_mode() and not g_is_started then</code></li>

            <li class="missed" data-hits="0" data-linenumber="184">
              <code class="sql">      ut_coverage_helper_block.coverage_start( l_run_comment, g_coverage_id(gc_block_coverage) );</code></li>

            <li class="missed" data-hits="0" data-linenumber="185">
              <code class="sql">      ut_coverage_helper_profiler.coverage_start( l_run_comment, g_coverage_id(gc_proftab_coverage) );</code></li>

            <li class="missed" data-hits="0" data-linenumber="186">
              <code class="sql">      coverage_pause();</code></li>

            <li class="missed" data-hits="0" data-linenumber="187">
              <code class="sql">      g_is_started := true;</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">  procedure coverage_pause is</code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="22" data-linenumber="193">
              <span class="hits">22</span>
              <code class="sql">    if not is_develop_mode() then</code></li>

            <li class="missed" data-hits="0" data-linenumber="194">
              <code class="sql">      ut_coverage_helper_profiler.coverage_pause();</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">  procedure coverage_resume is</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="32" data-linenumber="200">
              <span class="hits">32</span>
              <code class="sql">    ut_coverage_helper_profiler.coverage_resume();</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql">  procedure mock_coverage_id(a_coverage_id integer,a_coverage_type in varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="205">
              <span class="hits">3</span>
              <code class="sql">    g_develop_mode := true;</code></li>

            <li class="covered" data-hits="3" data-linenumber="206">
              <span class="hits">3</span>
              <code class="sql">    g_is_started := true;</code></li>

            <li class="covered" data-hits="3" data-linenumber="207">
              <span class="hits">3</span>
              <code class="sql">    g_coverage_id(a_coverage_type) := a_coverage_id;</code></li>

            <li class="never" data-hits="" data-linenumber="208">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">  procedure mock_coverage_id(a_coverage_id tt_coverage_id_arr) is</code></li>

            <li class="never" data-hits="" data-linenumber="211">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="212">
              <span class="hits">1</span>
              <code class="sql">    g_develop_mode := true;</code></li>

            <li class="covered" data-hits="1" data-linenumber="213">
              <span class="hits">1</span>
              <code class="sql">    g_is_started := true;</code></li>

            <li class="covered" data-hits="1" data-linenumber="214">
              <span class="hits">1</span>
              <code class="sql">    g_coverage_id := a_coverage_id;</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">  procedure coverage_stop is</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="219">
              <span class="hits">10</span>
              <code class="sql">    if not is_develop_mode() then</code></li>

            <li class="missed" data-hits="0" data-linenumber="220">
              <code class="sql">      g_is_started := false;</code></li>

            <li class="missed" data-hits="0" data-linenumber="221">
              <code class="sql">      ut_coverage_helper_block.coverage_stop();</code></li>

            <li class="missed" data-hits="0" data-linenumber="222">
              <code class="sql">      ut_coverage_helper_profiler.coverage_stop();</code></li>

            <li class="missed" data-hits="0" data-linenumber="223">
              <code class="sql">      g_is_started := false;</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">  function get_coverage_data(a_coverage_options ut_coverage_options) return t_coverage is</code></li>

            <li class="covered" data-hits="10" data-linenumber="228">
              <span class="hits">10</span>
              <code class="sql">    l_result_block           ut_coverage.t_coverage;</code></li>

            <li class="covered" data-hits="10" data-linenumber="229">
              <span class="hits">10</span>
              <code class="sql">    l_result_profiler_enrich ut_coverage.t_coverage;</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">    l_object                 ut_coverage.t_full_name;</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">    l_line_no                binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">    --prepare global temp table with sources</code></li>

            <li class="covered" data-hits="10" data-linenumber="234">
              <span class="hits">10</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;about to populate coverage temp table&apos;);</code></li>

            <li class="covered" data-hits="10" data-linenumber="235">
              <span class="hits">10</span>
              <code class="sql">    populate_tmp_table(a_coverage_options);</code></li>

            <li class="covered" data-hits="10" data-linenumber="236">
              <span class="hits">10</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;coverage temp table populated&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">    -- Get raw data for both reporters, order is important as tmp table will skip headers and dont populate</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">    -- tmp table for block again.</code></li>

            <li class="covered" data-hits="10" data-linenumber="240">
              <span class="hits">10</span>
              <code class="sql">    l_result_profiler_enrich:= ut_coverage_profiler.get_coverage_data( a_coverage_options, get_coverage_id(gc_proftab_coverage) );</code></li>

            <li class="covered" data-hits="10" data-linenumber="241">
              <span class="hits">10</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;profiler coverage data retrieved&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">    -- If block coverage available we will use it.</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql">    $if dbms_db_version.version = 12 and dbms_db_version.release &gt;= 2 or dbms_db_version.version &gt; 12 $then</code></li>

            <li class="covered" data-hits="10" data-linenumber="245">
              <span class="hits">10</span>
              <code class="sql">      l_result_block := ut_coverage_block.get_coverage_data( a_coverage_options, get_coverage_id(gc_block_coverage) );</code></li>

            <li class="covered" data-hits="10" data-linenumber="246">
              <span class="hits">10</span>
              <code class="sql">      ut_event_manager.trigger_event(&apos;block coverage data retrieved&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">      -- Enrich profiler results with some of the block results</code></li>

            <li class="covered" data-hits="10" data-linenumber="249">
              <span class="hits">10</span>
              <code class="sql">      l_object := l_result_profiler_enrich.objects.first;</code></li>

            <li class="covered" data-hits="56" data-linenumber="250">
              <span class="hits">56</span>
              <code class="sql">      while (l_object is not null) loop</code></li>

            <li class="never" data-hits="" data-linenumber="251">
            <code class="sql"></code></li>

            <li class="covered" data-hits="46" data-linenumber="252">
              <span class="hits">46</span>
              <code class="sql">        l_line_no := l_result_profiler_enrich.objects(l_object).lines.first;</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">        -- to avoid no data found check if we got object in profiler</code></li>

            <li class="covered" data-hits="46" data-linenumber="255">
              <span class="hits">46</span>
              <code class="sql">        if l_result_block.objects.exists(l_object) then</code></li>

            <li class="covered" data-hits="59" data-linenumber="256">
              <span class="hits">59</span>
              <code class="sql">          while (l_line_no is not null) loop</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">            -- To avoid no data check for object line</code></li>

            <li class="covered" data-hits="16" data-linenumber="258">
              <span class="hits">16</span>
              <code class="sql">            if l_result_block.objects(l_object).lines.exists(l_line_no) then</code></li>

            <li class="never" data-hits="" data-linenumber="259">
            <code class="sql">             -- enrich line level stats</code></li>

            <li class="covered" data-hits="12" data-linenumber="260">
              <span class="hits">12</span>
              <code class="sql">             l_result_profiler_enrich.objects(l_object).lines(l_line_no).partcove := l_result_block.objects(l_object).lines(l_line_no).partcove;</code></li>

            <li class="covered" data-hits="12" data-linenumber="261">
              <span class="hits">12</span>
              <code class="sql">             l_result_profiler_enrich.objects(l_object).lines(l_line_no).covered_blocks := l_result_block.objects(l_object).lines(l_line_no).covered_blocks;</code></li>

            <li class="covered" data-hits="12" data-linenumber="262">
              <span class="hits">12</span>
              <code class="sql">             l_result_profiler_enrich.objects(l_object).lines(l_line_no).no_blocks := l_result_block.objects(l_object).lines(l_line_no).no_blocks;</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql">             -- enrich object level stats</code></li>

            <li class="covered" data-hits="12" data-linenumber="264">
              <span class="hits">12</span>
              <code class="sql">             l_result_profiler_enrich.objects(l_object).partcovered_lines :=  nvl(l_result_profiler_enrich.objects(l_object).partcovered_lines,0) + l_result_block.objects(l_object).lines(l_line_no).partcove;</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">            end if;</code></li>

            <li class="never" data-hits="" data-linenumber="266">
            <code class="sql">            --At the end go to next line</code></li>

            <li class="covered" data-hits="16" data-linenumber="267">
              <span class="hits">16</span>
              <code class="sql">            l_line_no := l_result_profiler_enrich.objects(l_object).lines.next(l_line_no);</code></li>

            <li class="never" data-hits="" data-linenumber="268">
            <code class="sql">          end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="269">
            <code class="sql">          --total level stats enrich</code></li>

            <li class="covered" data-hits="43" data-linenumber="270">
              <span class="hits">43</span>
              <code class="sql">          l_result_profiler_enrich.partcovered_lines := nvl(l_result_profiler_enrich.partcovered_lines,0) + l_result_profiler_enrich.objects(l_object).partcovered_lines;</code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">          -- At the end go to next object</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql"></code></li>

            <li class="covered" data-hits="46" data-linenumber="274">
              <span class="hits">46</span>
              <code class="sql">        l_object := l_result_profiler_enrich.objects.next(l_object);</code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="10" data-linenumber="276">
              <span class="hits">10</span>
              <code class="sql">      ut_event_manager.trigger_event(&apos;coverage data combined&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">    $end</code></li>

            <li class="never" data-hits="" data-linenumber="278">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="279">
              <span class="hits">10</span>
              <code class="sql">    return l_result_profiler_enrich;</code></li>

            <li class="never" data-hits="" data-linenumber="280">
            <code class="sql">  end get_coverage_data;</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="282">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="ABD9557C21D356CDCD0E63016D989E14"><div class="header"> <h3>UT3.UT_COVERAGE_BLOCK</h3><h4><span class="green">92.31 %</span> lines covered</h4><div> <b>52</b> relevant lines. <span class="green"><b>48</b> lines covered</span> and <span class="red"><b>4</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_coverage_block is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  type t_source_lines is table of binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  * Public functions</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  function get_coverage_data(a_coverage_options ut_coverage_options, a_coverage_id integer) return ut_coverage.t_coverage is</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">    l_line_calls          ut_coverage_helper.t_unit_line_calls;</code></li>

            <li class="covered" data-hits="10" data-linenumber="28">
              <span class="hits">10</span>
              <code class="sql">    l_result              ut_coverage.t_coverage;</code></li>

            <li class="covered" data-hits="10" data-linenumber="29">
              <span class="hits">10</span>
              <code class="sql">    l_new_unit            ut_coverage.t_unit_coverage;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    l_line_no               binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">    l_source_objects_crsr ut_coverage_helper.t_tmp_table_objects_crsr;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    l_source_object       ut_coverage_helper.t_tmp_table_object;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    $if dbms_db_version.version = 12 and dbms_db_version.release &gt;= 2 or dbms_db_version.version &gt; 12 $then</code></li>

            <li class="covered" data-hits="10" data-linenumber="36">
              <span class="hits">10</span>
              <code class="sql">    l_source_objects_crsr := ut_coverage_helper.get_tmp_table_objects_cursor();</code></li>

            <li class="covered" data-hits="56" data-linenumber="37">
              <span class="hits">56</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="56" data-linenumber="38">
              <span class="hits">56</span>
              <code class="sql">      fetch l_source_objects_crsr</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">        into l_source_object;</code></li>

            <li class="covered" data-hits="56" data-linenumber="40">
              <span class="hits">56</span>
              <code class="sql">      exit when l_source_objects_crsr%notfound;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">      --get coverage data</code></li>

            <li class="covered" data-hits="46" data-linenumber="43">
              <span class="hits">46</span>
              <code class="sql">      l_line_calls := ut_coverage_helper_block.get_raw_coverage_data(l_source_object.owner, l_source_object.name, a_coverage_id);</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">      --if there is coverage, we need to filter out the garbage (badly indicated data)</code></li>

            <li class="covered" data-hits="46" data-linenumber="45">
              <span class="hits">46</span>
              <code class="sql">      if l_line_calls.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">        --remove lines that should not be indicted as meaningful</code></li>

            <li class="covered" data-hits="40" data-linenumber="47">
              <span class="hits">40</span>
              <code class="sql">        for i in 1 .. l_source_object.to_be_skipped_list.count loop</code></li>

            <li class="covered" data-hits="36" data-linenumber="48">
              <span class="hits">36</span>
              <code class="sql">          if l_source_object.to_be_skipped_list(i) is not null then</code></li>

            <li class="covered" data-hits="36" data-linenumber="49">
              <span class="hits">36</span>
              <code class="sql">            l_line_calls.delete(l_source_object.to_be_skipped_list(i));</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      --if there are no file mappings or object was actually captured by profiler</code></li>

            <li class="covered" data-hits="46" data-linenumber="55">
              <span class="hits">46</span>
              <code class="sql">      if a_coverage_options.file_mappings is null or l_line_calls.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">        --populate total stats</code></li>

            <li class="covered" data-hits="43" data-linenumber="58">
              <span class="hits">43</span>
              <code class="sql">        l_result.total_lines := nvl(l_result.total_lines,0) + l_source_object.lines_count;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">        --populate object level coverage stats</code></li>

            <li class="covered" data-hits="43" data-linenumber="61">
              <span class="hits">43</span>
              <code class="sql">        if not l_result.objects.exists(l_source_object.full_name) then</code></li>

            <li class="covered" data-hits="43" data-linenumber="62">
              <span class="hits">43</span>
              <code class="sql">          l_result.objects(l_source_object.full_name) := l_new_unit;</code></li>

            <li class="covered" data-hits="43" data-linenumber="63">
              <span class="hits">43</span>
              <code class="sql">          l_result.objects(l_source_object.full_name).owner := l_source_object.owner;</code></li>

            <li class="covered" data-hits="43" data-linenumber="64">
              <span class="hits">43</span>
              <code class="sql">          l_result.objects(l_source_object.full_name).name := l_source_object.name;</code></li>

            <li class="covered" data-hits="43" data-linenumber="65">
              <span class="hits">43</span>
              <code class="sql">          l_result.objects(l_source_object.full_name).total_lines := l_source_object.lines_count;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">        --map to results</code></li>

            <li class="covered" data-hits="43" data-linenumber="68">
              <span class="hits">43</span>
              <code class="sql">        l_line_no := l_line_calls.first;</code></li>

            <li class="covered" data-hits="43" data-linenumber="69">
              <span class="hits">43</span>
              <code class="sql">        if l_line_no is null then</code></li>

            <li class="covered" data-hits="39" data-linenumber="70">
              <span class="hits">39</span>
              <code class="sql">          l_result.uncovered_lines := l_result.uncovered_lines + l_source_object.lines_count;</code></li>

            <li class="covered" data-hits="39" data-linenumber="71">
              <span class="hits">39</span>
              <code class="sql">          l_result.objects(l_source_object.full_name).uncovered_lines := l_source_object.lines_count;</code></li>

            <li class="covered" data-hits="1" data-linenumber="72">
              <span class="hits">1</span>
              <code class="sql">        else</code></li>

            <li class="covered" data-hits="16" data-linenumber="73">
              <span class="hits">16</span>
              <code class="sql">          loop</code></li>

            <li class="covered" data-hits="16" data-linenumber="74">
              <span class="hits">16</span>
              <code class="sql">            exit when l_line_no is null;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">            --turn the block coverage into a line coverage format to allow for reading.</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">            --whenever the linst is a part covered treat that line as a hit and execution but only part covered</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">            --total stats</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">            --Get total blocks ,blocks covered, blocks not covered this will be used for PCT calc</code></li>

            <li class="covered" data-hits="12" data-linenumber="81">
              <span class="hits">12</span>
              <code class="sql">            l_result.total_blocks     := nvl(l_result.total_blocks, 0) + l_line_calls(l_line_no).blocks;</code></li>

            <li class="covered" data-hits="12" data-linenumber="82">
              <span class="hits">12</span>
              <code class="sql">            l_result.covered_blocks   := nvl(l_result.covered_blocks, 0) + l_line_calls(l_line_no).covered_blocks;</code></li>

            <li class="covered" data-hits="12" data-linenumber="83">
              <span class="hits">12</span>
              <code class="sql">            l_result.uncovered_blocks := nvl(l_result.uncovered_blocks, 0) +</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">                                         (l_line_calls(l_line_no).blocks - l_line_calls(l_line_no).covered_blocks);</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">            --If line is partially covered add as part line cover and covered for line reporter</code></li>

            <li class="covered" data-hits="12" data-linenumber="87">
              <span class="hits">12</span>
              <code class="sql">            if l_line_calls(l_line_no).partcovered = 1 then</code></li>

            <li class="covered" data-hits="4" data-linenumber="88">
              <span class="hits">4</span>
              <code class="sql">              l_result.partcovered_lines := l_result.partcovered_lines + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">            end if;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql"></code></li>

            <li class="covered" data-hits="12" data-linenumber="91">
              <span class="hits">12</span>
              <code class="sql">            if l_line_calls(l_line_no).covered_blocks &gt; 0 then</code></li>

            <li class="covered" data-hits="12" data-linenumber="92">
              <span class="hits">12</span>
              <code class="sql">              l_result.covered_lines := l_result.covered_lines + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">            end if;</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">            -- Use nvl as be default is null and screw the calcs</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">            --Increase total blocks</code></li>

            <li class="covered" data-hits="12" data-linenumber="97">
              <span class="hits">12</span>
              <code class="sql">            l_result.objects(l_source_object.full_name).lines(l_line_no).no_blocks := l_line_calls(l_line_no).blocks;</code></li>

            <li class="covered" data-hits="12" data-linenumber="98">
              <span class="hits">12</span>
              <code class="sql">            l_result.objects(l_source_object.full_name).lines(l_line_no).covered_blocks := l_line_calls(l_line_no).covered_blocks;</code></li>

            <li class="covered" data-hits="12" data-linenumber="99">
              <span class="hits">12</span>
              <code class="sql">            l_result.objects(l_source_object.full_name).total_blocks := nvl(l_result.objects(l_source_object.full_name)</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">                                                                            .total_blocks</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">                                                                           ,0) + l_line_calls(l_line_no).blocks;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">            --Total uncovered blocks is a line blocks minus covered blocsk</code></li>

            <li class="covered" data-hits="12" data-linenumber="104">
              <span class="hits">12</span>
              <code class="sql">            l_result.objects(l_source_object.full_name).uncovered_blocks := nvl(l_result.objects(l_source_object.full_name)</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">                                                                                .uncovered_blocks</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">                                                                               ,0) +</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">                                                                            (l_line_calls(l_line_no).blocks - l_line_calls(l_line_no)</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">                                                                             .covered_blocks);</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">            --If we have any covered blocks in line</code></li>

            <li class="covered" data-hits="12" data-linenumber="111">
              <span class="hits">12</span>
              <code class="sql">            if l_line_calls(l_line_no).covered_blocks &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">              --If any block is covered then we have a hit on that line</code></li>

            <li class="covered" data-hits="12" data-linenumber="113">
              <span class="hits">12</span>
              <code class="sql">              l_result.executions := l_result.executions + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">              --object level stats</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">              --If its part covered then mark it else treat as full cov</code></li>

            <li class="covered" data-hits="12" data-linenumber="116">
              <span class="hits">12</span>
              <code class="sql">              if l_line_calls(l_line_no).partcovered = 1 then</code></li>

            <li class="covered" data-hits="4" data-linenumber="117">
              <span class="hits">4</span>
              <code class="sql">                l_result.objects(l_source_object.full_name).partcovered_lines := l_result.objects(l_source_object.full_name)</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">                                                                                 .partcovered_lines + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">              end if;</code></li>

            <li class="covered" data-hits="12" data-linenumber="120">
              <span class="hits">12</span>
              <code class="sql">              l_result.objects(l_source_object.full_name).covered_lines := l_result.objects(l_source_object.full_name)</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">                                                                             .covered_lines + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">              --How many blocks we covered</code></li>

            <li class="covered" data-hits="12" data-linenumber="124">
              <span class="hits">12</span>
              <code class="sql">              l_result.objects(l_source_object.full_name).covered_blocks := nvl(l_result.objects(l_source_object.full_name)</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">                                                                                .covered_blocks</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">                                                                               ,0) + l_line_calls(l_line_no)</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">                                                                           .covered_blocks;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">              --Object line executions</code></li>

            <li class="covered" data-hits="12" data-linenumber="130">
              <span class="hits">12</span>
              <code class="sql">              l_result.objects(l_source_object.full_name).executions := nvl(l_result.objects(l_source_object.full_name)</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">                                                                            .executions</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">                                                                           ,0) + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql"></code></li>

            <li class="covered" data-hits="12" data-linenumber="134">
              <span class="hits">12</span>
              <code class="sql">              l_result.objects(l_source_object.full_name).lines(l_line_no).executions := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">              --Whenever there is no covered block treat as uncovered (query returns only lines where the blocks are in code so we</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">              --dont have a false results here when there is no blocks</code></li>

            <li class="missed" data-hits="0" data-linenumber="138">
              <code class="sql">            elsif l_line_calls(l_line_no).covered_blocks = 0 then</code></li>

            <li class="missed" data-hits="0" data-linenumber="139">
              <code class="sql">              l_result.uncovered_lines := l_result.uncovered_lines + 1;</code></li>

            <li class="missed" data-hits="0" data-linenumber="140">
              <code class="sql">              l_result.objects(l_source_object.full_name).uncovered_lines := l_result.objects(l_source_object.full_name)</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">                                                                             .uncovered_lines + 1;</code></li>

            <li class="missed" data-hits="0" data-linenumber="142">
              <code class="sql">              l_result.objects(l_source_object.full_name).lines(l_line_no).executions := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">            end if;</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">            --increase part covered counter (+ 1/0)</code></li>

            <li class="covered" data-hits="12" data-linenumber="145">
              <span class="hits">12</span>
              <code class="sql">            l_result.objects(l_source_object.full_name).lines(l_line_no).partcove := l_line_calls(l_line_no).partcovered;</code></li>

            <li class="covered" data-hits="12" data-linenumber="146">
              <span class="hits">12</span>
              <code class="sql">            l_line_no := l_line_calls.next(l_line_no);</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">          end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="153">
              <span class="hits">10</span>
              <code class="sql">    close l_source_objects_crsr;</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">    $end</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="156">
              <span class="hits">10</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">  end get_coverage_data;</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="E987773302AFE393843F644A43D337E1"><div class="header"> <h3>UT3.UT_COVERAGE_HELPER</h3><h4><span class="yellow">90 %</span> lines covered</h4><div> <b>10</b> relevant lines. <span class="green"><b>9</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_coverage_helper is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  type t_proftab_row is record (</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">      line  binary_integer,</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">      calls number(38,0)</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  type t_proftab_rows is table of t_proftab_row;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  type t_block_row is record(</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">       line           binary_integer</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">      ,blocks         binary_integer</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">      ,covered_blocks binary_integer);</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  type t_block_rows is table of t_block_row;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  procedure insert_into_tmp_table(a_data t_coverage_sources_tmp_rows) is</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="11" data-linenumber="37">
              <span class="hits">11</span>
              <code class="sql">    forall i in 1 .. a_data.count</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">      insert into ut_coverage_sources_tmp</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">             (full_name,owner,name,line,text, to_be_skipped)</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">       values(a_data(i).full_name,a_data(i).owner,a_data(i).name,a_data(i).line,a_data(i).text,a_data(i).to_be_skipped);</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  procedure cleanup_tmp_table is</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="126" data-linenumber="46">
              <span class="hits">126</span>
              <code class="sql">    execute immediate &apos;truncate table ut_coverage_sources_tmp&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  function is_tmp_table_populated return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="52">
              <span class="hits">10</span>
              <code class="sql">    select 1 into l_result from ut_coverage_sources_tmp where rownum = 1;</code></li>

            <li class="missed" data-hits="0" data-linenumber="53">
              <code class="sql">    return (l_result = 1);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  exception</code></li>

            <li class="covered" data-hits="20" data-linenumber="55">
              <span class="hits">20</span>
              <code class="sql">    when no_data_found then</code></li>

            <li class="covered" data-hits="10" data-linenumber="56">
              <span class="hits">10</span>
              <code class="sql">      return false;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  function get_tmp_table_objects_cursor return t_tmp_table_objects_crsr is</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">    l_result t_tmp_table_objects_crsr;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="20" data-linenumber="62">
              <span class="hits">20</span>
              <code class="sql">    open l_result for</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">      select o.owner, o.name, o.full_name, max(o.line) lines_count,</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">             cast(</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">               collect(decode(to_be_skipped, &apos;Y&apos;, to_char(line))) as ut_varchar2_list</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">             ) to_be_skipped_list</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">        from ut_coverage_sources_tmp o</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">       group by o.owner, o.name, o.full_name;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="covered" data-hits="20" data-linenumber="70">
              <span class="hits">20</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  function get_tmp_table_object_lines(a_owner varchar2, a_object_name varchar2) return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">    l_result ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="76">
              <span class="hits">1</span>
              <code class="sql">    select rtrim(s.text,chr(10)) text</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">      bulk collect into l_result</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">      from ut_coverage_sources_tmp s</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">     where s.owner = a_owner</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">       and s.name = a_object_name</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">     order by s.line;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="83">
              <span class="hits">1</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="023CCBB67345BAB2B32EE67EF5A0A0B6"><div class="header"> <h3>UT3.UT_COVERAGE_HELPER_BLOCK</h3><h4><span class="yellow">83.33 %</span> lines covered</h4><div> <b>12</b> relevant lines. <span class="green"><b>10</b> lines covered</span> (including <span class="yellow"><b>1</b> lines partially covered</span> ) and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_coverage_helper_block is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  type t_proftab_row is record (</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">      line  binary_integer,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">      calls number(38,0)</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  type t_proftab_rows is table of t_proftab_row;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  type t_block_row is record(</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">       line           binary_integer</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">      ,blocks         binary_integer</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">      ,covered_blocks binary_integer);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  type t_block_rows is table of t_block_row;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  procedure coverage_start(a_run_comment varchar2, a_coverage_id out integer)  is</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    $if dbms_db_version.version = 12 and dbms_db_version.release &gt;= 2 or dbms_db_version.version &gt; 12 $then</code></li>

            <li class="missed" data-hits="0" data-linenumber="36">
              <code class="sql">      a_coverage_id := dbms_plsql_code_coverage.start_coverage(run_comment =&gt; a_run_comment);</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    $else</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">      null;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    $end</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  procedure coverage_stop is</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    $if dbms_db_version.version = 12 and dbms_db_version.release &gt;= 2 or dbms_db_version.version &gt; 12 $then</code></li>

            <li class="missed" data-hits="0" data-linenumber="45">
              <code class="sql">      dbms_plsql_code_coverage.stop_coverage();</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    $else</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">      null;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    $end</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  function block_results(a_object_owner varchar2, a_object_name varchar2, a_coverage_id integer) return t_block_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    l_coverage_rows t_block_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="covered" data-hits="46" data-linenumber="55">
              <span class="hits">46</span>
              <code class="sql">    select ccb.line         as line,</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">           count(ccb.block) as blocks,</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">           sum(ccb.covered) as covered_blocks</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">      bulk collect into l_coverage_rows</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">      from dbmspcc_units ccu</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">      left outer join dbmspcc_blocks ccb</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">        on ccu.run_id = ccb.run_id</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">       and ccu.object_id = ccb.object_id</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">     where ccu.run_id = a_coverage_id</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">       and ccu.owner = a_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">       and ccu.name = a_object_name</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">     group by ccb.line</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">     order by 1;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql"></code></li>

            <li class="covered" data-hits="46" data-linenumber="69">
              <span class="hits">46</span>
              <code class="sql">     return l_coverage_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  function get_raw_coverage_data(a_object_owner varchar2, a_object_name varchar2, a_coverage_id integer) return ut_coverage_helper.t_unit_line_calls is</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">    l_tmp_data t_block_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">    l_results  ut_coverage_helper.t_unit_line_calls;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">    $if dbms_db_version.version = 12 and dbms_db_version.release &gt;= 2 or dbms_db_version.version &gt; 12 $then</code></li>

            <li class="covered" data-hits="46" data-linenumber="78">
              <span class="hits">46</span>
              <code class="sql">      l_tmp_data := block_results(a_object_owner, a_object_name, a_coverage_id);</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql"></code></li>

            <li class="covered" data-hits="58" data-linenumber="80">
              <span class="hits">58</span>
              <code class="sql">      for i in 1 .. l_tmp_data.count loop</code></li>

            <li class="covered" data-hits="12" data-linenumber="81">
              <span class="hits">12</span>
              <code class="sql">        l_results(l_tmp_data(i).line).blocks := l_tmp_data(i).blocks;</code></li>

            <li class="covered" data-hits="12" data-linenumber="82">
              <span class="hits">12</span>
              <code class="sql">        l_results(l_tmp_data(i).line).covered_blocks := l_tmp_data(i).covered_blocks;</code></li>

            <li class="covered" data-hits="12" data-linenumber="83">
              <span class="hits">12</span>
              <code class="sql">        l_results(l_tmp_data(i).line).partcovered := case</code></li>

            <li class="partcov" data-hits="1" data-blocks="1/2" data-linenumber="84">
                <span class="blocks">1/2</span>
              <span class="hits">1</span>
              <code class="sql">                                                       when (l_tmp_data(i).covered_blocks &gt; 0) and</code></li>

            <li class="covered" data-hits="1" data-linenumber="85">
              <span class="hits">1</span>
              <code class="sql">                                                            (l_tmp_data(i).blocks &gt; l_tmp_data(i).covered_blocks) then</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">                                                        1</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">                                                       else</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">                                                        0</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">                                                     end;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">    $end</code></li>

            <li class="covered" data-hits="46" data-linenumber="92">
              <span class="hits">46</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="93CBCC1313F451160DD13F15D0FC13B5"><div class="header"> <h3>UT3.UT_COVERAGE_HELPER_PROFILER</h3><h4><span class="red">70 %</span> lines covered</h4><div> <b>10</b> relevant lines. <span class="green"><b>7</b> lines covered</span> and <span class="red"><b>3</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_coverage_helper_profiler is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  type t_proftab_row is record (</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">      line  binary_integer,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">      calls number(38,0)</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  type t_proftab_rows is table of t_proftab_row;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  type t_block_row is record(</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">       line           binary_integer</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">      ,blocks         binary_integer</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">      ,covered_blocks binary_integer);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  type t_block_rows is table of t_block_row;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  procedure coverage_start(a_run_comment varchar2,a_coverage_id out integer)  is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="36">
              <code class="sql">    dbms_profiler.start_profiler(run_comment =&gt; a_run_comment, run_number =&gt; a_coverage_id);</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  procedure coverage_pause is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">    l_return_code binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="42">
              <code class="sql">    l_return_code := dbms_profiler.pause_profiler();</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  procedure coverage_resume is</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    l_return_code binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="22" data-linenumber="48">
              <span class="hits">22</span>
              <code class="sql">    l_return_code := dbms_profiler.resume_profiler();</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  procedure coverage_stop is</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="53">
              <code class="sql">   dbms_profiler.stop_profiler();</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  function proftab_results(a_object_owner varchar2, a_object_name varchar2, a_coverage_id integer) return t_proftab_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">    l_coverage_rows t_proftab_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="46" data-linenumber="59">
              <span class="hits">46</span>
              <code class="sql">    select</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">        d.line#,</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">        case when sum(d.total_occur) = 0 and sum(d.total_time) &gt; 0 then 1 else sum(d.total_occur) end total_occur</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">      bulk collect into l_coverage_rows</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">      from plsql_profiler_units u</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">      join plsql_profiler_data d</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">        on u.runid = d.runid</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">       and u.unit_number = d.unit_number</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">     where u.runid = a_coverage_id</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">       and u.unit_owner = a_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">       and u.unit_name = a_object_name</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">       and u.unit_type in (&apos;PACKAGE BODY&apos;, &apos;TYPE BODY&apos;, &apos;PROCEDURE&apos;, &apos;FUNCTION&apos;, &apos;TRIGGER&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">     group by d.line#;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql"></code></li>

            <li class="covered" data-hits="46" data-linenumber="73">
              <span class="hits">46</span>
              <code class="sql">    return l_coverage_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  function get_raw_coverage_data(a_object_owner varchar2, a_object_name varchar2, a_coverage_id integer) return ut_coverage_helper.t_unit_line_calls is</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">    l_tmp_data t_proftab_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">    l_results  ut_coverage_helper.t_unit_line_calls;</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="46" data-linenumber="80">
              <span class="hits">46</span>
              <code class="sql">    l_tmp_data := proftab_results(a_object_owner, a_object_name, a_coverage_id);</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql"></code></li>

            <li class="covered" data-hits="71" data-linenumber="82">
              <span class="hits">71</span>
              <code class="sql">    for i in 1 .. l_tmp_data.count loop</code></li>

            <li class="covered" data-hits="25" data-linenumber="83">
              <span class="hits">25</span>
              <code class="sql">      l_results(l_tmp_data(i).line).calls := l_tmp_data(i).calls;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="46" data-linenumber="85">
              <span class="hits">46</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="FCCAD99679A0A272C059CE4CD6D210A2"><div class="header"> <h3>UT3.UT_COVERAGE_PROFILER</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>37</b> relevant lines. <span class="green"><b>37</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_coverage_profiler is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  * Public functions</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  function get_coverage_data(a_coverage_options ut_coverage_options, a_coverage_id integer) return ut_coverage.t_coverage is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">    l_line_calls            ut_coverage_helper.t_unit_line_calls;</code></li>

            <li class="covered" data-hits="10" data-linenumber="24">
              <span class="hits">10</span>
              <code class="sql">    l_result                ut_coverage.t_coverage;</code></li>

            <li class="covered" data-hits="10" data-linenumber="25">
              <span class="hits">10</span>
              <code class="sql">    l_new_unit              ut_coverage.t_unit_coverage;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">    l_line_no               binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">    l_source_objects_crsr   ut_coverage_helper.t_tmp_table_objects_crsr;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">    l_source_object         ut_coverage_helper.t_tmp_table_object;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="31">
              <span class="hits">10</span>
              <code class="sql">    l_source_objects_crsr := ut_coverage_helper.get_tmp_table_objects_cursor();</code></li>

            <li class="covered" data-hits="56" data-linenumber="32">
              <span class="hits">56</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="56" data-linenumber="33">
              <span class="hits">56</span>
              <code class="sql">      fetch l_source_objects_crsr into l_source_object;</code></li>

            <li class="covered" data-hits="56" data-linenumber="34">
              <span class="hits">56</span>
              <code class="sql">      exit when l_source_objects_crsr%notfound;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">      --get coverage data</code></li>

            <li class="covered" data-hits="46" data-linenumber="37">
              <span class="hits">46</span>
              <code class="sql">      l_line_calls := ut_coverage_helper_profiler.get_raw_coverage_data( l_source_object.owner, l_source_object.name, a_coverage_id);</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">      --if there is coverage, we need to filter out the garbage (badly indicated data from dbms_profiler)</code></li>

            <li class="covered" data-hits="46" data-linenumber="40">
              <span class="hits">46</span>
              <code class="sql">      if l_line_calls.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">        --remove lines that should not be indicted as meaningful</code></li>

            <li class="covered" data-hits="70" data-linenumber="42">
              <span class="hits">70</span>
              <code class="sql">        for i in 1 .. l_source_object.to_be_skipped_list.count loop</code></li>

            <li class="covered" data-hits="63" data-linenumber="43">
              <span class="hits">63</span>
              <code class="sql">          if l_source_object.to_be_skipped_list(i) is not null then</code></li>

            <li class="covered" data-hits="63" data-linenumber="44">
              <span class="hits">63</span>
              <code class="sql">            l_line_calls.delete(l_source_object.to_be_skipped_list(i));</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      --if there are no file mappings or object was actually captured by profiler</code></li>

            <li class="covered" data-hits="46" data-linenumber="50">
              <span class="hits">46</span>
              <code class="sql">      if a_coverage_options.file_mappings is null or l_line_calls.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">        --populate total stats</code></li>

            <li class="covered" data-hits="46" data-linenumber="53">
              <span class="hits">46</span>
              <code class="sql">        l_result.total_lines := nvl(l_result.total_lines,0) + l_source_object.lines_count;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">        --populate object level coverage stats</code></li>

            <li class="covered" data-hits="46" data-linenumber="55">
              <span class="hits">46</span>
              <code class="sql">        if not l_result.objects.exists(l_source_object.full_name) then</code></li>

            <li class="covered" data-hits="46" data-linenumber="56">
              <span class="hits">46</span>
              <code class="sql">          l_result.objects(l_source_object.full_name) := l_new_unit;</code></li>

            <li class="covered" data-hits="46" data-linenumber="57">
              <span class="hits">46</span>
              <code class="sql">          l_result.objects(l_source_object.full_name).owner := l_source_object.owner;</code></li>

            <li class="covered" data-hits="46" data-linenumber="58">
              <span class="hits">46</span>
              <code class="sql">          l_result.objects(l_source_object.full_name).name  := l_source_object.name;</code></li>

            <li class="covered" data-hits="46" data-linenumber="59">
              <span class="hits">46</span>
              <code class="sql">          l_result.objects(l_source_object.full_name).total_lines := l_source_object.lines_count;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">        --map to results</code></li>

            <li class="covered" data-hits="46" data-linenumber="62">
              <span class="hits">46</span>
              <code class="sql">        l_line_no := l_line_calls.first;</code></li>

            <li class="covered" data-hits="46" data-linenumber="63">
              <span class="hits">46</span>
              <code class="sql">        if l_line_no is null then</code></li>

            <li class="covered" data-hits="39" data-linenumber="64">
              <span class="hits">39</span>
              <code class="sql">          l_result.uncovered_lines := l_result.uncovered_lines + l_source_object.lines_count;</code></li>

            <li class="covered" data-hits="39" data-linenumber="65">
              <span class="hits">39</span>
              <code class="sql">          l_result.objects(l_source_object.full_name).uncovered_lines := l_source_object.lines_count;</code></li>

            <li class="covered" data-hits="1" data-linenumber="66">
              <span class="hits">1</span>
              <code class="sql">        else</code></li>

            <li class="covered" data-hits="32" data-linenumber="67">
              <span class="hits">32</span>
              <code class="sql">          loop</code></li>

            <li class="covered" data-hits="32" data-linenumber="68">
              <span class="hits">32</span>
              <code class="sql">            exit when l_line_no is null;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="covered" data-hits="25" data-linenumber="70">
              <span class="hits">25</span>
              <code class="sql">            if l_line_calls(l_line_no).calls &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">              --total stats</code></li>

            <li class="covered" data-hits="18" data-linenumber="72">
              <span class="hits">18</span>
              <code class="sql">              l_result.covered_lines := l_result.covered_lines + 1;</code></li>

            <li class="covered" data-hits="18" data-linenumber="73">
              <span class="hits">18</span>
              <code class="sql">              l_result.executions := l_result.executions + l_line_calls(l_line_no).calls;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">              --object level stats</code></li>

            <li class="covered" data-hits="18" data-linenumber="75">
              <span class="hits">18</span>
              <code class="sql">              l_result.objects(l_source_object.full_name).covered_lines := l_result.objects(l_source_object.full_name).covered_lines + 1;</code></li>

            <li class="covered" data-hits="18" data-linenumber="76">
              <span class="hits">18</span>
              <code class="sql">              l_result.objects(l_source_object.full_name).executions := l_result.objects(l_source_object.full_name).executions + l_line_calls(l_line_no).calls;</code></li>

            <li class="covered" data-hits="7" data-linenumber="77">
              <span class="hits">7</span>
              <code class="sql">            elsif l_line_calls(l_line_no).calls = 0 then</code></li>

            <li class="covered" data-hits="7" data-linenumber="78">
              <span class="hits">7</span>
              <code class="sql">              l_result.uncovered_lines := l_result.uncovered_lines + 1;</code></li>

            <li class="covered" data-hits="7" data-linenumber="79">
              <span class="hits">7</span>
              <code class="sql">              l_result.objects(l_source_object.full_name).uncovered_lines := l_result.objects(l_source_object.full_name).uncovered_lines + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">            end if;</code></li>

            <li class="covered" data-hits="25" data-linenumber="81">
              <span class="hits">25</span>
              <code class="sql">            l_result.objects(l_source_object.full_name).lines(l_line_no).executions := l_line_calls(l_line_no).calls;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="covered" data-hits="25" data-linenumber="83">
              <span class="hits">25</span>
              <code class="sql">            l_line_no := l_line_calls.next(l_line_no);</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">          end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="90">
              <span class="hits">10</span>
              <code class="sql">    close l_source_objects_crsr;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="92">
              <span class="hits">10</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">  end get_coverage_data;</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="9F7F9B1E5998F6C0031380865D3CFA19"><div class="header"> <h3>UT3.UT_COVERAGE_REPORTER_BASE</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>16</b> relevant lines. <span class="green"><b>16</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_coverage_reporter_base is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  overriding final member procedure before_calling_run(self in out nocopy ut_coverage_reporter_base, a_run ut_run) as</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="21">
              <span class="hits">10</span>
              <code class="sql">    (self as ut_output_reporter_base).before_calling_run(a_run);</code></li>

            <li class="covered" data-hits="10" data-linenumber="22">
              <span class="hits">10</span>
              <code class="sql">    ut_coverage.coverage_start(a_coverage_options =&gt; a_run.coverage_options);</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding final member procedure before_calling_before_all(self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="27">
              <span class="hits">1</span>
              <code class="sql">    ut_coverage.coverage_resume();</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  overriding final member procedure after_calling_before_all (self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="31">
              <span class="hits">1</span>
              <code class="sql">      ut_coverage.coverage_pause();</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  overriding final member procedure before_calling_before_each(self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="36">
              <span class="hits">3</span>
              <code class="sql">    ut_coverage.coverage_resume();</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  overriding final member procedure after_calling_before_each (self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="40">
              <span class="hits">3</span>
              <code class="sql">      ut_coverage.coverage_pause();</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  overriding final member procedure before_calling_before_test(self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="45">
              <span class="hits">1</span>
              <code class="sql">    ut_coverage.coverage_resume();</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  overriding final member procedure after_calling_before_test (self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="49">
              <span class="hits">1</span>
              <code class="sql">      ut_coverage.coverage_pause();</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  overriding final member procedure before_calling_test_execute(self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="12" data-linenumber="54">
              <span class="hits">12</span>
              <code class="sql">    ut_coverage.coverage_resume();</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  overriding final member procedure after_calling_test_execute (self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="12" data-linenumber="58">
              <span class="hits">12</span>
              <code class="sql">      ut_coverage.coverage_pause();</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  overriding final member procedure before_calling_after_test(self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="63">
              <span class="hits">1</span>
              <code class="sql">    ut_coverage.coverage_resume();</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  overriding final member procedure after_calling_after_test (self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="67">
              <span class="hits">1</span>
              <code class="sql">      ut_coverage.coverage_pause();</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  overriding final member procedure before_calling_after_each(self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="72">
              <span class="hits">3</span>
              <code class="sql">    ut_coverage.coverage_resume();</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  overriding final member procedure after_calling_after_each (self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="76">
              <span class="hits">3</span>
              <code class="sql">      ut_coverage.coverage_pause();</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  overriding final member procedure before_calling_after_all(self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="81">
              <span class="hits">1</span>
              <code class="sql">    ut_coverage.coverage_resume();</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  overriding final member procedure after_calling_after_all (self in out nocopy ut_coverage_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="85">
              <span class="hits">1</span>
              <code class="sql">      ut_coverage.coverage_pause();</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="DEA7E05D825C8F032289E936A3DDC94C"><div class="header"> <h3>UT3.UT_EVENT_MANAGER</h3><h4><span class="red">75.68 %</span> lines covered</h4><div> <b>37</b> relevant lines. <span class="green"><b>28</b> lines covered</span> and <span class="red"><b>9</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_event_manager  as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  type t_listeners is table of ut_event_listener;</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  subtype t_listener_number is binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  type t_listener_numbers is table of boolean index by t_listener_number;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  type t_events_listeners is table of t_listener_numbers index by t_event_name;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  type t_event_manager is record (</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">    event_listener_index t_events_listeners,</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">    listeners            t_listeners</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  );</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  type t_event_managers is table of t_event_manager;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  g_event_listeners_index    t_events_listeners;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  g_listeners                t_listeners;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  g_suspended_event_managers t_event_managers;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  procedure initialize is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="36">
              <span class="hits">116</span>
              <code class="sql">    if g_listeners is not null and g_listeners.count &gt; 0 then</code></li>

            <li class="missed" data-hits="0" data-linenumber="37">
              <code class="sql">       if g_suspended_event_managers is null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="38">
              <code class="sql">         g_suspended_event_managers := t_event_managers();</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">       end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="40">
              <code class="sql">       g_suspended_event_managers.extend;</code></li>

            <li class="missed" data-hits="0" data-linenumber="41">
              <code class="sql">       g_suspended_event_managers(g_suspended_event_managers.count).event_listener_index := g_event_listeners_index;</code></li>

            <li class="missed" data-hits="0" data-linenumber="42">
              <code class="sql">       g_suspended_event_managers(g_suspended_event_managers.count).listeners            := g_listeners;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="116" data-linenumber="44">
              <span class="hits">116</span>
              <code class="sql">    g_event_listeners_index.delete;</code></li>

            <li class="covered" data-hits="116" data-linenumber="45">
              <span class="hits">116</span>
              <code class="sql">    g_listeners := t_listeners();</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  procedure dispose_listeners is</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="50">
              <span class="hits">116</span>
              <code class="sql">    if g_suspended_event_managers is not null and g_suspended_event_managers.count &gt; 0 then</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">      g_event_listeners_index :=  g_suspended_event_managers(g_suspended_event_managers.count).event_listener_index;</code></li>

            <li class="missed" data-hits="0" data-linenumber="52">
              <code class="sql">      g_listeners             :=  g_suspended_event_managers(g_suspended_event_managers.count).listeners;</code></li>

            <li class="missed" data-hits="0" data-linenumber="53">
              <code class="sql">      g_suspended_event_managers.trim(1);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="116" data-linenumber="55">
              <span class="hits">116</span>
              <code class="sql">      g_event_listeners_index.delete;</code></li>

            <li class="covered" data-hits="116" data-linenumber="56">
              <span class="hits">116</span>
              <code class="sql">      g_listeners := t_listeners();</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  procedure trigger_event( a_event_name t_event_name, a_event_object ut_event_item := null ) is</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">    procedure trigger_listener_event(</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">      a_listener_numbers t_listener_numbers,</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">      a_event_name t_event_name,</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">      a_event_object ut_event_item</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">    ) is</code></li>

            <li class="covered" data-hits="2721" data-linenumber="67">
              <span class="hits">2721</span>
              <code class="sql">      l_listener_number t_listener_number := a_listener_numbers.first;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="7923" data-linenumber="69">
              <span class="hits">7923</span>
              <code class="sql">      while l_listener_number is not null loop</code></li>

            <li class="covered" data-hits="5202" data-linenumber="70">
              <span class="hits">5202</span>
              <code class="sql">        g_listeners(l_listener_number).on_event(a_event_name, a_event_object);</code></li>

            <li class="covered" data-hits="5202" data-linenumber="71">
              <span class="hits">5202</span>
              <code class="sql">        l_listener_number := a_listener_numbers.next(l_listener_number);</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7619" data-linenumber="75">
              <span class="hits">7619</span>
              <code class="sql">    if a_event_name is not null then</code></li>

            <li class="covered" data-hits="7619" data-linenumber="76">
              <span class="hits">7619</span>
              <code class="sql">      if g_event_listeners_index.exists(gc_all) then</code></li>

            <li class="covered" data-hits="76" data-linenumber="77">
              <span class="hits">76</span>
              <code class="sql">        trigger_listener_event( g_event_listeners_index(gc_all), a_event_name, a_event_object );</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="7619" data-linenumber="79">
              <span class="hits">7619</span>
              <code class="sql">      if g_event_listeners_index.exists(a_event_name) then</code></li>

            <li class="covered" data-hits="2645" data-linenumber="80">
              <span class="hits">2645</span>
              <code class="sql">        trigger_listener_event( g_event_listeners_index(a_event_name), a_event_name, a_event_object );</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="7619" data-linenumber="82">
              <span class="hits">7619</span>
              <code class="sql">      if a_event_name = ut_event_manager.gc_finalize then</code></li>

            <li class="covered" data-hits="116" data-linenumber="83">
              <span class="hits">116</span>
              <code class="sql">        dispose_listeners();</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">  procedure add_event( a_event_name t_event_name, a_listener_pos binary_integer ) is</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4967" data-linenumber="90">
              <span class="hits">4967</span>
              <code class="sql">    g_event_listeners_index(a_event_name)(a_listener_pos) := true;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">  procedure add_events( a_event_names ut_varchar2_list, a_listener_pos binary_integer ) is</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5199" data-linenumber="95">
              <span class="hits">5199</span>
              <code class="sql">    for i in 1 .. a_event_names.count loop</code></li>

            <li class="covered" data-hits="4967" data-linenumber="96">
              <span class="hits">4967</span>
              <code class="sql">      add_event( a_event_names(i), a_listener_pos );</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  function add_listener( a_listener ut_event_listener ) return t_listener_number is</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="232" data-linenumber="102">
              <span class="hits">232</span>
              <code class="sql">    if g_listeners is null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="103">
              <code class="sql">      g_listeners := t_listeners();</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="232" data-linenumber="105">
              <span class="hits">232</span>
              <code class="sql">    g_listeners.extend;</code></li>

            <li class="covered" data-hits="232" data-linenumber="106">
              <span class="hits">232</span>
              <code class="sql">    g_listeners(g_listeners.last) := a_listener;</code></li>

            <li class="covered" data-hits="232" data-linenumber="107">
              <span class="hits">232</span>
              <code class="sql">    return g_listeners.last;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">  procedure add_listener( a_listener ut_event_listener ) is</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">    l_event_names ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="232" data-linenumber="113">
              <span class="hits">232</span>
              <code class="sql">    if a_listener is not null then</code></li>

            <li class="covered" data-hits="232" data-linenumber="114">
              <span class="hits">232</span>
              <code class="sql">      l_event_names := a_listener.get_supported_events();</code></li>

            <li class="covered" data-hits="232" data-linenumber="115">
              <span class="hits">232</span>
              <code class="sql">      if l_event_names is not empty then</code></li>

            <li class="covered" data-hits="232" data-linenumber="116">
              <span class="hits">232</span>
              <code class="sql">        add_events( l_event_names, add_listener( a_listener ) );</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="BAA83A4480A76070F2484D5E5ECC8178"><div class="header"> <h3>UT3.UT_OUTPUT_BUFFER_BASE</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>26</b> relevant lines. <span class="green"><b>26</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_output_buffer_base is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init(self in out nocopy ut_output_buffer_base, a_output_id raw := null, a_self_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">    l_exists int;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="247" data-linenumber="23">
              <span class="hits">247</span>
              <code class="sql">    cleanup_buffer();</code></li>

            <li class="covered" data-hits="247" data-linenumber="24">
              <span class="hits">247</span>
              <code class="sql">    self.self_type := coalesce(a_self_type,self.self_type);</code></li>

            <li class="covered" data-hits="247" data-linenumber="25">
              <span class="hits">247</span>
              <code class="sql">    self.output_id := coalesce(a_output_id, self.output_id, sys_guid());</code></li>

            <li class="covered" data-hits="247" data-linenumber="26">
              <span class="hits">247</span>
              <code class="sql">    self.start_date := coalesce(self.start_date, sysdate);</code></li>

            <li class="covered" data-hits="247" data-linenumber="27">
              <span class="hits">247</span>
              <code class="sql">    self.last_message_id := 0;</code></li>

            <li class="covered" data-hits="247" data-linenumber="28">
              <span class="hits">247</span>
              <code class="sql">    select count(*) into l_exists from ut_output_buffer_info_tmp where output_id = self.output_id;</code></li>

            <li class="covered" data-hits="247" data-linenumber="29">
              <span class="hits">247</span>
              <code class="sql">    if ( l_exists &gt; 0 ) then</code></li>

            <li class="covered" data-hits="119" data-linenumber="30">
              <span class="hits">119</span>
              <code class="sql">      update ut_output_buffer_info_tmp set start_date = self.start_date where output_id = self.output_id;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="128" data-linenumber="32">
              <span class="hits">128</span>
              <code class="sql">      insert into ut_output_buffer_info_tmp(output_id, start_date) values (self.output_id, self.start_date);</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="247" data-linenumber="34">
              <span class="hits">247</span>
              <code class="sql">    commit;</code></li>

            <li class="covered" data-hits="247" data-linenumber="35">
              <span class="hits">247</span>
              <code class="sql">    self.is_closed := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  member function get_lines_cursor(a_initial_timeout natural := null, a_timeout_sec natural := null) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_lines sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="117" data-linenumber="41">
              <span class="hits">117</span>
              <code class="sql">    open l_lines for</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">      select text, item_type</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">        from table(self.get_lines(a_initial_timeout, a_timeout_sec));</code></li>

            <li class="covered" data-hits="117" data-linenumber="44">
              <span class="hits">117</span>
              <code class="sql">    return l_lines;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    member procedure lines_to_dbms_output(self in ut_output_buffer_base, a_initial_timeout natural := null, a_timeout_sec natural := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    l_data      sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">    l_clob      clob;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    l_item_type varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">    l_lines     ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="32" data-linenumber="53">
              <span class="hits">32</span>
              <code class="sql">    l_data := self.get_lines_cursor(a_initial_timeout, a_timeout_sec);</code></li>

            <li class="covered" data-hits="629" data-linenumber="54">
              <span class="hits">629</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="629" data-linenumber="55">
              <span class="hits">629</span>
              <code class="sql">      fetch l_data into l_clob, l_item_type;</code></li>

            <li class="covered" data-hits="629" data-linenumber="56">
              <span class="hits">629</span>
              <code class="sql">      exit when l_data%notfound;</code></li>

            <li class="covered" data-hits="597" data-linenumber="57">
              <span class="hits">597</span>
              <code class="sql">      l_lines := ut_utils.clob_to_table(l_clob);</code></li>

            <li class="covered" data-hits="1206" data-linenumber="58">
              <span class="hits">1206</span>
              <code class="sql">      for i in 1 .. l_lines.count loop</code></li>

            <li class="covered" data-hits="609" data-linenumber="59">
              <span class="hits">609</span>
              <code class="sql">        dbms_output.put_line(l_lines(i));</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="32" data-linenumber="62">
              <span class="hits">32</span>
              <code class="sql">    close l_data;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  member procedure cleanup_buffer(self in ut_output_buffer_base, a_retention_time_sec natural := null) is</code></li>

            <li class="covered" data-hits="247" data-linenumber="66">
              <span class="hits">247</span>
              <code class="sql">    gc_buffer_retention_sec  constant naturaln := coalesce(a_retention_time_sec, 60 * 60 * 24); -- 24 hours</code></li>

            <li class="covered" data-hits="247" data-linenumber="67">
              <span class="hits">247</span>
              <code class="sql">    l_retention_days         number := gc_buffer_retention_sec / (60 * 60 * 24);</code></li>

            <li class="covered" data-hits="247" data-linenumber="68">
              <span class="hits">247</span>
              <code class="sql">    l_max_retention_date     date := sysdate - l_retention_days;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="247" data-linenumber="71">
              <span class="hits">247</span>
              <code class="sql">    delete from ut_output_buffer_info_tmp i where i.start_date &lt;= l_max_retention_date;</code></li>

            <li class="covered" data-hits="247" data-linenumber="72">
              <span class="hits">247</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="D63A88DED6138F860763ACA1459F028E"><div class="header"> <h3>UT3.UT_OUTPUT_CLOB_TABLE_BUFFER</h3><h4><span class="green">98.21 %</span> lines covered</h4><div> <b>56</b> relevant lines. <span class="green"><b>55</b> lines covered</span> (including <span class="yellow"><b>1</b> lines partially covered</span> ) and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_output_clob_table_buffer is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_output_clob_table_buffer(self in out nocopy ut_output_clob_table_buffer, a_output_id raw := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="21">
              <span class="hits">5</span>
              <code class="sql">    self.init(a_output_id, $$plsql_unit);</code></li>

            <li class="covered" data-hits="5" data-linenumber="22">
              <span class="hits">5</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member procedure close(self in out nocopy ut_output_clob_table_buffer) is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="28">
              <span class="hits">4</span>
              <code class="sql">    self.last_message_id := self.last_message_id + 1;</code></li>

            <li class="covered" data-hits="4" data-linenumber="29">
              <span class="hits">4</span>
              <code class="sql">    insert into ut_output_clob_buffer_tmp(output_id, message_id, is_finished)</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    values (self.output_id, self.last_message_id, 1);</code></li>

            <li class="covered" data-hits="4" data-linenumber="31">
              <span class="hits">4</span>
              <code class="sql">    commit;</code></li>

            <li class="covered" data-hits="4" data-linenumber="32">
              <span class="hits">4</span>
              <code class="sql">    self.is_closed := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  overriding member procedure send_line(self in out nocopy ut_output_clob_table_buffer, a_text varchar2, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="309" data-linenumber="38">
              <span class="hits">309</span>
              <code class="sql">    if a_text is not null or a_item_type is not null then</code></li>

            <li class="covered" data-hits="309" data-linenumber="39">
              <span class="hits">309</span>
              <code class="sql">      self.last_message_id := self.last_message_id + 1;</code></li>

            <li class="covered" data-hits="309" data-linenumber="40">
              <span class="hits">309</span>
              <code class="sql">      insert into ut_output_clob_buffer_tmp(output_id, message_id, text, item_type)</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">      values (self.output_id, self.last_message_id, a_text, a_item_type);</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="309" data-linenumber="43">
              <span class="hits">309</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  overriding member procedure send_lines(self in out nocopy ut_output_clob_table_buffer, a_text_list ut_varchar2_rows, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="53" data-linenumber="49">
              <span class="hits">53</span>
              <code class="sql">    insert into ut_output_clob_buffer_tmp(output_id, message_id, text, item_type)</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    select self.output_id, self.last_message_id + rownum, t.column_value, a_item_type</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">      from table(a_text_list) t</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">     where t.column_value is not null or a_item_type is not null;</code></li>

            <li class="covered" data-hits="53" data-linenumber="53">
              <span class="hits">53</span>
              <code class="sql">    self.last_message_id := self.last_message_id + SQL%rowcount;</code></li>

            <li class="covered" data-hits="53" data-linenumber="54">
              <span class="hits">53</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  overriding member procedure send_clob(self in out nocopy ut_output_clob_table_buffer, a_text clob, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  begin</code></li>

            <li class="partcov" data-hits="31" data-blocks="1/2" data-linenumber="60">
                <span class="blocks">1/2</span>
              <span class="hits">31</span>
              <code class="sql">    if a_text is not null and a_text != empty_clob() or a_item_type is not null then</code></li>

            <li class="covered" data-hits="31" data-linenumber="61">
              <span class="hits">31</span>
              <code class="sql">      self.last_message_id := self.last_message_id + 1;</code></li>

            <li class="covered" data-hits="31" data-linenumber="62">
              <span class="hits">31</span>
              <code class="sql">      insert into ut_output_clob_buffer_tmp(output_id, message_id, text, item_type)</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">      values (self.output_id, self.last_message_id, a_text, a_item_type);</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="31" data-linenumber="65">
              <span class="hits">31</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  overriding member function get_lines(a_initial_timeout natural := null, a_timeout_sec natural := null) return ut_output_data_rows pipelined is</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">    type t_rowid_tab     is table of urowid;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    l_message_rowids     t_rowid_tab;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    l_buffer_data        ut_output_data_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    l_finished_flags     ut_integer_list;</code></li>

            <li class="covered" data-hits="4" data-linenumber="73">
              <span class="hits">4</span>
              <code class="sql">    l_already_waited_for number(10,2) := 0;</code></li>

            <li class="covered" data-hits="4" data-linenumber="74">
              <span class="hits">4</span>
              <code class="sql">    l_finished           boolean := false;</code></li>

            <li class="covered" data-hits="4" data-linenumber="75">
              <span class="hits">4</span>
              <code class="sql">    lc_init_wait_sec     constant naturaln := coalesce(a_initial_timeout, 60 ); -- 1 minute</code></li>

            <li class="covered" data-hits="4" data-linenumber="76">
              <span class="hits">4</span>
              <code class="sql">    lc_max_wait_sec      constant naturaln := coalesce(a_timeout_sec, 60 * 60 * 4); -- 4 hours</code></li>

            <li class="covered" data-hits="4" data-linenumber="77">
              <span class="hits">4</span>
              <code class="sql">    l_wait_for           integer := lc_init_wait_sec;</code></li>

            <li class="covered" data-hits="4" data-linenumber="78">
              <span class="hits">4</span>
              <code class="sql">    lc_short_sleep_time  constant number(1,1) := 0.1; --sleep for 100 ms between checks</code></li>

            <li class="covered" data-hits="4" data-linenumber="79">
              <span class="hits">4</span>
              <code class="sql">    lc_long_sleep_time   constant number(1) := 1;     --sleep for 1 s when waiting long</code></li>

            <li class="covered" data-hits="4" data-linenumber="80">
              <span class="hits">4</span>
              <code class="sql">    lc_long_wait_time    constant number(1) := 1;     --waiting more than 1 sec</code></li>

            <li class="covered" data-hits="4" data-linenumber="81">
              <span class="hits">4</span>
              <code class="sql">    l_sleep_time         number(2,1) := lc_short_sleep_time;</code></li>

            <li class="covered" data-hits="4" data-linenumber="82">
              <span class="hits">4</span>
              <code class="sql">    lc_bulk_limit        constant integer := 5000;</code></li>

            <li class="covered" data-hits="4" data-linenumber="83">
              <span class="hits">4</span>
              <code class="sql">    l_max_message_id     integer := lc_bulk_limit;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">    procedure remove_read_data(a_message_rowids t_rowid_tab) is</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">      pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="88">
              <span class="hits">3</span>
              <code class="sql">      forall i in 1 .. a_message_rowids.count</code></li>

            <li class="covered" data-hits="1" data-linenumber="89">
              <span class="hits">1</span>
              <code class="sql">        delete from ut_output_clob_buffer_tmp a</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">         where rowid = a_message_rowids(i);</code></li>

            <li class="covered" data-hits="3" data-linenumber="91">
              <span class="hits">3</span>
              <code class="sql">      commit;</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">    procedure remove_buffer_info is</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">      pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="97">
              <span class="hits">4</span>
              <code class="sql">      delete from ut_output_buffer_info_tmp a</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">       where a.output_id = self.output_id;</code></li>

            <li class="covered" data-hits="4" data-linenumber="99">
              <span class="hits">4</span>
              <code class="sql">      commit;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="103">
              <span class="hits">7</span>
              <code class="sql">    while not l_finished loop</code></li>

            <li class="covered" data-hits="4" data-linenumber="104">
              <span class="hits">4</span>
              <code class="sql">      with ordered_buffer as (</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">        select /*+ index(a) */ a.rowid, ut_output_data_row(a.text, a.item_type), is_finished</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">          from ut_output_clob_buffer_tmp a</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">         where a.output_id = self.output_id</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">           and a.message_id &lt;= l_max_message_id</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">         order by a.message_id</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">      select b.*</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">        bulk collect into l_message_rowids, l_buffer_data, l_finished_flags</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">        from ordered_buffer b;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">      --nothing fetched from output, wait and try again</code></li>

            <li class="covered" data-hits="4" data-linenumber="116">
              <span class="hits">4</span>
              <code class="sql">      if l_buffer_data.count = 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">        $if dbms_db_version.version &gt;= 18 $then</code></li>

            <li class="covered" data-hits="1" data-linenumber="118">
              <span class="hits">1</span>
              <code class="sql">          dbms_session.sleep(l_sleep_time);</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">        $else</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">          dbms_lock.sleep(l_sleep_time);</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">        $end</code></li>

            <li class="covered" data-hits="1" data-linenumber="122">
              <span class="hits">1</span>
              <code class="sql">        l_already_waited_for := l_already_waited_for + l_sleep_time;</code></li>

            <li class="covered" data-hits="1" data-linenumber="123">
              <span class="hits">1</span>
              <code class="sql">        if l_already_waited_for &gt; lc_long_wait_time then</code></li>

            <li class="missed" data-hits="0" data-linenumber="124">
              <code class="sql">          l_sleep_time := lc_long_sleep_time;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">      else</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">        --reset wait time</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">        -- we wait lc_max_wait_sec for new message</code></li>

            <li class="covered" data-hits="3" data-linenumber="129">
              <span class="hits">3</span>
              <code class="sql">        l_wait_for := lc_max_wait_sec;</code></li>

            <li class="covered" data-hits="3" data-linenumber="130">
              <span class="hits">3</span>
              <code class="sql">        l_already_waited_for := 0;</code></li>

            <li class="covered" data-hits="3" data-linenumber="131">
              <span class="hits">3</span>
              <code class="sql">        l_sleep_time := lc_short_sleep_time;</code></li>

            <li class="covered" data-hits="59" data-linenumber="132">
              <span class="hits">59</span>
              <code class="sql">        for i in 1 .. l_buffer_data.count loop</code></li>

            <li class="covered" data-hits="2540" data-linenumber="133">
              <span class="hits">2540</span>
              <code class="sql">          if l_buffer_data(i).text is not null then</code></li>

            <li class="covered" data-hits="2482" data-linenumber="134">
              <span class="hits">2482</span>
              <code class="sql">            pipe row(l_buffer_data(i));</code></li>

            <li class="covered" data-hits="58" data-linenumber="135">
              <span class="hits">58</span>
              <code class="sql">          elsif l_finished_flags(i) = 1 then</code></li>

            <li class="covered" data-hits="3" data-linenumber="136">
              <span class="hits">3</span>
              <code class="sql">            l_finished := true;</code></li>

            <li class="covered" data-hits="3" data-linenumber="137">
              <span class="hits">3</span>
              <code class="sql">            exit;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">        end loop;</code></li>

            <li class="covered" data-hits="3" data-linenumber="140">
              <span class="hits">3</span>
              <code class="sql">        remove_read_data(l_message_rowids);</code></li>

            <li class="covered" data-hits="3" data-linenumber="141">
              <span class="hits">3</span>
              <code class="sql">        l_max_message_id := l_max_message_id + lc_bulk_limit;</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="4" data-linenumber="143">
              <span class="hits">4</span>
              <code class="sql">      if l_finished or l_already_waited_for &gt;= l_wait_for then</code></li>

            <li class="covered" data-hits="4" data-linenumber="144">
              <span class="hits">4</span>
              <code class="sql">        remove_buffer_info();</code></li>

            <li class="covered" data-hits="4" data-linenumber="145">
              <span class="hits">4</span>
              <code class="sql">        if l_already_waited_for &gt; 0 and l_already_waited_for &gt;= l_wait_for then</code></li>

            <li class="covered" data-hits="1" data-linenumber="146">
              <span class="hits">1</span>
              <code class="sql">          raise_application_error(</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">            ut_utils.gc_out_buffer_timeout,</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">            &apos;Timeout occurred while waiting for output data. Waited for: &apos;||l_already_waited_for||&apos; seconds.&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="3" data-linenumber="153">
              <span class="hits">3</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="6846EE8B5D12F3090BB4F904381C7FC5"><div class="header"> <h3>UT3.UT_OUTPUT_TABLE_BUFFER</h3><h4><span class="yellow">86.21 %</span> lines covered</h4><div> <b>58</b> relevant lines. <span class="green"><b>50</b> lines covered</span> and <span class="red"><b>8</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_output_table_buffer is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_output_table_buffer(self in out nocopy ut_output_table_buffer, a_output_id raw := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="123" data-linenumber="21">
              <span class="hits">123</span>
              <code class="sql">    self.init(a_output_id, $$plsql_unit);</code></li>

            <li class="covered" data-hits="123" data-linenumber="22">
              <span class="hits">123</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member procedure close(self in out nocopy ut_output_table_buffer) is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="117" data-linenumber="28">
              <span class="hits">117</span>
              <code class="sql">    self.last_message_id := self.last_message_id + 1;</code></li>

            <li class="covered" data-hits="117" data-linenumber="29">
              <span class="hits">117</span>
              <code class="sql">    insert into ut_output_buffer_tmp(output_id, message_id, is_finished)</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    values (self.output_id, self.last_message_id, 1);</code></li>

            <li class="covered" data-hits="117" data-linenumber="31">
              <span class="hits">117</span>
              <code class="sql">    commit;</code></li>

            <li class="covered" data-hits="117" data-linenumber="32">
              <span class="hits">117</span>
              <code class="sql">    self.is_closed := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  overriding member procedure send_line(self in out nocopy ut_output_table_buffer, a_text varchar2, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1505" data-linenumber="38">
              <span class="hits">1505</span>
              <code class="sql">    if a_text is not null or a_item_type is not null then</code></li>

            <li class="covered" data-hits="1504" data-linenumber="39">
              <span class="hits">1504</span>
              <code class="sql">      if length(a_text) &gt; ut_utils.gc_max_storage_varchar2_len then</code></li>

            <li class="missed" data-hits="0" data-linenumber="40">
              <code class="sql">        self.send_lines(</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">          ut_utils.convert_collection(</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">            ut_utils.clob_to_table(a_text, ut_utils.gc_max_storage_varchar2_len)</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">            ),</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">          a_item_type</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="1504" data-linenumber="47">
              <span class="hits">1504</span>
              <code class="sql">        self.last_message_id := self.last_message_id + 1;</code></li>

            <li class="covered" data-hits="1504" data-linenumber="48">
              <span class="hits">1504</span>
              <code class="sql">        insert into ut_output_buffer_tmp(output_id, message_id, text, item_type)</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">        values (self.output_id, self.last_message_id, a_text, a_item_type);</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="1504" data-linenumber="51">
              <span class="hits">1504</span>
              <code class="sql">      commit;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  overriding member procedure send_lines(self in out nocopy ut_output_table_buffer, a_text_list ut_varchar2_rows, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="282" data-linenumber="58">
              <span class="hits">282</span>
              <code class="sql">    insert into ut_output_buffer_tmp(output_id, message_id, text, item_type)</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">    select self.output_id, self.last_message_id + rownum, t.column_value, a_item_type</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">      from table(a_text_list) t</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">     where t.column_value is not null or a_item_type is not null;</code></li>

            <li class="covered" data-hits="282" data-linenumber="62">
              <span class="hits">282</span>
              <code class="sql">    self.last_message_id := self.last_message_id + SQL%rowcount;</code></li>

            <li class="covered" data-hits="282" data-linenumber="63">
              <span class="hits">282</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  overriding member procedure send_clob(self in out nocopy ut_output_table_buffer, a_text clob, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="69">
              <code class="sql">    if a_text is not null and a_text != empty_clob() or a_item_type is not null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="70">
              <code class="sql">      if length(a_text) &gt; ut_utils.gc_max_storage_varchar2_len then</code></li>

            <li class="missed" data-hits="0" data-linenumber="71">
              <code class="sql">        self.send_lines(</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">          ut_utils.convert_collection(</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">            ut_utils.clob_to_table(a_text, ut_utils.gc_max_storage_varchar2_len)</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">            ),</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">          a_item_type</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">      else</code></li>

            <li class="missed" data-hits="0" data-linenumber="78">
              <code class="sql">        self.last_message_id := self.last_message_id + 1;</code></li>

            <li class="missed" data-hits="0" data-linenumber="79">
              <code class="sql">        insert into ut_output_buffer_tmp(output_id, message_id, text, item_type)</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">        values (self.output_id, self.last_message_id, a_text, a_item_type);</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">      end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="82">
              <code class="sql">      commit;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  overriding member function get_lines(a_initial_timeout natural := null, a_timeout_sec natural := null) return ut_output_data_rows pipelined is</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">    l_buffer_data        ut_varchar2_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    l_item_types         ut_varchar2_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">    l_finished_flags     ut_integer_list;</code></li>

            <li class="covered" data-hits="116" data-linenumber="90">
              <span class="hits">116</span>
              <code class="sql">    l_already_waited_for number(10,2) := 0;</code></li>

            <li class="covered" data-hits="116" data-linenumber="91">
              <span class="hits">116</span>
              <code class="sql">    l_finished           boolean := false;</code></li>

            <li class="covered" data-hits="116" data-linenumber="92">
              <span class="hits">116</span>
              <code class="sql">    lc_init_wait_sec     constant naturaln := coalesce(a_initial_timeout, 60 ); -- 1 minute</code></li>

            <li class="covered" data-hits="116" data-linenumber="93">
              <span class="hits">116</span>
              <code class="sql">    lc_max_wait_sec      constant naturaln := coalesce(a_timeout_sec, 60 * 60 * 4); -- 4 hours</code></li>

            <li class="covered" data-hits="116" data-linenumber="94">
              <span class="hits">116</span>
              <code class="sql">    l_wait_for           integer := lc_init_wait_sec;</code></li>

            <li class="covered" data-hits="116" data-linenumber="95">
              <span class="hits">116</span>
              <code class="sql">    lc_short_sleep_time  constant number(1,1) := 0.1; --sleep for 100 ms between checks</code></li>

            <li class="covered" data-hits="116" data-linenumber="96">
              <span class="hits">116</span>
              <code class="sql">    lc_long_sleep_time   constant number(1) := 1;     --sleep for 1 s when waiting long</code></li>

            <li class="covered" data-hits="116" data-linenumber="97">
              <span class="hits">116</span>
              <code class="sql">    lc_long_wait_time    constant number(1) := 1;     --waiting more than 1 sec</code></li>

            <li class="covered" data-hits="116" data-linenumber="98">
              <span class="hits">116</span>
              <code class="sql">    l_sleep_time         number(2,1) := lc_short_sleep_time;</code></li>

            <li class="covered" data-hits="116" data-linenumber="99">
              <span class="hits">116</span>
              <code class="sql">    lc_bulk_limit        constant integer := 5000;</code></li>

            <li class="covered" data-hits="116" data-linenumber="100">
              <span class="hits">116</span>
              <code class="sql">    l_max_message_id     integer := lc_bulk_limit;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">    procedure get_data_from_buffer(</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">      a_max_message_id integer,</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">      a_buffer_data    out nocopy ut_varchar2_rows,</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">      a_item_types     out nocopy ut_varchar2_rows,</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">      a_finished_flags out nocopy ut_integer_list</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">    ) is</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">      pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="128" data-linenumber="110">
              <span class="hits">128</span>
              <code class="sql">      delete from (</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">                    select *</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">                      from ut_output_buffer_tmp o</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">                     where o.output_id = self.output_id</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">                       and o.message_id &lt;= a_max_message_id</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">                     order by o.message_id</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">                  ) d</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">      returning d.text, d.item_type, d.is_finished</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">      bulk collect into a_buffer_data, a_item_types, a_finished_flags;</code></li>

            <li class="covered" data-hits="128" data-linenumber="119">
              <span class="hits">128</span>
              <code class="sql">      commit;</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">    procedure remove_buffer_info is</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">      pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="126">
              <span class="hits">116</span>
              <code class="sql">      delete from ut_output_buffer_info_tmp a</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">       where a.output_id = self.output_id;</code></li>

            <li class="covered" data-hits="116" data-linenumber="128">
              <span class="hits">116</span>
              <code class="sql">      commit;</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="242" data-linenumber="132">
              <span class="hits">242</span>
              <code class="sql">    while not l_finished loop</code></li>

            <li class="covered" data-hits="128" data-linenumber="133">
              <span class="hits">128</span>
              <code class="sql">      get_data_from_buffer( l_max_message_id, l_buffer_data, l_item_types, l_finished_flags);</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">      --nothing fetched from output, wait and try again</code></li>

            <li class="covered" data-hits="128" data-linenumber="135">
              <span class="hits">128</span>
              <code class="sql">      if l_buffer_data.count = 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">        $if dbms_db_version.version &gt;= 18 $then</code></li>

            <li class="covered" data-hits="11" data-linenumber="137">
              <span class="hits">11</span>
              <code class="sql">          dbms_session.sleep(l_sleep_time);</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">        $else</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">          dbms_lock.sleep(l_sleep_time);</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">        $end</code></li>

            <li class="covered" data-hits="11" data-linenumber="141">
              <span class="hits">11</span>
              <code class="sql">        l_already_waited_for := l_already_waited_for + l_sleep_time;</code></li>

            <li class="covered" data-hits="11" data-linenumber="142">
              <span class="hits">11</span>
              <code class="sql">        if l_already_waited_for &gt; lc_long_wait_time then</code></li>

            <li class="missed" data-hits="0" data-linenumber="143">
              <code class="sql">          l_sleep_time := lc_long_sleep_time;</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">      else</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">        --reset wait time</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">        -- we wait lc_max_wait_sec for new message</code></li>

            <li class="covered" data-hits="117" data-linenumber="148">
              <span class="hits">117</span>
              <code class="sql">        l_wait_for := lc_max_wait_sec;</code></li>

            <li class="covered" data-hits="117" data-linenumber="149">
              <span class="hits">117</span>
              <code class="sql">        l_already_waited_for := 0;</code></li>

            <li class="covered" data-hits="117" data-linenumber="150">
              <span class="hits">117</span>
              <code class="sql">        l_sleep_time := lc_short_sleep_time;</code></li>

            <li class="covered" data-hits="232" data-linenumber="151">
              <span class="hits">232</span>
              <code class="sql">        for i in 1 .. l_buffer_data.count loop</code></li>

            <li class="covered" data-hits="14921" data-linenumber="152">
              <span class="hits">14921</span>
              <code class="sql">          if l_buffer_data(i) is not null then</code></li>

            <li class="covered" data-hits="14695" data-linenumber="153">
              <span class="hits">14695</span>
              <code class="sql">            pipe row(ut_output_data_row(l_buffer_data(i),l_item_types(i)));</code></li>

            <li class="covered" data-hits="226" data-linenumber="154">
              <span class="hits">226</span>
              <code class="sql">          elsif l_finished_flags(i) = 1 then</code></li>

            <li class="covered" data-hits="114" data-linenumber="155">
              <span class="hits">114</span>
              <code class="sql">            l_finished := true;</code></li>

            <li class="covered" data-hits="114" data-linenumber="156">
              <span class="hits">114</span>
              <code class="sql">            exit;</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">        end loop;</code></li>

            <li class="covered" data-hits="117" data-linenumber="159">
              <span class="hits">117</span>
              <code class="sql">        l_max_message_id := l_max_message_id + lc_bulk_limit;</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="128" data-linenumber="161">
              <span class="hits">128</span>
              <code class="sql">      if l_finished or l_already_waited_for &gt;= l_wait_for then</code></li>

            <li class="covered" data-hits="116" data-linenumber="162">
              <span class="hits">116</span>
              <code class="sql">        remove_buffer_info();</code></li>

            <li class="covered" data-hits="116" data-linenumber="163">
              <span class="hits">116</span>
              <code class="sql">        if l_already_waited_for &gt; 0 and l_already_waited_for &gt;= l_wait_for then</code></li>

            <li class="covered" data-hits="2" data-linenumber="164">
              <span class="hits">2</span>
              <code class="sql">          raise_application_error(</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">            ut_utils.gc_out_buffer_timeout,</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">            &apos;Timeout occurred while waiting for output data. Waited for: &apos;||l_already_waited_for||&apos; seconds.&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="114" data-linenumber="171">
              <span class="hits">114</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="CACBE6AC4D7CF2EB8E33CA08E6723E2F"><div class="header"> <h3>UT3.UT_SESSION_CONTEXT</h3><h4><span class="yellow">85.71 %</span> lines covered</h4><div> <b>7</b> relevant lines. <span class="green"><b>6</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_session_context as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">  $IF $$SELF_TESTING_INSTALL $THEN</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  gc_context_name constant varchar2(30) := ut_utils.ut_owner()||&apos;_INFO&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  $ELSE</code></li>

            <li class="covered" data-hits="1" data-linenumber="21">
              <span class="hits">1</span>
              <code class="sql">  gc_context_name constant varchar2(30) := &apos;UT3_INFO&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  $END</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  procedure set_context(a_name varchar2, a_value varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3288" data-linenumber="26">
              <span class="hits">3288</span>
              <code class="sql">    dbms_session.set_context( gc_context_name, a_name, a_value );</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  procedure clear_context(a_name varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3284" data-linenumber="31">
              <span class="hits">3284</span>
              <code class="sql">    dbms_session.clear_context( namespace =&gt; gc_context_name, attribute =&gt; a_name );</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  procedure clear_all_context is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="120" data-linenumber="36">
              <span class="hits">120</span>
              <code class="sql">    dbms_session.clear_all_context( namespace =&gt; gc_context_name );</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  function is_ut_run return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">    l_paths    varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="799" data-linenumber="42">
              <span class="hits">799</span>
              <code class="sql">    l_paths := sys_context(gc_context_name, &apos;RUN_PATHS&apos;);</code></li>

            <li class="covered" data-hits="799" data-linenumber="43">
              <span class="hits">799</span>
              <code class="sql">    return l_paths is not null;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  function get_namespace return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="48">
              <code class="sql">    return gc_context_name;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="CCBC00D0ED335BD281375A70EE43CF2E"><div class="header"> <h3>UT3.UT_SESSION_INFO</h3><h4><span class="green">98.68 %</span> lines covered</h4><div> <b>76</b> relevant lines. <span class="green"><b>75</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_session_info as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_session_info(self in out nocopy ut_session_info) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="21">
              <span class="hits">116</span>
              <code class="sql">    self.self_type   := $$plsql_unit;</code></li>

            <li class="covered" data-hits="116" data-linenumber="22">
              <span class="hits">116</span>
              <code class="sql">    dbms_application_info.read_client_info( client_info );</code></li>

            <li class="covered" data-hits="116" data-linenumber="23">
              <span class="hits">116</span>
              <code class="sql">    dbms_application_info.read_module( module, action );</code></li>

            <li class="covered" data-hits="116" data-linenumber="24">
              <span class="hits">116</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  -- run hooks</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  member procedure before_calling_run(self in out nocopy ut_session_info, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="115" data-linenumber="30">
              <span class="hits">115</span>
              <code class="sql">    ut_session_context.set_context( &apos;run_paths&apos;, ut_utils.to_string( ut_utils.table_to_clob( a_run.run_paths,&apos;,&apos; ), null ) );</code></li>

            <li class="covered" data-hits="115" data-linenumber="31">
              <span class="hits">115</span>
              <code class="sql">    dbms_application_info.set_module( &apos;utPLSQL&apos;, null );</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  member procedure after_calling_run(self in out nocopy ut_session_info, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="115" data-linenumber="36">
              <span class="hits">115</span>
              <code class="sql">    ut_session_context.clear_context( &apos;run_paths&apos; );</code></li>

            <li class="covered" data-hits="115" data-linenumber="37">
              <span class="hits">115</span>
              <code class="sql">    dbms_application_info.set_module( module, action );</code></li>

            <li class="covered" data-hits="115" data-linenumber="38">
              <span class="hits">115</span>
              <code class="sql">    dbms_application_info.set_client_info( client_info );</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  -- suite hooks</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  member procedure before_calling_suite(self in out nocopy ut_session_info, a_suite in ut_logical_suite) is</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="333" data-linenumber="44">
              <span class="hits">333</span>
              <code class="sql">    if a_suite is not of (ut_suite_context) then</code></li>

            <li class="covered" data-hits="322" data-linenumber="45">
              <span class="hits">322</span>
              <code class="sql">      ut_session_context.set_context( &apos;suite_path&apos;,        a_suite.path );</code></li>

            <li class="covered" data-hits="322" data-linenumber="46">
              <span class="hits">322</span>
              <code class="sql">      ut_session_context.set_context( &apos;suite_package&apos;,     a_suite.object_owner||&apos;.&apos;||a_suite.object_name );</code></li>

            <li class="covered" data-hits="322" data-linenumber="47">
              <span class="hits">322</span>
              <code class="sql">      ut_session_context.set_context( &apos;suite_description&apos;, a_suite.description );</code></li>

            <li class="covered" data-hits="322" data-linenumber="48">
              <span class="hits">322</span>
              <code class="sql">      ut_session_context.set_context( &apos;suite_start_time&apos;,  ut_utils.to_string(a_suite.start_time)  );</code></li>

            <li class="covered" data-hits="322" data-linenumber="49">
              <span class="hits">322</span>
              <code class="sql">      dbms_application_info.set_module( &apos;utPLSQL&apos;,         a_suite.object_name );</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="11" data-linenumber="51">
              <span class="hits">11</span>
              <code class="sql">      ut_session_context.set_context( &apos;context_name&apos;,        a_suite.name );</code></li>

            <li class="covered" data-hits="11" data-linenumber="52">
              <span class="hits">11</span>
              <code class="sql">      ut_session_context.set_context( &apos;context_path&apos;,        a_suite.path);</code></li>

            <li class="covered" data-hits="11" data-linenumber="53">
              <span class="hits">11</span>
              <code class="sql">      ut_session_context.set_context( &apos;context_description&apos;, a_suite.description );</code></li>

            <li class="covered" data-hits="11" data-linenumber="54">
              <span class="hits">11</span>
              <code class="sql">      ut_session_context.set_context( &apos;context_start_time&apos;,  ut_utils.to_string(a_suite.start_time)  );</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  member procedure after_calling_suite(self in out nocopy ut_session_info, a_suite in ut_logical_suite) is</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="333" data-linenumber="60">
              <span class="hits">333</span>
              <code class="sql">    if a_suite is not of (ut_suite_context) then</code></li>

            <li class="covered" data-hits="322" data-linenumber="61">
              <span class="hits">322</span>
              <code class="sql">      ut_session_context.clear_context( &apos;suite_package&apos; );</code></li>

            <li class="covered" data-hits="322" data-linenumber="62">
              <span class="hits">322</span>
              <code class="sql">      ut_session_context.clear_context( &apos;suite_path&apos; );</code></li>

            <li class="covered" data-hits="322" data-linenumber="63">
              <span class="hits">322</span>
              <code class="sql">      ut_session_context.clear_context( &apos;suite_description&apos; );</code></li>

            <li class="covered" data-hits="322" data-linenumber="64">
              <span class="hits">322</span>
              <code class="sql">      ut_session_context.clear_context( &apos;suite_start_time&apos; );</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="11" data-linenumber="66">
              <span class="hits">11</span>
              <code class="sql">      ut_session_context.clear_context( &apos;context_name&apos; );</code></li>

            <li class="covered" data-hits="11" data-linenumber="67">
              <span class="hits">11</span>
              <code class="sql">      ut_session_context.clear_context( &apos;context_path&apos; );</code></li>

            <li class="covered" data-hits="11" data-linenumber="68">
              <span class="hits">11</span>
              <code class="sql">      ut_session_context.clear_context( &apos;context_description&apos; );</code></li>

            <li class="covered" data-hits="11" data-linenumber="69">
              <span class="hits">11</span>
              <code class="sql">      ut_session_context.clear_context( &apos;context_start_time&apos; );</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  member procedure before_calling_test(self in out nocopy ut_session_info, a_test in ut_test) is</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="319" data-linenumber="76">
              <span class="hits">319</span>
              <code class="sql">    ut_session_context.set_context( &apos;test_name&apos;, a_test.object_owner||&apos;.&apos;||a_test.object_name||&apos;.&apos;||a_test.name );</code></li>

            <li class="covered" data-hits="319" data-linenumber="77">
              <span class="hits">319</span>
              <code class="sql">    ut_session_context.set_context( &apos;test_description&apos;, a_test.description );</code></li>

            <li class="covered" data-hits="319" data-linenumber="78">
              <span class="hits">319</span>
              <code class="sql">    ut_session_context.set_context( &apos;test_start_time&apos;,  ut_utils.to_string(a_test.start_time)  );</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  member procedure after_calling_test (self in out nocopy ut_session_info, a_test in ut_test) is</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="319" data-linenumber="83">
              <span class="hits">319</span>
              <code class="sql">    ut_session_context.clear_context( &apos;test_name&apos; );</code></li>

            <li class="covered" data-hits="319" data-linenumber="84">
              <span class="hits">319</span>
              <code class="sql">    ut_session_context.clear_context( &apos;test_description&apos; );</code></li>

            <li class="covered" data-hits="319" data-linenumber="85">
              <span class="hits">319</span>
              <code class="sql">    ut_session_context.clear_context( &apos;test_start_time&apos; );</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">  member procedure before_calling_executable(self in out nocopy ut_session_info, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="440" data-linenumber="90">
              <span class="hits">440</span>
              <code class="sql">    ut_session_context.set_context( &apos;current_executable_type&apos;, a_executable.executable_type );</code></li>

            <li class="covered" data-hits="440" data-linenumber="91">
              <span class="hits">440</span>
              <code class="sql">    ut_session_context.set_context(</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">      &apos;current_executable_name&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">      a_executable.owner_name||&apos;.&apos;||a_executable.object_name||&apos;.&apos;||a_executable.procedure_name</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="440" data-linenumber="95">
              <span class="hits">440</span>
              <code class="sql">    dbms_application_info.set_client_info( a_executable.procedure_name );</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  member procedure after_calling_executable(self in out nocopy ut_session_info, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="440" data-linenumber="100">
              <span class="hits">440</span>
              <code class="sql">    ut_session_context.clear_context( &apos;current_executable_type&apos; );</code></li>

            <li class="covered" data-hits="440" data-linenumber="101">
              <span class="hits">440</span>
              <code class="sql">    ut_session_context.clear_context( &apos;current_executable_name&apos; );</code></li>

            <li class="covered" data-hits="440" data-linenumber="102">
              <span class="hits">440</span>
              <code class="sql">    dbms_application_info.set_client_info( null );</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  member procedure on_finalize(self in out nocopy ut_session_info, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="107">
              <span class="hits">116</span>
              <code class="sql">    dbms_application_info.set_client_info( client_info );</code></li>

            <li class="covered" data-hits="116" data-linenumber="108">
              <span class="hits">116</span>
              <code class="sql">    dbms_application_info.set_module( module, action );</code></li>

            <li class="covered" data-hits="117" data-linenumber="109">
              <span class="hits">117</span>
              <code class="sql">    ut_session_context.clear_all_context();</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">  overriding member function get_supported_events return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="114">
              <span class="hits">116</span>
              <code class="sql">    return ut_varchar2_list(</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">      ut_event_manager.gc_before_run,</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">      ut_event_manager.gc_before_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">      ut_event_manager.gc_before_test,</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">      ut_event_manager.gc_before_before_all,</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">      ut_event_manager.gc_before_before_each,</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">      ut_event_manager.gc_before_before_test,</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">      ut_event_manager.gc_before_test_execute,</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">      ut_event_manager.gc_before_after_test,</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">      ut_event_manager.gc_before_after_each,</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">      ut_event_manager.gc_before_after_all,</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">      ut_event_manager.gc_after_run,</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">      ut_event_manager.gc_after_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">      ut_event_manager.gc_after_test,</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">      ut_event_manager.gc_after_before_all,</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">      ut_event_manager.gc_after_before_each,</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">      ut_event_manager.gc_after_before_test,</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">      ut_event_manager.gc_after_test_execute,</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">      ut_event_manager.gc_after_after_test,</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">      ut_event_manager.gc_after_after_each,</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">      ut_event_manager.gc_after_after_all,</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">      ut_event_manager.gc_finalize</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">  overriding member procedure on_event( self in out nocopy ut_session_info, a_event_name varchar2, a_event_item ut_event_item) is</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2530" data-linenumber="141">
              <span class="hits">2530</span>
              <code class="sql">    case</code></li>

            <li class="covered" data-hits="2530" data-linenumber="142">
              <span class="hits">2530</span>
              <code class="sql">      when a_event_name in (</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">          ut_event_manager.gc_before_before_all,</code></li>

            <li class="covered" data-hits="1" data-linenumber="144">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_before_before_each,</code></li>

            <li class="covered" data-hits="1" data-linenumber="145">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_before_before_test,</code></li>

            <li class="covered" data-hits="1" data-linenumber="146">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_before_test_execute,</code></li>

            <li class="covered" data-hits="1" data-linenumber="147">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_before_after_test,</code></li>

            <li class="covered" data-hits="1" data-linenumber="148">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_before_after_each,</code></li>

            <li class="covered" data-hits="1" data-linenumber="149">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_before_after_all</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">        )</code></li>

            <li class="covered" data-hits="440" data-linenumber="151">
              <span class="hits">440</span>
              <code class="sql">        then before_calling_executable(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="2090" data-linenumber="152">
              <span class="hits">2090</span>
              <code class="sql">      when a_event_name in (</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">          ut_event_manager.gc_after_before_all,</code></li>

            <li class="covered" data-hits="1" data-linenumber="154">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_after_before_each,</code></li>

            <li class="covered" data-hits="1" data-linenumber="155">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_after_before_test,</code></li>

            <li class="covered" data-hits="1" data-linenumber="156">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_after_test_execute,</code></li>

            <li class="covered" data-hits="1" data-linenumber="157">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_after_after_test,</code></li>

            <li class="covered" data-hits="1" data-linenumber="158">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_after_after_each,</code></li>

            <li class="covered" data-hits="1" data-linenumber="159">
              <span class="hits">1</span>
              <code class="sql">          ut_event_manager.gc_after_after_all</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">        )</code></li>

            <li class="covered" data-hits="440" data-linenumber="161">
              <span class="hits">440</span>
              <code class="sql">        then after_calling_executable(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="1650" data-linenumber="162">
              <span class="hits">1650</span>
              <code class="sql">      when a_event_name = ut_event_manager.gc_before_test</code></li>

            <li class="covered" data-hits="319" data-linenumber="163">
              <span class="hits">319</span>
              <code class="sql">        then self.before_calling_test(treat(a_event_item as ut_test));</code></li>

            <li class="covered" data-hits="1331" data-linenumber="164">
              <span class="hits">1331</span>
              <code class="sql">      when a_event_name = ut_event_manager.gc_after_test</code></li>

            <li class="covered" data-hits="319" data-linenumber="165">
              <span class="hits">319</span>
              <code class="sql">        then self.after_calling_test(treat(a_event_item as ut_test));</code></li>

            <li class="covered" data-hits="1012" data-linenumber="166">
              <span class="hits">1012</span>
              <code class="sql">      when a_event_name = ut_event_manager.gc_after_suite</code></li>

            <li class="covered" data-hits="333" data-linenumber="167">
              <span class="hits">333</span>
              <code class="sql">        then after_calling_suite(treat(a_event_item as ut_logical_suite));</code></li>

            <li class="covered" data-hits="679" data-linenumber="168">
              <span class="hits">679</span>
              <code class="sql">      when a_event_name = ut_event_manager.gc_before_suite</code></li>

            <li class="covered" data-hits="333" data-linenumber="169">
              <span class="hits">333</span>
              <code class="sql">        then before_calling_suite(treat(a_event_item as ut_logical_suite));</code></li>

            <li class="covered" data-hits="346" data-linenumber="170">
              <span class="hits">346</span>
              <code class="sql">      when a_event_name = ut_event_manager.gc_before_run</code></li>

            <li class="covered" data-hits="115" data-linenumber="171">
              <span class="hits">115</span>
              <code class="sql">        then before_calling_run(treat(a_event_item as ut_run));</code></li>

            <li class="covered" data-hits="231" data-linenumber="172">
              <span class="hits">231</span>
              <code class="sql">      when a_event_name = ut_event_manager.gc_after_run</code></li>

            <li class="covered" data-hits="115" data-linenumber="173">
              <span class="hits">115</span>
              <code class="sql">        then after_calling_run(treat(a_event_item as ut_run));</code></li>

            <li class="covered" data-hits="116" data-linenumber="174">
              <span class="hits">116</span>
              <code class="sql">      when a_event_name = ut_event_manager.gc_finalize</code></li>

            <li class="covered" data-hits="116" data-linenumber="175">
              <span class="hits">116</span>
              <code class="sql">        then on_finalize(treat(a_event_item as ut_run));</code></li>

            <li class="missed" data-hits="0" data-linenumber="176">
              <code class="sql">      else null;</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">      end case;</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="45DA61C3472368DE4C56E78C2AD67B38"><div class="header"> <h3>UT3.UT_CONSOLE_REPORTER_BASE</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>5</b> relevant lines. <span class="green"><b>5</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_console_reporter_base is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  static procedure set_color_enabled(a_flag boolean) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="21">
              <span class="hits">116</span>
              <code class="sql">    ut_ansiconsole_helper.color_enabled(a_flag);</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  member procedure print_red_text(self in out nocopy ut_console_reporter_base, a_text varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="207" data-linenumber="26">
              <span class="hits">207</span>
              <code class="sql">    self.print_text(ut_ansiconsole_helper.red(a_text));</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  member procedure print_green_text(self in out nocopy ut_console_reporter_base, a_text varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="180" data-linenumber="31">
              <span class="hits">180</span>
              <code class="sql">    self.print_text(ut_ansiconsole_helper.green(a_text));</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  member procedure print_yellow_text(self in out nocopy ut_console_reporter_base, a_text varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="36">
              <span class="hits">1</span>
              <code class="sql">    self.print_text(ut_ansiconsole_helper.yellow(a_text));</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  member procedure print_cyan_text(self in out nocopy ut_console_reporter_base, a_text varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="41">
              <span class="hits">10</span>
              <code class="sql">    self.print_text(ut_ansiconsole_helper.cyan(a_text));</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="60E76FF77C7C7E3088566CA77DF2FAB7"><div class="header"> <h3>UT3.UT_EXECUTABLE</h3><h4><span class="green">92.75 %</span> lines covered</h4><div> <b>69</b> relevant lines. <span class="green"><b>64</b> lines covered</span> and <span class="red"><b>5</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_executable is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_executable(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_executable, a_owner varchar2, a_package varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">    a_procedure_name varchar2, a_executable_type varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="848" data-linenumber="24">
              <span class="hits">848</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="848" data-linenumber="25">
              <span class="hits">848</span>
              <code class="sql">    self.executable_type := a_executable_type;</code></li>

            <li class="covered" data-hits="848" data-linenumber="26">
              <span class="hits">848</span>
              <code class="sql">    self.owner_name := a_owner;</code></li>

            <li class="covered" data-hits="848" data-linenumber="27">
              <span class="hits">848</span>
              <code class="sql">    self.object_name := a_package;</code></li>

            <li class="covered" data-hits="848" data-linenumber="28">
              <span class="hits">848</span>
              <code class="sql">    self.procedure_name := a_procedure_name;</code></li>

            <li class="covered" data-hits="848" data-linenumber="29">
              <span class="hits">848</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  member function form_name(a_skip_current_user_schema boolean := false) return varchar2 is</code></li>

            <li class="covered" data-hits="563" data-linenumber="33">
              <span class="hits">563</span>
              <code class="sql">    l_owner_name varchar2(250) := owner_name;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="563" data-linenumber="35">
              <span class="hits">563</span>
              <code class="sql">    if a_skip_current_user_schema and sys_context(&apos;userenv&apos;, &apos;current_schema&apos;) = owner_name then</code></li>

            <li class="covered" data-hits="379" data-linenumber="36">
              <span class="hits">379</span>
              <code class="sql">      l_owner_name := null;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="563" data-linenumber="38">
              <span class="hits">563</span>
              <code class="sql">    return ut_metadata.form_name(l_owner_name, object_name, procedure_name);</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  member procedure do_execute(self in out nocopy ut_executable, a_item in out nocopy ut_suite_item) is</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    l_completed_without_errors  boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="396" data-linenumber="44">
              <span class="hits">396</span>
              <code class="sql">    l_completed_without_errors := self.do_execute(a_item);</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  end do_execute;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql"></code></li>

            <li class="covered" data-hits="505" data-linenumber="47">
              <span class="hits">505</span>
              <code class="sql">	member function do_execute(self in out nocopy ut_executable, a_item in out nocopy ut_suite_item) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    l_statement                varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">    l_status                   number;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    l_cursor_number            number;</code></li>

            <li class="covered" data-hits="505" data-linenumber="51">
              <span class="hits">505</span>
              <code class="sql">    l_completed_without_errors boolean := true;</code></li>

            <li class="covered" data-hits="505" data-linenumber="52">
              <span class="hits">505</span>
              <code class="sql">    l_failed_with_invalid_pck  boolean := true;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">    l_start_transaction_id     varchar2(250);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    l_end_transaction_id     varchar2(250);</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    function is_defined return boolean is</code></li>

            <li class="covered" data-hits="505" data-linenumber="57">
              <span class="hits">505</span>
              <code class="sql">      l_result boolean := false;</code></li>

            <li class="covered" data-hits="505" data-linenumber="58">
              <span class="hits">505</span>
              <code class="sql">      l_message_part varchar2(4000) := &apos;Call params for &apos; || self.executable_type || &apos; are not valid: &apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="covered" data-hits="505" data-linenumber="61">
              <span class="hits">505</span>
              <code class="sql">      if self.object_name is null then</code></li>

            <li class="covered" data-hits="1" data-linenumber="62">
              <span class="hits">1</span>
              <code class="sql">        self.error_stack := l_message_part || &apos;package is not defined&apos;;</code></li>

            <li class="covered" data-hits="504" data-linenumber="63">
              <span class="hits">504</span>
              <code class="sql">      elsif self.procedure_name is null then</code></li>

            <li class="covered" data-hits="5" data-linenumber="64">
              <span class="hits">5</span>
              <code class="sql">        self.error_stack := l_message_part || &apos;procedure is not defined&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="499" data-linenumber="66">
              <span class="hits">499</span>
              <code class="sql">        l_result := true;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql"></code></li>

            <li class="covered" data-hits="505" data-linenumber="69">
              <span class="hits">505</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    end is_defined;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    function is_invalid return boolean is</code></li>

            <li class="covered" data-hits="12" data-linenumber="73">
              <span class="hits">12</span>
              <code class="sql">      l_result boolean := true;</code></li>

            <li class="covered" data-hits="12" data-linenumber="74">
              <span class="hits">12</span>
              <code class="sql">      l_message_part varchar2(4000) := &apos;Call params for &apos; || self.executable_type || &apos; are not valid: &apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql"></code></li>

            <li class="covered" data-hits="12" data-linenumber="77">
              <span class="hits">12</span>
              <code class="sql">      if not ut_metadata.package_valid(self.owner_name, self.object_name) then</code></li>

            <li class="covered" data-hits="6" data-linenumber="78">
              <span class="hits">6</span>
              <code class="sql">        self.error_stack := l_message_part || &apos;package &apos;||upper(self.owner_name||&apos;.&apos;||self.object_name)||&apos; does not exist or is invalid.&apos;;</code></li>

            <li class="covered" data-hits="6" data-linenumber="79">
              <span class="hits">6</span>
              <code class="sql">      elsif not ut_metadata.procedure_exists(self.owner_name, self.object_name, self.procedure_name) then</code></li>

            <li class="covered" data-hits="6" data-linenumber="80">
              <span class="hits">6</span>
              <code class="sql">        self.error_stack := l_message_part || &apos;procedure &apos;||upper(self.owner_name || &apos;.&apos; || self.object_name || &apos;.&apos; ||self.procedure_name)||&apos; does not exist.&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">      else</code></li>

            <li class="missed" data-hits="0" data-linenumber="82">
              <code class="sql">        l_result := false;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql"></code></li>

            <li class="covered" data-hits="12" data-linenumber="85">
              <span class="hits">12</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">    end is_invalid;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    procedure save_dbms_output is</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">      l_status number;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">      l_line varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql"></code></li>

            <li class="covered" data-hits="499" data-linenumber="93">
              <span class="hits">499</span>
              <code class="sql">      dbms_output.get_line(line =&gt; l_line, status =&gt; l_status);</code></li>

            <li class="covered" data-hits="499" data-linenumber="94">
              <span class="hits">499</span>
              <code class="sql">      if l_status != 1 then</code></li>

            <li class="covered" data-hits="326" data-linenumber="95">
              <span class="hits">326</span>
              <code class="sql">        dbms_lob.createtemporary(self.serveroutput, true, dur =&gt; dbms_lob.session);</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="951" data-linenumber="97">
              <span class="hits">951</span>
              <code class="sql">      while l_status != 1 loop</code></li>

            <li class="covered" data-hits="452" data-linenumber="98">
              <span class="hits">452</span>
              <code class="sql">        if l_line is not null then</code></li>

            <li class="covered" data-hits="451" data-linenumber="99">
              <span class="hits">451</span>
              <code class="sql">          ut_utils.append_to_clob(self.serveroutput, l_line||chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="452" data-linenumber="101">
              <span class="hits">452</span>
              <code class="sql">        dbms_output.get_line(line =&gt; l_line, status =&gt; l_status);</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">    end save_dbms_output;</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="505" data-linenumber="105">
              <span class="hits">505</span>
              <code class="sql">    l_start_transaction_id := dbms_transaction.local_transaction_id(true);</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">    --listener - before call to executable</code></li>

            <li class="covered" data-hits="505" data-linenumber="108">
              <span class="hits">505</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;before_&apos;||self.executable_type, self);</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql"></code></li>

            <li class="covered" data-hits="505" data-linenumber="110">
              <span class="hits">505</span>
              <code class="sql">    l_completed_without_errors := is_defined();</code></li>

            <li class="covered" data-hits="505" data-linenumber="111">
              <span class="hits">505</span>
              <code class="sql">    if l_completed_without_errors then</code></li>

            <li class="covered" data-hits="499" data-linenumber="112">
              <span class="hits">499</span>
              <code class="sql">      l_statement :=</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">      &apos;declare&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">      &apos;  l_error_stack varchar2(32767);&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">      &apos;  l_error_backtrace varchar2(32767);&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">      &apos;begin&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">      &apos;  begin&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">      &apos;    &apos; || self.form_name( a_skip_current_user_schema =&gt; true ) || &apos;;&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">      &apos;  exception&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">      &apos;    when others then &apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">      &apos;      l_error_stack := dbms_utility.format_error_stack;&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">      &apos;      l_error_backtrace := dbms_utility.format_error_backtrace;&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">      &apos;      --raise on ORA-04068, ORA-04061: existing state of packages has been discarded to avoid unrecoverable session exception&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">      &apos;  end;&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">      &apos;  :a_error_stack := l_error_stack;&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">      &apos;  :a_error_backtrace := l_error_backtrace;&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">      &apos;end;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql"></code></li>

            <li class="covered" data-hits="499" data-linenumber="129">
              <span class="hits">499</span>
              <code class="sql">      ut_utils.debug_log(&apos;ut_executable.do_execute l_statement: &apos; || l_statement);</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql"></code></li>

            <li class="covered" data-hits="499" data-linenumber="131">
              <span class="hits">499</span>
              <code class="sql">      l_cursor_number := dbms_sql.open_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">      /**</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">      * The code will allow to execute once we check if packages are defined</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">      * If it fail with 6550 (usually invalid package) it will check if because of invalid state or missing</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">      * if for any other reason we will propagate it up as we didnt expected.</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">      **/</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">      begin</code></li>

            <li class="covered" data-hits="499" data-linenumber="139">
              <span class="hits">499</span>
              <code class="sql">        dbms_sql.parse(l_cursor_number, statement =&gt; l_statement, language_flag =&gt; dbms_sql.native);</code></li>

            <li class="covered" data-hits="492" data-linenumber="140">
              <span class="hits">492</span>
              <code class="sql">        dbms_sql.bind_variable(l_cursor_number, &apos;a_error_stack&apos;, to_char(null), 32767);</code></li>

            <li class="covered" data-hits="492" data-linenumber="141">
              <span class="hits">492</span>
              <code class="sql">        dbms_sql.bind_variable(l_cursor_number, &apos;a_error_backtrace&apos;, to_char(null), 32767);</code></li>

            <li class="covered" data-hits="492" data-linenumber="142">
              <span class="hits">492</span>
              <code class="sql">        l_status := dbms_sql.execute(l_cursor_number);</code></li>

            <li class="covered" data-hits="487" data-linenumber="143">
              <span class="hits">487</span>
              <code class="sql">        dbms_sql.variable_value(l_cursor_number, &apos;a_error_stack&apos;, self.error_stack);</code></li>

            <li class="covered" data-hits="487" data-linenumber="144">
              <span class="hits">487</span>
              <code class="sql">        dbms_sql.variable_value(l_cursor_number, &apos;a_error_backtrace&apos;, self.error_backtrace);</code></li>

            <li class="covered" data-hits="487" data-linenumber="145">
              <span class="hits">487</span>
              <code class="sql">        dbms_sql.close_cursor(l_cursor_number);</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">      exception</code></li>

            <li class="covered" data-hits="24" data-linenumber="147">
              <span class="hits">24</span>
              <code class="sql">        when ut_utils.ex_invalid_package then</code></li>

            <li class="covered" data-hits="12" data-linenumber="148">
              <span class="hits">12</span>
              <code class="sql">          l_failed_with_invalid_pck := is_invalid();</code></li>

            <li class="covered" data-hits="12" data-linenumber="149">
              <span class="hits">12</span>
              <code class="sql">          dbms_sql.close_cursor(l_cursor_number);</code></li>

            <li class="covered" data-hits="12" data-linenumber="150">
              <span class="hits">12</span>
              <code class="sql">          if not l_failed_with_invalid_pck then</code></li>

            <li class="missed" data-hits="0" data-linenumber="151">
              <code class="sql">            raise;</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">          end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="153">
              <code class="sql">        when others then</code></li>

            <li class="missed" data-hits="0" data-linenumber="154">
              <code class="sql">         dbms_sql.close_cursor(l_cursor_number);</code></li>

            <li class="missed" data-hits="0" data-linenumber="155">
              <code class="sql">         raise;</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">      end;</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql"></code></li>

            <li class="covered" data-hits="499" data-linenumber="158">
              <span class="hits">499</span>
              <code class="sql">      save_dbms_output;</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql"></code></li>

            <li class="covered" data-hits="499" data-linenumber="160">
              <span class="hits">499</span>
              <code class="sql">      l_completed_without_errors := (self.error_stack||self.error_backtrace) is null;</code></li>

            <li class="covered" data-hits="499" data-linenumber="161">
              <span class="hits">499</span>
              <code class="sql">      if self.error_stack like &apos;%ORA-04068%&apos; or self.error_stack like &apos;%ORA-04061%&apos; then</code></li>

            <li class="covered" data-hits="2" data-linenumber="162">
              <span class="hits">2</span>
              <code class="sql">        ut_expectation_processor.set_invalidation_exception();</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">    --listener - after call to executable</code></li>

            <li class="covered" data-hits="505" data-linenumber="167">
              <span class="hits">505</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;after_&apos;||self.executable_type, self);</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql"></code></li>

            <li class="covered" data-hits="505" data-linenumber="169">
              <span class="hits">505</span>
              <code class="sql">    l_end_transaction_id := dbms_transaction.local_transaction_id();</code></li>

            <li class="covered" data-hits="505" data-linenumber="170">
              <span class="hits">505</span>
              <code class="sql">    if l_start_transaction_id != l_end_transaction_id or l_end_transaction_id is null then</code></li>

            <li class="covered" data-hits="3" data-linenumber="171">
              <span class="hits">3</span>
              <code class="sql">      a_item.add_transaction_invalidator(self.form_name());</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql"></code></li>

            <li class="covered" data-hits="505" data-linenumber="174">
              <span class="hits">505</span>
              <code class="sql">    return l_completed_without_errors;</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">  end do_execute;</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">  member function get_error_stack_trace return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="589" data-linenumber="180">
              <span class="hits">589</span>
              <code class="sql">    return rtrim(self.error_stack||self.error_backtrace, chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="135E1D1D234F7624C8D2D4F9D391D23D"><div class="header"> <h3>UT3.UT_EXECUTABLE_TEST</h3><h4><span class="green">96.15 %</span> lines covered</h4><div> <b>26</b> relevant lines. <span class="green"><b>25</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_executable_test as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_executable_test(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_executable_test, a_owner varchar2, a_package varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">    a_procedure_name varchar2, a_executable_type varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2468" data-linenumber="24">
              <span class="hits">2468</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="2468" data-linenumber="25">
              <span class="hits">2468</span>
              <code class="sql">    self.executable_type := a_executable_type;</code></li>

            <li class="covered" data-hits="2468" data-linenumber="26">
              <span class="hits">2468</span>
              <code class="sql">    self.owner_name := a_owner;</code></li>

            <li class="covered" data-hits="2468" data-linenumber="27">
              <span class="hits">2468</span>
              <code class="sql">    self.object_name := a_package;</code></li>

            <li class="covered" data-hits="2468" data-linenumber="28">
              <span class="hits">2468</span>
              <code class="sql">    self.procedure_name := a_procedure_name;</code></li>

            <li class="covered" data-hits="2468" data-linenumber="29">
              <span class="hits">2468</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  member procedure do_execute(</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    self in out nocopy ut_executable_test, a_item in out nocopy ut_suite_item,</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    a_expected_error_codes in ut_integer_list</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    l_completed_without_errors  boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="337" data-linenumber="38">
              <span class="hits">337</span>
              <code class="sql">    l_completed_without_errors := self.do_execute(a_item, a_expected_error_codes);</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end do_execute;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  member function do_execute(</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    self in out nocopy ut_executable_test, a_item in out nocopy ut_suite_item,</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">    a_expected_error_codes in ut_integer_list</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  ) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    l_expected_except_message  varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    function failed_expec_errnum_message(a_expected_error_codes in ut_integer_list) return varchar is</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">      l_actual_error_no      integer;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      l_expected_error_codes varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">      l_fail_message         varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">      --Convert the ut_varchar2_list to string to can construct the message</code></li>

            <li class="covered" data-hits="16" data-linenumber="53">
              <span class="hits">16</span>
              <code class="sql">      l_expected_error_codes := ut_utils.table_to_clob(a_expected_error_codes, &apos;, &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="covered" data-hits="16" data-linenumber="55">
              <span class="hits">16</span>
              <code class="sql">      if self.error_stack is null then</code></li>

            <li class="covered" data-hits="1" data-linenumber="56">
              <span class="hits">1</span>
              <code class="sql">        l_fail_message := &apos;Expected one of exceptions (&apos;||l_expected_error_codes||&apos;) but nothing was raised.&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="15" data-linenumber="58">
              <span class="hits">15</span>
              <code class="sql">        l_actual_error_no := regexp_substr(self.error_stack, &apos;^[a-zA-Z]{3}(-[0-9]+)&apos;, subexpression=&gt;1);</code></li>

            <li class="covered" data-hits="15" data-linenumber="59">
              <span class="hits">15</span>
              <code class="sql">        if not l_actual_error_no member of a_expected_error_codes then</code></li>

            <li class="covered" data-hits="2" data-linenumber="60">
              <span class="hits">2</span>
              <code class="sql">          l_fail_message := &apos;Actual: &apos;||l_actual_error_no||&apos; was expected to &apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="61">
              <span class="hits">2</span>
              <code class="sql">          if cardinality(a_expected_error_codes) &gt; 1 then</code></li>

            <li class="missed" data-hits="0" data-linenumber="62">
              <code class="sql">            l_fail_message := l_fail_message || &apos;be one of: (&apos;||l_expected_error_codes||&apos;)&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">          else</code></li>

            <li class="covered" data-hits="2" data-linenumber="64">
              <span class="hits">2</span>
              <code class="sql">            l_fail_message := l_fail_message || &apos;equal: &apos;||l_expected_error_codes;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="2" data-linenumber="66">
              <span class="hits">2</span>
              <code class="sql">          l_fail_message := substr( l_fail_message||chr(10)||self.error_stack||chr(10)||self.error_backtrace, 1, 4000 );</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="covered" data-hits="16" data-linenumber="70">
              <span class="hits">16</span>
              <code class="sql">      return l_fail_message;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">    --Create a ut_executable object and call do_execute after that get the data to know the test&apos;s execution result</code></li>

            <li class="covered" data-hits="337" data-linenumber="74">
              <span class="hits">337</span>
              <code class="sql">    self.do_execute(a_item);</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql"></code></li>

            <li class="covered" data-hits="337" data-linenumber="76">
              <span class="hits">337</span>
              <code class="sql">    if a_expected_error_codes is not null and a_expected_error_codes is not empty then</code></li>

            <li class="covered" data-hits="16" data-linenumber="77">
              <span class="hits">16</span>
              <code class="sql">      l_expected_except_message := failed_expec_errnum_message(a_expected_error_codes);</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql"></code></li>

            <li class="covered" data-hits="16" data-linenumber="79">
              <span class="hits">16</span>
              <code class="sql">      if l_expected_except_message is not null then</code></li>

            <li class="covered" data-hits="3" data-linenumber="80">
              <span class="hits">3</span>
              <code class="sql">        ut_expectation_processor.add_expectation_result(</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">          ut_expectation_result(ut_utils.gc_failure, null, l_expected_except_message, false)</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="16" data-linenumber="84">
              <span class="hits">16</span>
              <code class="sql">      self.error_stack := null;</code></li>

            <li class="covered" data-hits="16" data-linenumber="85">
              <span class="hits">16</span>
              <code class="sql">      self.error_backtrace := null;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="covered" data-hits="337" data-linenumber="88">
              <span class="hits">337</span>
              <code class="sql">    return (self.error_stack||self.error_backtrace) is null;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="707F669EF8906350D00E047EE302AC87"><div class="header"> <h3>UT3.UT_EXPECTATION_RESULT</h3><h4><span class="green">93.33 %</span> lines covered</h4><div> <b>15</b> relevant lines. <span class="green"><b>14</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_expectation_result is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_expectation_result(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_expectation_result, a_status integer,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">    a_description varchar2, a_message clob, a_include_caller_info boolean := true</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="799" data-linenumber="24">
              <span class="hits">799</span>
              <code class="sql">    self.self_type       := $$plsql_unit;</code></li>

            <li class="covered" data-hits="799" data-linenumber="25">
              <span class="hits">799</span>
              <code class="sql">    self.status          := a_status;</code></li>

            <li class="covered" data-hits="799" data-linenumber="26">
              <span class="hits">799</span>
              <code class="sql">    self.description     := a_description;</code></li>

            <li class="covered" data-hits="799" data-linenumber="27">
              <span class="hits">799</span>
              <code class="sql">    self.message         := a_message;</code></li>

            <li class="covered" data-hits="800" data-linenumber="28">
              <span class="hits">800</span>
              <code class="sql">    if self.status = ut_utils.gc_failure and a_include_caller_info then</code></li>

            <li class="covered" data-hits="427" data-linenumber="29">
              <span class="hits">427</span>
              <code class="sql">      self.caller_info   := ut_expectation_processor.who_called_expectation(dbms_utility.format_call_stack());</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="799" data-linenumber="31">
              <span class="hits">799</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  member function get_result_clob(self in ut_expectation_result) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    l_result clob;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="33" data-linenumber="37">
              <span class="hits">33</span>
              <code class="sql">    if self.description is not null then</code></li>

            <li class="covered" data-hits="6" data-linenumber="38">
              <span class="hits">6</span>
              <code class="sql">      ut_utils.append_to_clob(l_result, &apos;&quot;&apos;||self.description||&apos;&quot;&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="39">
              <span class="hits">6</span>
              <code class="sql">      if self.message is not null then</code></li>

            <li class="covered" data-hits="6" data-linenumber="40">
              <span class="hits">6</span>
              <code class="sql">        ut_utils.append_to_clob(l_result, chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="33" data-linenumber="43">
              <span class="hits">33</span>
              <code class="sql">    ut_utils.append_to_clob(l_result, self.message);</code></li>

            <li class="covered" data-hits="33" data-linenumber="44">
              <span class="hits">33</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  member function get_result_lines(self in ut_expectation_result) return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="33" data-linenumber="49">
              <span class="hits">33</span>
              <code class="sql">    return ut_utils.clob_to_table(get_result_clob(), 4000 );</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  member function result return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="54">
              <code class="sql">    return self.status;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="83165DE76763D9593B30C7090ABDE69D"><div class="header"> <h3>UT3.UT_FILE_MAPPING</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>2</b> relevant lines. <span class="green"><b>2</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_file_mapping as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="covered" data-hits="48" data-linenumber="18">
              <span class="hits">48</span>
              <code class="sql">  map member function pk return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="48" data-linenumber="20">
              <span class="hits">48</span>
              <code class="sql">    return object_type||&apos; &apos;||object_owner||&apos;.&apos;||object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="C84DD8096EEE9C400A1D6431BA54B345"><div class="header"> <h3>UT3.UT_LOGICAL_SUITE</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>42</b> relevant lines. <span class="green"><b>42</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_logical_suite as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  overriding member procedure mark_as_skipped(self in out nocopy ut_logical_suite) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="21">
              <span class="hits">2</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_before_suite, self);</code></li>

            <li class="covered" data-hits="1" data-linenumber="22">
              <span class="hits">1</span>
              <code class="sql">    self.start_time := current_timestamp;</code></li>

            <li class="covered" data-hits="3" data-linenumber="23">
              <span class="hits">3</span>
              <code class="sql">    for i in 1 .. self.items.count loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="24">
              <span class="hits">2</span>
              <code class="sql">      self.items(i).mark_as_skipped();</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="1" data-linenumber="26">
              <span class="hits">1</span>
              <code class="sql">    self.end_time := self.start_time;</code></li>

            <li class="covered" data-hits="1" data-linenumber="27">
              <span class="hits">1</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_after_suite, self);</code></li>

            <li class="covered" data-hits="1" data-linenumber="28">
              <span class="hits">1</span>
              <code class="sql">    self.calc_execution_result();</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  overriding member procedure set_rollback_type(self in out nocopy ut_logical_suite, a_rollback_type integer, a_force boolean := false) is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1419" data-linenumber="33">
              <span class="hits">1419</span>
              <code class="sql">    self.rollback_type := case when a_force then a_rollback_type else coalesce(self.rollback_type, a_rollback_type) end;</code></li>

            <li class="covered" data-hits="3289" data-linenumber="34">
              <span class="hits">3289</span>
              <code class="sql">    for i in 1 .. self.items.count loop</code></li>

            <li class="covered" data-hits="1870" data-linenumber="35">
              <span class="hits">1870</span>
              <code class="sql">      self.items(i).set_rollback_type(self.rollback_type, a_force);</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  overriding member function do_execute(self in out nocopy ut_logical_suite) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">    l_suite_savepoint varchar2(30);</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">    l_item_savepoint  varchar2(30);</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    l_completed_without_errors boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="141" data-linenumber="44">
              <span class="hits">141</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_logical_suite.execute&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="covered" data-hits="141" data-linenumber="46">
              <span class="hits">141</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_before_suite, self);</code></li>

            <li class="covered" data-hits="141" data-linenumber="47">
              <span class="hits">141</span>
              <code class="sql">    self.start_time := current_timestamp;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="covered" data-hits="285" data-linenumber="49">
              <span class="hits">285</span>
              <code class="sql">    for i in 1 .. self.items.count loop</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">      -- execute the item (test or suite)</code></li>

            <li class="covered" data-hits="144" data-linenumber="51">
              <span class="hits">144</span>
              <code class="sql">      self.items(i).do_execute();</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql"></code></li>

            <li class="covered" data-hits="141" data-linenumber="54">
              <span class="hits">141</span>
              <code class="sql">    self.calc_execution_result();</code></li>

            <li class="covered" data-hits="141" data-linenumber="55">
              <span class="hits">141</span>
              <code class="sql">    self.end_time := current_timestamp;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql"></code></li>

            <li class="covered" data-hits="141" data-linenumber="57">
              <span class="hits">141</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_after_suite, self);</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql"></code></li>

            <li class="covered" data-hits="141" data-linenumber="59">
              <span class="hits">141</span>
              <code class="sql">    return l_completed_without_errors;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  overriding member procedure calc_execution_result(self in out nocopy ut_logical_suite) is</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    l_result integer(1);</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="347" data-linenumber="65">
              <span class="hits">347</span>
              <code class="sql">    if self.items is not null and self.items.count &gt; 0 then</code></li>

            <li class="covered" data-hits="876" data-linenumber="66">
              <span class="hits">876</span>
              <code class="sql">      for i in 1 .. self.items.count loop</code></li>

            <li class="covered" data-hits="531" data-linenumber="67">
              <span class="hits">531</span>
              <code class="sql">        self.results_count.sum_counter_values( self.items(i).results_count );</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="345" data-linenumber="69">
              <span class="hits">345</span>
              <code class="sql">      l_result := self.results_count.result_status();</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    else</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">      --if suite is empty then it&apos;s successful (no errors)</code></li>

            <li class="covered" data-hits="2" data-linenumber="72">
              <span class="hits">2</span>
              <code class="sql">      l_result := ut_utils.gc_success;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql"></code></li>

            <li class="covered" data-hits="347" data-linenumber="75">
              <span class="hits">347</span>
              <code class="sql">      self.result := l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  overriding member procedure mark_as_errored(self in out nocopy ut_logical_suite, a_error_stack_trace varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="80">
              <span class="hits">2</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_logical_suite.fail&apos;);</code></li>

            <li class="covered" data-hits="2" data-linenumber="81">
              <span class="hits">2</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_before_suite, self);</code></li>

            <li class="covered" data-hits="2" data-linenumber="82">
              <span class="hits">2</span>
              <code class="sql">    self.start_time := current_timestamp;</code></li>

            <li class="covered" data-hits="4" data-linenumber="83">
              <span class="hits">4</span>
              <code class="sql">    for i in 1 .. self.items.count loop</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">      -- execute the item (test or suite)</code></li>

            <li class="covered" data-hits="2" data-linenumber="85">
              <span class="hits">2</span>
              <code class="sql">      self.items(i).mark_as_errored(a_error_stack_trace);</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="2" data-linenumber="87">
              <span class="hits">2</span>
              <code class="sql">    self.calc_execution_result();</code></li>

            <li class="covered" data-hits="2" data-linenumber="88">
              <span class="hits">2</span>
              <code class="sql">    self.end_time := self.start_time;</code></li>

            <li class="covered" data-hits="2" data-linenumber="89">
              <span class="hits">2</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_after_suite, self);</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  overriding member function get_error_stack_traces return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="94">
              <span class="hits">1</span>
              <code class="sql">    return ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  overriding member function get_serveroutputs return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="99">
              <span class="hits">1</span>
              <code class="sql">    return null;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">  overriding member function get_transaction_invalidators return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">    l_result ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">    l_child_results ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="106">
              <span class="hits">3</span>
              <code class="sql">    l_result := self.transaction_invalidators;</code></li>

            <li class="covered" data-hits="5" data-linenumber="107">
              <span class="hits">5</span>
              <code class="sql">    for i in 1 .. self.items.count loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="108">
              <span class="hits">2</span>
              <code class="sql">      l_child_results := self.items(i).get_transaction_invalidators();</code></li>

            <li class="covered" data-hits="4" data-linenumber="109">
              <span class="hits">4</span>
              <code class="sql">      for j in 1 .. l_child_results.count loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="110">
              <span class="hits">2</span>
              <code class="sql">        if l_child_results(j) not member of l_result then</code></li>

            <li class="covered" data-hits="4" data-linenumber="111">
              <span class="hits">4</span>
              <code class="sql">          l_result.extend; l_result(l_result.last) := l_child_results(j);</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="3" data-linenumber="115">
              <span class="hits">3</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="CAD193C445C7BA8F653C022C40112F66"><div class="header"> <h3>UT3.UT_OBJECT_NAME</h3><h4><span class="yellow">90 %</span> lines covered</h4><div> <b>10</b> relevant lines. <span class="green"><b>9</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_object_name as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">  constructor function ut_object_name(self in out nocopy ut_object_name, owner varchar2, name varchar2) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2545" data-linenumber="20">
              <span class="hits">2545</span>
              <code class="sql">    self.owner := upper(owner);</code></li>

            <li class="covered" data-hits="2545" data-linenumber="21">
              <span class="hits">2545</span>
              <code class="sql">    self.name := upper(name);</code></li>

            <li class="covered" data-hits="2545" data-linenumber="22">
              <span class="hits">2545</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  constructor function ut_object_name(self in out nocopy ut_object_name, a_unit_name varchar2) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="27">
              <span class="hits">3</span>
              <code class="sql">    if instr(a_unit_name,&apos;.&apos;) &gt; 0 then</code></li>

            <li class="covered" data-hits="3" data-linenumber="28">
              <span class="hits">3</span>
              <code class="sql">      self.owner := upper(regexp_substr(a_unit_name,&apos;[^\.]+&apos;, 1, 1));</code></li>

            <li class="covered" data-hits="3" data-linenumber="29">
              <span class="hits">3</span>
              <code class="sql">      self.name  := upper(regexp_substr(a_unit_name,&apos;[^\.]+&apos;, 1, 2));</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="31">
              <code class="sql">      self.name  := upper(a_unit_name);</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="3" data-linenumber="33">
              <span class="hits">3</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="37">
              <span class="hits">1</span>
              <code class="sql">  map member function identity return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="39">
              <span class="hits">1</span>
              <code class="sql">    return owner||&apos;.&apos;||name;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="D377907920671569E5523D3B812420A2"><div class="header"> <h3>UT3.UT_OUTPUT_REPORTER_BASE</h3><h4><span class="red">75 %</span> lines covered</h4><div> <b>20</b> relevant lines. <span class="green"><b>15</b> lines covered</span> (including <span class="yellow"><b>1</b> lines partially covered</span> ) and <span class="red"><b>5</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_output_reporter_base is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_output_reporter_base(self in out nocopy ut_output_reporter_base) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="21">
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  member procedure init(self in out nocopy ut_output_reporter_base, a_self_type varchar2, a_output_buffer ut_output_buffer_base := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="117" data-linenumber="26">
              <span class="hits">117</span>
              <code class="sql">    (self as ut_reporter_base).init(a_self_type);</code></li>

            <li class="covered" data-hits="117" data-linenumber="27">
              <span class="hits">117</span>
              <code class="sql">    self.output_buffer := coalesce(a_output_buffer, ut_output_table_buffer());</code></li>

            <li class="covered" data-hits="117" data-linenumber="28">
              <span class="hits">117</span>
              <code class="sql">    self.set_reporter_id(self.output_buffer.output_id);</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  overriding member procedure set_reporter_id(self in out nocopy ut_output_reporter_base, a_reporter_id raw) is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="117" data-linenumber="33">
              <span class="hits">117</span>
              <code class="sql">    self.id := a_reporter_id;</code></li>

            <li class="covered" data-hits="117" data-linenumber="34">
              <span class="hits">117</span>
              <code class="sql">    self.output_buffer.init(a_reporter_id);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  member function set_reporter_id(self in ut_output_reporter_base, a_reporter_id raw) return ut_output_reporter_base is</code></li>

            <li class="missed" data-hits="0" data-linenumber="38">
              <code class="sql">    l_result ut_output_reporter_base := self;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="40">
              <code class="sql">    l_result.set_reporter_id(a_reporter_id);</code></li>

            <li class="missed" data-hits="0" data-linenumber="41">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  overriding member procedure before_calling_run(self in out nocopy ut_output_reporter_base, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    l_output_table_buffer ut_output_table_buffer;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="113" data-linenumber="47">
              <span class="hits">113</span>
              <code class="sql">    (self as ut_reporter_base).before_calling_run(a_run);</code></li>

            <li class="covered" data-hits="113" data-linenumber="48">
              <span class="hits">113</span>
              <code class="sql">    l_output_table_buffer := treat(self.output_buffer as ut_output_table_buffer);</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  member procedure print_text(self in out nocopy ut_output_reporter_base, a_text varchar2, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1691" data-linenumber="53">
              <span class="hits">1691</span>
              <code class="sql">    self.output_buffer.send_line(a_text, a_item_type);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  member procedure print_text_lines(self in out nocopy ut_output_reporter_base, a_text_lines ut_varchar2_rows, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="333" data-linenumber="58">
              <span class="hits">333</span>
              <code class="sql">    self.output_buffer.send_lines(a_text_lines, a_item_type);</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  member procedure print_clob(self in out nocopy ut_output_reporter_base, a_clob clob, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="30" data-linenumber="63">
              <span class="hits">30</span>
              <code class="sql">    self.output_buffer.send_clob( a_clob, a_item_type );</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  final member function get_lines(a_initial_timeout natural := null, a_timeout_sec natural) return ut_output_data_rows pipelined is</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  begin</code></li>

            <li class="partcov" data-hits="32" data-blocks="1/2" data-linenumber="68">
                <span class="blocks">1/2</span>
              <span class="hits">32</span>
              <code class="sql">    for i in (select value(x) val from table(self.output_buffer.get_lines(a_initial_timeout, a_timeout_sec)) x ) loop</code></li>

            <li class="missed" data-hits="0" data-linenumber="69">
              <code class="sql">      pipe row (i.val);</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  final member function get_lines_cursor(a_initial_timeout natural := null, a_timeout_sec natural) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="81" data-linenumber="75">
              <span class="hits">81</span>
              <code class="sql">    return self.output_buffer.get_lines_cursor(a_initial_timeout, a_timeout_sec);</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  final member procedure lines_to_dbms_output(self in ut_output_reporter_base, a_initial_timeout natural := null, a_timeout_sec natural) is</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="32" data-linenumber="80">
              <span class="hits">32</span>
              <code class="sql">    self.output_buffer.lines_to_dbms_output(a_initial_timeout, a_timeout_sec);</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  overriding final member procedure on_finalize(self in out nocopy ut_output_reporter_base, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="85">
              <span class="hits">116</span>
              <code class="sql">    self.output_buffer.close();</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">  overriding member procedure on_initialize(self in out nocopy ut_output_reporter_base, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="90">
              <span class="hits">116</span>
              <code class="sql">    self.output_buffer.send_line(null, &apos;initialize&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="DC637199C929CF0FE5D058797E74C0C6"><div class="header"> <h3>UT3.UT_REPORTER_BASE</h3><h4><span class="green">94.52 %</span> lines covered</h4><div> <b>73</b> relevant lines. <span class="green"><b>69</b> lines covered</span> and <span class="red"><b>4</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_reporter_base is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  final member procedure init(self in out nocopy ut_reporter_base, a_self_type varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="117" data-linenumber="21">
              <span class="hits">117</span>
              <code class="sql">    self.self_type   := a_self_type;</code></li>

            <li class="covered" data-hits="117" data-linenumber="22">
              <span class="hits">117</span>
              <code class="sql">    self.id          := sys_guid();</code></li>

            <li class="covered" data-hits="117" data-linenumber="23">
              <span class="hits">117</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  member procedure set_reporter_id(self in out nocopy ut_reporter_base, a_reporter_id raw) is</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="28">
              <code class="sql">    self.id := a_reporter_id;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  member function get_reporter_id return raw is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="33">
              <code class="sql">    return self.id;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  member function get_description return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="38">
              <code class="sql">    return &apos;No description available&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  -- run hooks</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  member procedure before_calling_run(self in out nocopy ut_reporter_base, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="113" data-linenumber="44">
              <span class="hits">113</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  -- suite hooks</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  member procedure before_calling_suite(self in out nocopy ut_reporter_base, a_suite in ut_logical_suite) is</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="107" data-linenumber="50">
              <span class="hits">107</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  member procedure before_calling_before_all(self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="14" data-linenumber="55">
              <span class="hits">14</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  member procedure after_calling_before_all (self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="59">
              <span class="hits">7</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  member procedure before_calling_before_each(self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="24" data-linenumber="64">
              <span class="hits">24</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  member procedure after_calling_before_each (self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="24" data-linenumber="68">
              <span class="hits">24</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  -- test hooks</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  member procedure before_calling_test(self in out nocopy ut_reporter_base, a_test in ut_test) is</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="301" data-linenumber="74">
              <span class="hits">301</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  member procedure before_calling_before_test(self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="23" data-linenumber="79">
              <span class="hits">23</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  member procedure after_calling_before_test (self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="23" data-linenumber="83">
              <span class="hits">23</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  member procedure before_calling_test_execute(self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="291" data-linenumber="88">
              <span class="hits">291</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">  member procedure after_calling_test_execute (self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="291" data-linenumber="92">
              <span class="hits">291</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">  member procedure before_calling_after_test(self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="97">
              <span class="hits">10</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  member procedure after_calling_after_test (self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="101">
              <span class="hits">10</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">  member procedure after_calling_test(self in out nocopy ut_reporter_base, a_test in ut_test) is</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="85" data-linenumber="106">
              <span class="hits">85</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">  --suite hooks continued</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">  member procedure before_calling_after_each(self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="31" data-linenumber="112">
              <span class="hits">31</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">  member procedure after_calling_after_each (self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="31" data-linenumber="116">
              <span class="hits">31</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  member procedure before_calling_after_all(self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="12" data-linenumber="121">
              <span class="hits">12</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">  member procedure after_calling_after_all (self in out nocopy ut_reporter_base, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="125">
              <span class="hits">7</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">  member procedure after_calling_suite(self in out nocopy ut_reporter_base, a_suite in ut_logical_suite) is</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="107" data-linenumber="130">
              <span class="hits">107</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">  -- run hooks continued</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">  member procedure after_calling_run (self in out nocopy ut_reporter_base, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="75" data-linenumber="136">
              <span class="hits">75</span>
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">  overriding member function get_supported_events return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="115" data-linenumber="141">
              <span class="hits">115</span>
              <code class="sql">    return ut_varchar2_list(</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">      ut_event_manager.gc_initialize,</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">      ut_event_manager.gc_before_run,</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">      ut_event_manager.gc_before_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">      ut_event_manager.gc_before_test,</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">      ut_event_manager.gc_before_before_all,</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">      ut_event_manager.gc_before_before_each,</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">      ut_event_manager.gc_before_before_test,</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">      ut_event_manager.gc_before_test_execute,</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">      ut_event_manager.gc_before_after_test,</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">      ut_event_manager.gc_before_after_each,</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">      ut_event_manager.gc_before_after_all,</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">      ut_event_manager.gc_after_run,</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">      ut_event_manager.gc_after_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">      ut_event_manager.gc_after_test,</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">      ut_event_manager.gc_after_before_all,</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">      ut_event_manager.gc_after_before_each,</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">      ut_event_manager.gc_after_before_test,</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">      ut_event_manager.gc_after_test_execute,</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">      ut_event_manager.gc_after_after_test,</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">      ut_event_manager.gc_after_after_each,</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">      ut_event_manager.gc_after_after_all,</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">      ut_event_manager.gc_finalize</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">  overriding member procedure on_event( self in out nocopy ut_reporter_base, a_event_name varchar2, a_event_item ut_event_item) is</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2596" data-linenumber="169">
              <span class="hits">2596</span>
              <code class="sql">    case a_event_name</code></li>

            <li class="covered" data-hits="2596" data-linenumber="170">
              <span class="hits">2596</span>
              <code class="sql">      when ut_event_manager.gc_initialize</code></li>

            <li class="covered" data-hits="115" data-linenumber="171">
              <span class="hits">115</span>
              <code class="sql">      then self.on_initialize(treat(a_event_item as ut_run));</code></li>

            <li class="covered" data-hits="2481" data-linenumber="172">
              <span class="hits">2481</span>
              <code class="sql">      when ut_event_manager.gc_before_run</code></li>

            <li class="covered" data-hits="114" data-linenumber="173">
              <span class="hits">114</span>
              <code class="sql">      then self.before_calling_run(treat(a_event_item as ut_run));</code></li>

            <li class="covered" data-hits="2367" data-linenumber="174">
              <span class="hits">2367</span>
              <code class="sql">      when ut_event_manager.gc_before_suite</code></li>

            <li class="covered" data-hits="327" data-linenumber="175">
              <span class="hits">327</span>
              <code class="sql">      then self.before_calling_suite(treat(a_event_item as ut_logical_suite));</code></li>

            <li class="covered" data-hits="2040" data-linenumber="176">
              <span class="hits">2040</span>
              <code class="sql">      when ut_event_manager.gc_before_before_all</code></li>

            <li class="covered" data-hits="15" data-linenumber="177">
              <span class="hits">15</span>
              <code class="sql">      then self.before_calling_before_all(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="2025" data-linenumber="178">
              <span class="hits">2025</span>
              <code class="sql">      when ut_event_manager.gc_before_before_each</code></li>

            <li class="covered" data-hits="27" data-linenumber="179">
              <span class="hits">27</span>
              <code class="sql">      then self.before_calling_before_each(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="1998" data-linenumber="180">
              <span class="hits">1998</span>
              <code class="sql">      when ut_event_manager.gc_before_test</code></li>

            <li class="covered" data-hits="315" data-linenumber="181">
              <span class="hits">315</span>
              <code class="sql">      then self.before_calling_test(treat(a_event_item as ut_test));</code></li>

            <li class="covered" data-hits="1683" data-linenumber="182">
              <span class="hits">1683</span>
              <code class="sql">      when ut_event_manager.gc_before_before_test</code></li>

            <li class="covered" data-hits="24" data-linenumber="183">
              <span class="hits">24</span>
              <code class="sql">      then self.before_calling_before_test(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="1659" data-linenumber="184">
              <span class="hits">1659</span>
              <code class="sql">      when ut_event_manager.gc_before_test_execute</code></li>

            <li class="covered" data-hits="303" data-linenumber="185">
              <span class="hits">303</span>
              <code class="sql">      then self.before_calling_test_execute(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="1356" data-linenumber="186">
              <span class="hits">1356</span>
              <code class="sql">      when ut_event_manager.gc_before_after_test</code></li>

            <li class="covered" data-hits="11" data-linenumber="187">
              <span class="hits">11</span>
              <code class="sql">      then self.before_calling_after_test(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="1345" data-linenumber="188">
              <span class="hits">1345</span>
              <code class="sql">      when ut_event_manager.gc_before_after_each</code></li>

            <li class="covered" data-hits="34" data-linenumber="189">
              <span class="hits">34</span>
              <code class="sql">      then self.before_calling_after_each(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="1311" data-linenumber="190">
              <span class="hits">1311</span>
              <code class="sql">      when ut_event_manager.gc_before_after_all</code></li>

            <li class="covered" data-hits="13" data-linenumber="191">
              <span class="hits">13</span>
              <code class="sql">      then self.before_calling_after_all(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="1298" data-linenumber="192">
              <span class="hits">1298</span>
              <code class="sql">      when ut_event_manager.gc_after_run</code></li>

            <li class="covered" data-hits="114" data-linenumber="193">
              <span class="hits">114</span>
              <code class="sql">      then self.after_calling_run(treat(a_event_item as ut_run));</code></li>

            <li class="covered" data-hits="1184" data-linenumber="194">
              <span class="hits">1184</span>
              <code class="sql">      when ut_event_manager.gc_after_suite</code></li>

            <li class="covered" data-hits="327" data-linenumber="195">
              <span class="hits">327</span>
              <code class="sql">      then self.after_calling_suite(treat(a_event_item as ut_logical_suite));</code></li>

            <li class="covered" data-hits="857" data-linenumber="196">
              <span class="hits">857</span>
              <code class="sql">      when ut_event_manager.gc_after_before_all</code></li>

            <li class="covered" data-hits="15" data-linenumber="197">
              <span class="hits">15</span>
              <code class="sql">      then self.after_calling_before_all(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="842" data-linenumber="198">
              <span class="hits">842</span>
              <code class="sql">      when ut_event_manager.gc_after_before_each</code></li>

            <li class="covered" data-hits="27" data-linenumber="199">
              <span class="hits">27</span>
              <code class="sql">      then self.after_calling_before_each(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="815" data-linenumber="200">
              <span class="hits">815</span>
              <code class="sql">      when ut_event_manager.gc_after_test</code></li>

            <li class="covered" data-hits="315" data-linenumber="201">
              <span class="hits">315</span>
              <code class="sql">      then self.after_calling_test(treat(a_event_item as ut_test));</code></li>

            <li class="covered" data-hits="500" data-linenumber="202">
              <span class="hits">500</span>
              <code class="sql">      when ut_event_manager.gc_after_before_test</code></li>

            <li class="covered" data-hits="24" data-linenumber="203">
              <span class="hits">24</span>
              <code class="sql">      then self.after_calling_before_test(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="476" data-linenumber="204">
              <span class="hits">476</span>
              <code class="sql">      when ut_event_manager.gc_after_test_execute</code></li>

            <li class="covered" data-hits="303" data-linenumber="205">
              <span class="hits">303</span>
              <code class="sql">      then self.after_calling_test_execute(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="173" data-linenumber="206">
              <span class="hits">173</span>
              <code class="sql">      when ut_event_manager.gc_after_after_test</code></li>

            <li class="covered" data-hits="11" data-linenumber="207">
              <span class="hits">11</span>
              <code class="sql">      then self.after_calling_after_test(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="162" data-linenumber="208">
              <span class="hits">162</span>
              <code class="sql">      when ut_event_manager.gc_after_after_each</code></li>

            <li class="covered" data-hits="34" data-linenumber="209">
              <span class="hits">34</span>
              <code class="sql">      then self.after_calling_after_each(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="128" data-linenumber="210">
              <span class="hits">128</span>
              <code class="sql">      when ut_event_manager.gc_after_after_all</code></li>

            <li class="covered" data-hits="13" data-linenumber="211">
              <span class="hits">13</span>
              <code class="sql">      then self.after_calling_after_all(treat(a_event_item as ut_executable));</code></li>

            <li class="covered" data-hits="115" data-linenumber="212">
              <span class="hits">115</span>
              <code class="sql">      when ut_event_manager.gc_finalize</code></li>

            <li class="covered" data-hits="115" data-linenumber="213">
              <span class="hits">115</span>
              <code class="sql">      then self.on_finalize(treat(a_event_item as ut_run));</code></li>

            <li class="missed" data-hits="0" data-linenumber="214">
              <code class="sql">      else null;</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">    end case;</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="FBB7DAF2A48FCA7976D8492ECCD676F2"><div class="header"> <h3>UT3.UT_RESULTS_COUNTER</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>27</b> relevant lines. <span class="green"><b>27</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_results_counter as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">  constructor function ut_results_counter(self in out nocopy ut_results_counter) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4201" data-linenumber="20">
              <span class="hits">4201</span>
              <code class="sql">    self.disabled_count := 0;</code></li>

            <li class="covered" data-hits="4201" data-linenumber="21">
              <span class="hits">4201</span>
              <code class="sql">    self.success_count  := 0;</code></li>

            <li class="covered" data-hits="4201" data-linenumber="22">
              <span class="hits">4201</span>
              <code class="sql">    self.failure_count  := 0;</code></li>

            <li class="covered" data-hits="4201" data-linenumber="23">
              <span class="hits">4201</span>
              <code class="sql">    self.errored_count  := 0;</code></li>

            <li class="covered" data-hits="4201" data-linenumber="24">
              <span class="hits">4201</span>
              <code class="sql">    self.warnings_count := 0;</code></li>

            <li class="covered" data-hits="4201" data-linenumber="25">
              <span class="hits">4201</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  member procedure set_counter_values(self in out nocopy ut_results_counter, a_status integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="361" data-linenumber="30">
              <span class="hits">361</span>
              <code class="sql">    self.disabled_count := case when a_status = ut_utils.gc_disabled then 1 else 0 end;</code></li>

            <li class="covered" data-hits="360" data-linenumber="31">
              <span class="hits">360</span>
              <code class="sql">    self.success_count  := case when a_status = ut_utils.gc_success then 1 else 0 end;</code></li>

            <li class="covered" data-hits="360" data-linenumber="32">
              <span class="hits">360</span>
              <code class="sql">    self.failure_count  := case when a_status = ut_utils.gc_failure then 1 else 0 end;</code></li>

            <li class="covered" data-hits="360" data-linenumber="33">
              <span class="hits">360</span>
              <code class="sql">    self.errored_count  := case when a_status = ut_utils.gc_error then 1 else 0 end;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  member procedure sum_counter_values(self in out nocopy ut_results_counter, a_item ut_results_counter) is</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="673" data-linenumber="38">
              <span class="hits">673</span>
              <code class="sql">    self.disabled_count := self.disabled_count + a_item.disabled_count;</code></li>

            <li class="covered" data-hits="673" data-linenumber="39">
              <span class="hits">673</span>
              <code class="sql">    self.success_count  := self.success_count + a_item.success_count;</code></li>

            <li class="covered" data-hits="673" data-linenumber="40">
              <span class="hits">673</span>
              <code class="sql">    self.failure_count  := self.failure_count + a_item.failure_count;</code></li>

            <li class="covered" data-hits="673" data-linenumber="41">
              <span class="hits">673</span>
              <code class="sql">    self.errored_count  := self.errored_count + a_item.errored_count;</code></li>

            <li class="covered" data-hits="673" data-linenumber="42">
              <span class="hits">673</span>
              <code class="sql">    self.warnings_count := self.warnings_count + a_item.warnings_count;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  member procedure increase_warning_count(self in out nocopy ut_results_counter, a_count integer := 1) is</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="409" data-linenumber="47">
              <span class="hits">409</span>
              <code class="sql">    self.warnings_count := self.warnings_count + nvl(a_count,0);</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  member function total_count return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    --skip warnings here</code></li>

            <li class="covered" data-hits="70" data-linenumber="53">
              <span class="hits">70</span>
              <code class="sql">    return self.disabled_count + self.success_count + self.failure_count + self.errored_count;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  member function result_status return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="459" data-linenumber="59">
              <span class="hits">459</span>
              <code class="sql">    if self.errored_count &gt; 0 then</code></li>

            <li class="covered" data-hits="208" data-linenumber="60">
              <span class="hits">208</span>
              <code class="sql">      l_result := ut_utils.gc_error;</code></li>

            <li class="covered" data-hits="251" data-linenumber="61">
              <span class="hits">251</span>
              <code class="sql">    elsif self.failure_count &gt; 0 then</code></li>

            <li class="covered" data-hits="46" data-linenumber="62">
              <span class="hits">46</span>
              <code class="sql">      l_result := ut_utils.gc_failure;</code></li>

            <li class="covered" data-hits="205" data-linenumber="63">
              <span class="hits">205</span>
              <code class="sql">    elsif self.success_count &gt; 0 then</code></li>

            <li class="covered" data-hits="200" data-linenumber="64">
              <span class="hits">200</span>
              <code class="sql">      l_result := ut_utils.gc_success;</code></li>

            <li class="covered" data-hits="5" data-linenumber="65">
              <span class="hits">5</span>
              <code class="sql">    elsif self.disabled_count &gt; 0 then</code></li>

            <li class="covered" data-hits="1" data-linenumber="66">
              <span class="hits">1</span>
              <code class="sql">      l_result := ut_utils.gc_disabled;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="4" data-linenumber="68">
              <span class="hits">4</span>
              <code class="sql">      l_result := ut_utils.gc_error;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="459" data-linenumber="70">
              <span class="hits">459</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="91909CE1AE65AF29D294AAEE7A0203A2"><div class="header"> <h3>UT3.UT_RUN</h3><h4><span class="green">93.94 %</span> lines covered</h4><div> <b>33</b> relevant lines. <span class="green"><b>31</b> lines covered</span> (including <span class="yellow"><b>1</b> lines partially covered</span> ) and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_run as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_run(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_run,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">    a_items                  ut_suite_items,</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">    a_run_paths              ut_varchar2_list := null,</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">    a_schema_names           ut_varchar2_rows := null,</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">    a_exclude_objects        ut_object_names := null,</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">    a_include_objects        ut_object_names := null,</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">    a_project_file_mappings  ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">    a_test_file_mappings     ut_file_mappings := null,</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">    a_client_character_set   varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">    a_random_test_order_seed positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    a_run_tags               ut_varchar2_rows := null</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="33">
              <span class="hits">116</span>
              <code class="sql">    self.run_paths := a_run_paths;</code></li>

            <li class="covered" data-hits="116" data-linenumber="34">
              <span class="hits">116</span>
              <code class="sql">    self.run_tags  := a_run_tags;</code></li>

            <li class="covered" data-hits="116" data-linenumber="35">
              <span class="hits">116</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="116" data-linenumber="36">
              <span class="hits">116</span>
              <code class="sql">    self.items := a_items;</code></li>

            <li class="covered" data-hits="116" data-linenumber="37">
              <span class="hits">116</span>
              <code class="sql">    self.client_character_set := lower(a_client_character_set);</code></li>

            <li class="covered" data-hits="116" data-linenumber="38">
              <span class="hits">116</span>
              <code class="sql">    self.random_test_order_seed := a_random_test_order_seed;</code></li>

            <li class="covered" data-hits="116" data-linenumber="39">
              <span class="hits">116</span>
              <code class="sql">    self.results_count := ut_results_counter();</code></li>

            <li class="covered" data-hits="116" data-linenumber="40">
              <span class="hits">116</span>
              <code class="sql">    self.test_file_mappings := coalesce(a_test_file_mappings, ut_file_mappings());</code></li>

            <li class="covered" data-hits="116" data-linenumber="41">
              <span class="hits">116</span>
              <code class="sql">    self.coverage_options := ut_coverage_options(</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">      a_schema_names,</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">      a_exclude_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">      a_include_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">      a_project_file_mappings</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="116" data-linenumber="47">
              <span class="hits">116</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  overriding member procedure mark_as_skipped(self in out nocopy ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="52">
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  overriding member function do_execute(self in out nocopy ut_run) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    l_completed_without_errors boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="115" data-linenumber="58">
              <span class="hits">115</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_run.execute&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="60">
              <span class="hits">116</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_before_run, self);</code></li>

            <li class="covered" data-hits="115" data-linenumber="61">
              <span class="hits">115</span>
              <code class="sql">    self.start_time := current_timestamp;</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    -- clear anything that might stay in the session&apos;s cache</code></li>

            <li class="covered" data-hits="116" data-linenumber="64">
              <span class="hits">116</span>
              <code class="sql">    ut_expectation_processor.clear_expectations;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql"></code></li>

            <li class="covered" data-hits="257" data-linenumber="66">
              <span class="hits">257</span>
              <code class="sql">    for i in 1 .. self.items.count loop</code></li>

            <li class="covered" data-hits="142" data-linenumber="67">
              <span class="hits">142</span>
              <code class="sql">      l_completed_without_errors := self.items(i).do_execute();</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="covered" data-hits="115" data-linenumber="70">
              <span class="hits">115</span>
              <code class="sql">    self.calc_execution_result();</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql"></code></li>

            <li class="covered" data-hits="115" data-linenumber="72">
              <span class="hits">115</span>
              <code class="sql">    self.end_time := current_timestamp;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql"></code></li>

            <li class="covered" data-hits="115" data-linenumber="74">
              <span class="hits">115</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_after_run, self);</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql"></code></li>

            <li class="covered" data-hits="115" data-linenumber="76">
              <span class="hits">115</span>
              <code class="sql">    return l_completed_without_errors;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  overriding member procedure set_rollback_type(self in out nocopy ut_run, a_rollback_type integer, a_force boolean := false) is</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  begin</code></li>

            <li class="partcov" data-hits="2" data-blocks="2/4" data-linenumber="81">
                <span class="blocks">2/4</span>
              <span class="hits">2</span>
              <code class="sql">    self.rollback_type := case when a_force then a_rollback_type else coalesce(self.rollback_type, a_rollback_type) end;</code></li>

            <li class="covered" data-hits="4" data-linenumber="82">
              <span class="hits">4</span>
              <code class="sql">    for i in 1 .. self.items.count loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="83">
              <span class="hits">2</span>
              <code class="sql">      self.items(i).set_rollback_type(self.rollback_type, a_force);</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  overriding member procedure calc_execution_result(self in out nocopy ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    l_result integer(1);</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="115" data-linenumber="90">
              <span class="hits">115</span>
              <code class="sql">    if self.items is not null and self.items.count &gt; 0 then</code></li>

            <li class="covered" data-hits="256" data-linenumber="91">
              <span class="hits">256</span>
              <code class="sql">      for i in 1 .. self.items.count loop</code></li>

            <li class="covered" data-hits="142" data-linenumber="92">
              <span class="hits">142</span>
              <code class="sql">        self.results_count.sum_counter_values( self.items(i).results_count );</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="114" data-linenumber="94">
              <span class="hits">114</span>
              <code class="sql">      l_result := self.results_count.result_status();</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">    else</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">      --if suite is empty then it&apos;s successful (no errors)</code></li>

            <li class="covered" data-hits="1" data-linenumber="97">
              <span class="hits">1</span>
              <code class="sql">      l_result := ut_utils.gc_success;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql"></code></li>

            <li class="covered" data-hits="115" data-linenumber="100">
              <span class="hits">115</span>
              <code class="sql">    self.result := l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">  overriding member procedure mark_as_errored(self in out nocopy ut_run, a_error_stack_trace varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="105">
              <code class="sql">    null;</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">  overriding member function get_error_stack_traces return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="110">
              <span class="hits">1</span>
              <code class="sql">    return ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  overriding member function get_serveroutputs return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="115">
              <span class="hits">1</span>
              <code class="sql">    return null;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="50805596E2AD0A188F83B590B718FB64"><div class="header"> <h3>UT3.UT_RUN_INFO</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>10</b> relevant lines. <span class="green"><b>10</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_run_info as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions andTEST_GET_REPORTERS_LIST</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">  constructor function ut_run_info(self in out nocopy ut_run_info) return self as result is</code></li>

            <li class="covered" data-hits="116" data-linenumber="19">
              <span class="hits">116</span>
              <code class="sql">    l_ut_owner varchar2(250) := ut_utils.ut_owner;</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="21">
              <span class="hits">116</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="116" data-linenumber="22">
              <span class="hits">116</span>
              <code class="sql">    execute immediate</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">      &apos;select &apos;||l_ut_owner||&apos;.ut.version() from dual&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">        into self.ut_version;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="26">
              <span class="hits">116</span>
              <code class="sql">    dbms_utility.db_version( self.db_version, self.db_compatibility );</code></li>

            <li class="covered" data-hits="116" data-linenumber="27">
              <span class="hits">116</span>
              <code class="sql">    db_os_type := dbms_utility.port_string();</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="29">
              <span class="hits">116</span>
              <code class="sql">    execute immediate</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">      &apos;select &apos;||l_ut_owner||&apos;.ut_key_value_pair(x.product, x.version) from product_component_version x&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">        bulk collect into self.db_component_version;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="33">
              <span class="hits">116</span>
              <code class="sql">    execute immediate</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">      &apos;select &apos;||l_ut_owner||&apos;.ut_key_value_pair(x.parameter, x.value)</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">      from nls_session_parameters x&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">        bulk collect into self.nls_session_params;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="38">
              <span class="hits">116</span>
              <code class="sql">    execute immediate</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">      &apos;select &apos;||l_ut_owner||&apos;.ut_key_value_pair(x.parameter, x.value) from nls_instance_parameters x&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">        bulk collect into self.nls_instance_params;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="42">
              <span class="hits">116</span>
              <code class="sql">    execute immediate</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">      &apos;select &apos;||l_ut_owner||&apos;.ut_key_value_pair(x.parameter, x.value) from nls_database_parameters x&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">        bulk collect into self.nls_db_params;</code></li>

            <li class="covered" data-hits="116" data-linenumber="45">
              <span class="hits">116</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="D9E97DEEB29924F70F3824C7CE9C2B9C"><div class="header"> <h3>UT3.UT_SUITE</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>44</b> relevant lines. <span class="green"><b>44</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_suite  as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_suite (</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_suite, a_object_owner varchar2, a_object_name varchar2, a_line_no integer,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">    a_tags ut_varchar2_rows := null</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="284" data-linenumber="24">
              <span class="hits">284</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="284" data-linenumber="25">
              <span class="hits">284</span>
              <code class="sql">    self.init(a_object_owner, a_object_name, a_object_name, a_line_no);</code></li>

            <li class="covered" data-hits="284" data-linenumber="26">
              <span class="hits">284</span>
              <code class="sql">    self.items := ut_suite_items();</code></li>

            <li class="covered" data-hits="284" data-linenumber="27">
              <span class="hits">284</span>
              <code class="sql">    before_all_list := ut_executables();</code></li>

            <li class="covered" data-hits="284" data-linenumber="28">
              <span class="hits">284</span>
              <code class="sql">    after_all_list  := ut_executables();</code></li>

            <li class="covered" data-hits="284" data-linenumber="29">
              <span class="hits">284</span>
              <code class="sql">    self.tags       := coalesce(a_tags,ut_varchar2_rows());</code></li>

            <li class="covered" data-hits="284" data-linenumber="30">
              <span class="hits">284</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  overriding member function do_execute(self in out nocopy ut_suite) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    l_suite_savepoint varchar2(30);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    l_no_errors boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    procedure propagate_error(a_error_stack_trace varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="39">
              <span class="hits">4</span>
              <code class="sql">      for i in 1..self.items.count loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="40">
              <span class="hits">2</span>
              <code class="sql">        self.items(i).mark_as_errored(a_error_stack_trace);</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="204" data-linenumber="44">
              <span class="hits">204</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_suite.execute&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="covered" data-hits="204" data-linenumber="46">
              <span class="hits">204</span>
              <code class="sql">    if self.get_disabled_flag() then</code></li>

            <li class="covered" data-hits="1" data-linenumber="47">
              <span class="hits">1</span>
              <code class="sql">      self.mark_as_skipped();</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="203" data-linenumber="49">
              <span class="hits">203</span>
              <code class="sql">      self.start_time := current_timestamp;</code></li>

            <li class="covered" data-hits="204" data-linenumber="50">
              <span class="hits">204</span>
              <code class="sql">      ut_event_manager.trigger_event(ut_event_manager.gc_before_suite, self);</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql"></code></li>

            <li class="covered" data-hits="203" data-linenumber="52">
              <span class="hits">203</span>
              <code class="sql">      l_suite_savepoint := self.create_savepoint_if_needed();</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      --includes listener calls for before and after actions</code></li>

            <li class="covered" data-hits="203" data-linenumber="55">
              <span class="hits">203</span>
              <code class="sql">      l_no_errors := true;</code></li>

            <li class="covered" data-hits="227" data-linenumber="56">
              <span class="hits">227</span>
              <code class="sql">      for i in 1 .. self.before_all_list.count loop</code></li>

            <li class="covered" data-hits="26" data-linenumber="57">
              <span class="hits">26</span>
              <code class="sql">        l_no_errors := self.before_all_list(i).do_execute(self);</code></li>

            <li class="covered" data-hits="26" data-linenumber="58">
              <span class="hits">26</span>
              <code class="sql">        if not l_no_errors then</code></li>

            <li class="covered" data-hits="2" data-linenumber="59">
              <span class="hits">2</span>
              <code class="sql">          propagate_error(self.before_all_list(i).get_error_stack_trace());</code></li>

            <li class="covered" data-hits="2" data-linenumber="60">
              <span class="hits">2</span>
              <code class="sql">          exit;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql"></code></li>

            <li class="covered" data-hits="203" data-linenumber="64">
              <span class="hits">203</span>
              <code class="sql">      if l_no_errors then</code></li>

            <li class="covered" data-hits="582" data-linenumber="65">
              <span class="hits">582</span>
              <code class="sql">        for i in 1 .. self.items.count loop</code></li>

            <li class="covered" data-hits="381" data-linenumber="66">
              <span class="hits">381</span>
              <code class="sql">          self.items(i).do_execute();</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="covered" data-hits="218" data-linenumber="70">
              <span class="hits">218</span>
              <code class="sql">      for i in 1 .. after_all_list.count loop</code></li>

            <li class="covered" data-hits="15" data-linenumber="71">
              <span class="hits">15</span>
              <code class="sql">        l_no_errors := self.after_all_list(i).do_execute(self);</code></li>

            <li class="covered" data-hits="15" data-linenumber="72">
              <span class="hits">15</span>
              <code class="sql">        if not l_no_errors then</code></li>

            <li class="covered" data-hits="2" data-linenumber="73">
              <span class="hits">2</span>
              <code class="sql">          self.put_warning(self.after_all_list(i).get_error_stack_trace());</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql"></code></li>

            <li class="covered" data-hits="203" data-linenumber="77">
              <span class="hits">203</span>
              <code class="sql">      self.rollback_to_savepoint(l_suite_savepoint);</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql"></code></li>

            <li class="covered" data-hits="203" data-linenumber="79">
              <span class="hits">203</span>
              <code class="sql">      self.calc_execution_result();</code></li>

            <li class="covered" data-hits="203" data-linenumber="80">
              <span class="hits">203</span>
              <code class="sql">      self.end_time := current_timestamp;</code></li>

            <li class="covered" data-hits="203" data-linenumber="81">
              <span class="hits">203</span>
              <code class="sql">      ut_event_manager.trigger_event(ut_event_manager.gc_after_suite, self);</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql"></code></li>

            <li class="covered" data-hits="204" data-linenumber="84">
              <span class="hits">204</span>
              <code class="sql">    return l_no_errors;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  overriding member function get_error_stack_traces(self ut_suite) return ut_varchar2_list is</code></li>

            <li class="covered" data-hits="29" data-linenumber="88">
              <span class="hits">29</span>
              <code class="sql">    l_stack_traces ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="33" data-linenumber="90">
              <span class="hits">33</span>
              <code class="sql">    for i in 1 .. before_all_list.count loop</code></li>

            <li class="covered" data-hits="4" data-linenumber="91">
              <span class="hits">4</span>
              <code class="sql">      ut_utils.append_to_list(l_stack_traces, self.before_all_list(i).get_error_stack_trace());</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="33" data-linenumber="93">
              <span class="hits">33</span>
              <code class="sql">    for i in 1 .. after_all_list.count loop</code></li>

            <li class="covered" data-hits="4" data-linenumber="94">
              <span class="hits">4</span>
              <code class="sql">      ut_utils.append_to_list(l_stack_traces, self.after_all_list(i).get_error_stack_trace());</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="29" data-linenumber="96">
              <span class="hits">29</span>
              <code class="sql">    return l_stack_traces;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  overriding member function get_serveroutputs return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">    l_outputs clob;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="35" data-linenumber="102">
              <span class="hits">35</span>
              <code class="sql">    for i in 1 .. before_all_list.count loop</code></li>

            <li class="covered" data-hits="5" data-linenumber="103">
              <span class="hits">5</span>
              <code class="sql">      ut_utils.append_to_clob(l_outputs, self.before_all_list(i).serveroutput);</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="35" data-linenumber="105">
              <span class="hits">35</span>
              <code class="sql">    for i in 1 .. after_all_list.count loop</code></li>

            <li class="covered" data-hits="5" data-linenumber="106">
              <span class="hits">5</span>
              <code class="sql">      ut_utils.append_to_clob(l_outputs, self.after_all_list(i).serveroutput);</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="30" data-linenumber="108">
              <span class="hits">30</span>
              <code class="sql">    return l_outputs;</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="9D696FC113B28CE6AA158AB5D08D4A9D"><div class="header"> <h3>UT3.UT_SUITE_CONTEXT</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>6</b> relevant lines. <span class="green"><b>6</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_suite_context as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_suite_context (</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_suite_context, a_object_owner varchar2, a_object_name varchar2, a_context_name varchar2 := null, a_line_no integer</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="176" data-linenumber="23">
              <span class="hits">176</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="176" data-linenumber="24">
              <span class="hits">176</span>
              <code class="sql">    self.init(a_object_owner, a_object_name, a_context_name, a_line_no);</code></li>

            <li class="covered" data-hits="176" data-linenumber="25">
              <span class="hits">176</span>
              <code class="sql">    self.items := ut_suite_items();</code></li>

            <li class="covered" data-hits="176" data-linenumber="26">
              <span class="hits">176</span>
              <code class="sql">    before_all_list := ut_executables();</code></li>

            <li class="covered" data-hits="176" data-linenumber="27">
              <span class="hits">176</span>
              <code class="sql">    after_all_list  := ut_executables();</code></li>

            <li class="covered" data-hits="176" data-linenumber="28">
              <span class="hits">176</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="6A302AC7391EF7975A08F9B8C47596C5"><div class="header"> <h3>UT3.UT_SUITE_ITEM</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>33</b> relevant lines. <span class="green"><b>33</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_suite_item as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init(self in out nocopy ut_suite_item, a_object_owner varchar2, a_object_name varchar2, a_name varchar2, a_line_no integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2921" data-linenumber="21">
              <span class="hits">2921</span>
              <code class="sql">    self.object_owner  := a_object_owner;</code></li>

            <li class="covered" data-hits="2921" data-linenumber="22">
              <span class="hits">2921</span>
              <code class="sql">    self.object_name   := lower(trim(a_object_name));</code></li>

            <li class="covered" data-hits="2921" data-linenumber="23">
              <span class="hits">2921</span>
              <code class="sql">    self.name          := lower(trim(a_name));</code></li>

            <li class="covered" data-hits="2921" data-linenumber="24">
              <span class="hits">2921</span>
              <code class="sql">    self.results_count := ut_results_counter();</code></li>

            <li class="covered" data-hits="2921" data-linenumber="25">
              <span class="hits">2921</span>
              <code class="sql">    self.warnings      := ut_varchar2_rows();</code></li>

            <li class="covered" data-hits="2921" data-linenumber="26">
              <span class="hits">2921</span>
              <code class="sql">    self.line_no       := a_line_no;</code></li>

            <li class="covered" data-hits="2921" data-linenumber="27">
              <span class="hits">2921</span>
              <code class="sql">    self.transaction_invalidators := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="2921" data-linenumber="28">
              <span class="hits">2921</span>
              <code class="sql">    self.disabled_flag := ut_utils.boolean_to_int(false);</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  member function get_disabled_flag return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="569" data-linenumber="33">
              <span class="hits">569</span>
              <code class="sql">    return ut_utils.int_to_boolean(self.disabled_flag);</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  member procedure set_rollback_type(self in out nocopy ut_suite_item, a_rollback_type integer, a_force boolean := false) is</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1315" data-linenumber="38">
              <span class="hits">1315</span>
              <code class="sql">    self.rollback_type := case when a_force then a_rollback_type else coalesce(self.rollback_type, a_rollback_type) end;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  member function get_rollback_type return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1512" data-linenumber="43">
              <span class="hits">1512</span>
              <code class="sql">    return nvl(self.rollback_type, ut_utils.gc_rollback_default);</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  final member procedure do_execute(self in out nocopy ut_suite_item) is</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    l_completed_without_errors boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="674" data-linenumber="49">
              <span class="hits">674</span>
              <code class="sql">    l_completed_without_errors := self.do_execute();</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  member function create_savepoint_if_needed return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">    l_savepoint varchar2(30);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="548" data-linenumber="55">
              <span class="hits">548</span>
              <code class="sql">    if get_rollback_type() = ut_utils.gc_rollback_auto then</code></li>

            <li class="covered" data-hits="321" data-linenumber="56">
              <span class="hits">321</span>
              <code class="sql">      l_savepoint := ut_utils.gen_savepoint_name();</code></li>

            <li class="covered" data-hits="321" data-linenumber="57">
              <span class="hits">321</span>
              <code class="sql">      execute immediate &apos;savepoint &apos; || l_savepoint;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="548" data-linenumber="59">
              <span class="hits">548</span>
              <code class="sql">    return l_savepoint;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  member procedure rollback_to_savepoint(self in out nocopy ut_suite_item, a_savepoint varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    ex_savepoint_not_exists exception;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    l_transaction_invalidators clob;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">    pragma exception_init(ex_savepoint_not_exists, -1086);</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">    l_savepoint varchar2(250);</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="549" data-linenumber="68">
              <span class="hits">549</span>
              <code class="sql">    if get_rollback_type() = ut_utils.gc_rollback_auto and a_savepoint is not null then</code></li>

            <li class="covered" data-hits="322" data-linenumber="69">
              <span class="hits">322</span>
              <code class="sql">      l_savepoint := sys.dbms_assert.qualified_sql_name(a_savepoint);</code></li>

            <li class="covered" data-hits="322" data-linenumber="70">
              <span class="hits">322</span>
              <code class="sql">      execute immediate &apos;rollback to &apos; || l_savepoint;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  exception</code></li>

            <li class="covered" data-hits="12" data-linenumber="73">
              <span class="hits">12</span>
              <code class="sql">    when ex_savepoint_not_exists then</code></li>

            <li class="covered" data-hits="6" data-linenumber="74">
              <span class="hits">6</span>
              <code class="sql">      l_transaction_invalidators :=</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">        lower( ut_utils.indent_lines( ut_utils.table_to_clob( self.get_transaction_invalidators() ), 2, true ) );</code></li>

            <li class="covered" data-hits="6" data-linenumber="76">
              <span class="hits">6</span>
              <code class="sql">      if length(l_transaction_invalidators) &gt; 3000 then</code></li>

            <li class="covered" data-hits="1" data-linenumber="77">
              <span class="hits">1</span>
              <code class="sql">        l_transaction_invalidators := substr(l_transaction_invalidators,1,3000)||&apos;...&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="6" data-linenumber="79">
              <span class="hits">6</span>
              <code class="sql">      put_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">        &apos;Unable to perform automatic rollback after test&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="81">
              <span class="hits">1</span>
              <code class="sql">        || case when self_type like &apos;%SUITE&apos; then &apos; suite&apos; when self_type like &apos;%CONTEXT&apos; then &apos; context&apos; end || &apos;. &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">        ||&apos;An implicit or explicit commit/rollback occurred in procedures:&apos;||chr(10)</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">        ||l_transaction_invalidators||chr(10)</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">        ||&apos;Use the &quot;--%rollback(manual)&quot; annotation or remove commit/rollback/ddl statements that are causing the issue.&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">  member function execution_time return number is</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="424" data-linenumber="90">
              <span class="hits">424</span>
              <code class="sql">    return ut_utils.time_diff(start_time, end_time);</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">  member procedure put_warning(self in out nocopy ut_suite_item, a_message varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="62" data-linenumber="95">
              <span class="hits">62</span>
              <code class="sql">    self.warnings.extend;</code></li>

            <li class="covered" data-hits="62" data-linenumber="96">
              <span class="hits">62</span>
              <code class="sql">    self.warnings(self.warnings.last) := a_message;</code></li>

            <li class="covered" data-hits="62" data-linenumber="97">
              <span class="hits">62</span>
              <code class="sql">    self.results_count.increase_warning_count;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  member function get_transaction_invalidators return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="102">
              <span class="hits">5</span>
              <code class="sql">    return transaction_invalidators;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  member procedure add_transaction_invalidator(self in out nocopy ut_suite_item, a_object_name varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="103" data-linenumber="107">
              <span class="hits">103</span>
              <code class="sql">    if a_object_name not member of transaction_invalidators then</code></li>

            <li class="covered" data-hits="103" data-linenumber="108">
              <span class="hits">103</span>
              <code class="sql">      transaction_invalidators.extend();</code></li>

            <li class="covered" data-hits="103" data-linenumber="109">
              <span class="hits">103</span>
              <code class="sql">      transaction_invalidators(transaction_invalidators.last) := a_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="B6621C2E18D6F33583A0DA6D0A3FC021"><div class="header"> <h3>UT3.UT_TEST</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>87</b> relevant lines. <span class="green"><b>87</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_test as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_test(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_test, a_object_owner varchar2 := null, a_object_name varchar2, a_name varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">    a_line_no integer, a_expected_error_codes ut_integer_list := null, a_tags ut_varchar2_rows := null</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2461" data-linenumber="24">
              <span class="hits">2461</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="2461" data-linenumber="25">
              <span class="hits">2461</span>
              <code class="sql">    self.init(a_object_owner, a_object_name, a_name, a_line_no);</code></li>

            <li class="covered" data-hits="2461" data-linenumber="26">
              <span class="hits">2461</span>
              <code class="sql">    self.item := ut_executable_test(a_object_owner, a_object_name, a_name, ut_utils.gc_test_execute);</code></li>

            <li class="covered" data-hits="2461" data-linenumber="27">
              <span class="hits">2461</span>
              <code class="sql">    self.before_each_list     := ut_executables();</code></li>

            <li class="covered" data-hits="2461" data-linenumber="28">
              <span class="hits">2461</span>
              <code class="sql">    self.before_test_list     := ut_executables();</code></li>

            <li class="covered" data-hits="2461" data-linenumber="29">
              <span class="hits">2461</span>
              <code class="sql">    self.after_test_list      := ut_executables();</code></li>

            <li class="covered" data-hits="2461" data-linenumber="30">
              <span class="hits">2461</span>
              <code class="sql">    self.after_each_list      := ut_executables();</code></li>

            <li class="covered" data-hits="2461" data-linenumber="31">
              <span class="hits">2461</span>
              <code class="sql">    self.all_expectations     := ut_expectation_results();</code></li>

            <li class="covered" data-hits="2461" data-linenumber="32">
              <span class="hits">2461</span>
              <code class="sql">    self.failed_expectations  := ut_expectation_results();</code></li>

            <li class="covered" data-hits="2461" data-linenumber="33">
              <span class="hits">2461</span>
              <code class="sql">    self.expected_error_codes := a_expected_error_codes;</code></li>

            <li class="covered" data-hits="2461" data-linenumber="34">
              <span class="hits">2461</span>
              <code class="sql">    self.tags                 := coalesce(a_tags,ut_varchar2_rows());</code></li>

            <li class="covered" data-hits="2461" data-linenumber="35">
              <span class="hits">2461</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  overriding member procedure mark_as_skipped(self in out nocopy ut_test) is</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="13" data-linenumber="40">
              <span class="hits">13</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_before_test, self);</code></li>

            <li class="covered" data-hits="13" data-linenumber="41">
              <span class="hits">13</span>
              <code class="sql">    self.start_time := current_timestamp;</code></li>

            <li class="covered" data-hits="13" data-linenumber="42">
              <span class="hits">13</span>
              <code class="sql">    self.result := ut_utils.gc_disabled;</code></li>

            <li class="covered" data-hits="13" data-linenumber="43">
              <span class="hits">13</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_test.execute - disabled&apos;);</code></li>

            <li class="covered" data-hits="13" data-linenumber="44">
              <span class="hits">13</span>
              <code class="sql">    self.results_count.set_counter_values(self.result);</code></li>

            <li class="covered" data-hits="13" data-linenumber="45">
              <span class="hits">13</span>
              <code class="sql">    self.end_time := self.start_time;</code></li>

            <li class="covered" data-hits="13" data-linenumber="46">
              <span class="hits">13</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_after_test, self);</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  overriding member function do_execute(self in out nocopy ut_test) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    l_no_errors boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">    l_savepoint varchar2(30);</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql"></code></li>

            <li class="covered" data-hits="356" data-linenumber="54">
              <span class="hits">356</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_test.execute&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="covered" data-hits="356" data-linenumber="56">
              <span class="hits">356</span>
              <code class="sql">    if self.get_disabled_flag() then</code></li>

            <li class="covered" data-hits="11" data-linenumber="57">
              <span class="hits">11</span>
              <code class="sql">      mark_as_skipped();</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="345" data-linenumber="59">
              <span class="hits">345</span>
              <code class="sql">      self.start_time := current_timestamp;</code></li>

            <li class="covered" data-hits="346" data-linenumber="60">
              <span class="hits">346</span>
              <code class="sql">      ut_event_manager.trigger_event(ut_event_manager.gc_before_test, self);</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="covered" data-hits="345" data-linenumber="62">
              <span class="hits">345</span>
              <code class="sql">      l_savepoint := self.create_savepoint_if_needed();</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">      --includes listener calls for before and after actions</code></li>

            <li class="covered" data-hits="345" data-linenumber="65">
              <span class="hits">345</span>
              <code class="sql">      l_no_errors := true;</code></li>

            <li class="covered" data-hits="345" data-linenumber="66">
              <span class="hits">345</span>
              <code class="sql">      for i in 1 .. self.before_each_list.count loop</code></li>

            <li class="covered" data-hits="35" data-linenumber="67">
              <span class="hits">35</span>
              <code class="sql">        l_no_errors := self.before_each_list(i).do_execute(self);</code></li>

            <li class="covered" data-hits="35" data-linenumber="68">
              <span class="hits">35</span>
              <code class="sql">        exit when not l_no_errors;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql"></code></li>

            <li class="covered" data-hits="345" data-linenumber="71">
              <span class="hits">345</span>
              <code class="sql">      if l_no_errors then</code></li>

            <li class="covered" data-hits="342" data-linenumber="72">
              <span class="hits">342</span>
              <code class="sql">        for i in 1 .. self.before_test_list.count loop</code></li>

            <li class="covered" data-hits="30" data-linenumber="73">
              <span class="hits">30</span>
              <code class="sql">          l_no_errors := self.before_test_list(i).do_execute(self);</code></li>

            <li class="covered" data-hits="30" data-linenumber="74">
              <span class="hits">30</span>
              <code class="sql">          exit when not l_no_errors;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql"></code></li>

            <li class="covered" data-hits="342" data-linenumber="77">
              <span class="hits">342</span>
              <code class="sql">        if l_no_errors then</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">          -- execute the test</code></li>

            <li class="covered" data-hits="337" data-linenumber="79">
              <span class="hits">337</span>
              <code class="sql">          self.item.do_execute(self, self.expected_error_codes);</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">        -- perform cleanup regardless of the test or setup failure</code></li>

            <li class="covered" data-hits="359" data-linenumber="83">
              <span class="hits">359</span>
              <code class="sql">        for i in 1 .. self.after_test_list.count loop</code></li>

            <li class="covered" data-hits="17" data-linenumber="84">
              <span class="hits">17</span>
              <code class="sql">          self.after_test_list(i).do_execute(self);</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="covered" data-hits="387" data-linenumber="88">
              <span class="hits">387</span>
              <code class="sql">      for i in 1 .. self.after_each_list.count loop</code></li>

            <li class="covered" data-hits="42" data-linenumber="89">
              <span class="hits">42</span>
              <code class="sql">        self.after_each_list(i).do_execute(self);</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="345" data-linenumber="91">
              <span class="hits">345</span>
              <code class="sql">      self.rollback_to_savepoint(l_savepoint);</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql"></code></li>

            <li class="covered" data-hits="345" data-linenumber="93">
              <span class="hits">345</span>
              <code class="sql">      self.calc_execution_result();</code></li>

            <li class="covered" data-hits="345" data-linenumber="94">
              <span class="hits">345</span>
              <code class="sql">      self.end_time := current_timestamp;</code></li>

            <li class="covered" data-hits="345" data-linenumber="95">
              <span class="hits">345</span>
              <code class="sql">      ut_event_manager.trigger_event(ut_event_manager.gc_after_test, self);</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="356" data-linenumber="97">
              <span class="hits">356</span>
              <code class="sql">    return l_no_errors;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  overriding member procedure calc_execution_result(self in out nocopy ut_test) is</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">    l_warnings ut_varchar2_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="347" data-linenumber="103">
              <span class="hits">347</span>
              <code class="sql">    if self.get_error_stack_traces().count = 0 then</code></li>

            <li class="covered" data-hits="261" data-linenumber="104">
              <span class="hits">261</span>
              <code class="sql">      self.result := ut_expectation_processor.get_status();</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="86" data-linenumber="106">
              <span class="hits">86</span>
              <code class="sql">      self.result := ut_utils.gc_error;</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">    --expectation results need to be part of test results</code></li>

            <li class="covered" data-hits="347" data-linenumber="109">
              <span class="hits">347</span>
              <code class="sql">    self.all_expectations    := ut_expectation_processor.get_all_expectations();</code></li>

            <li class="covered" data-hits="347" data-linenumber="110">
              <span class="hits">347</span>
              <code class="sql">    self.failed_expectations := ut_expectation_processor.get_failed_expectations();</code></li>

            <li class="covered" data-hits="347" data-linenumber="111">
              <span class="hits">347</span>
              <code class="sql">    l_warnings := coalesce( ut_expectation_processor.get_warnings(), ut_varchar2_rows() );</code></li>

            <li class="covered" data-hits="347" data-linenumber="112">
              <span class="hits">347</span>
              <code class="sql">    self.warnings := self.warnings multiset union all l_warnings;</code></li>

            <li class="covered" data-hits="347" data-linenumber="113">
              <span class="hits">347</span>
              <code class="sql">    self.results_count.increase_warning_count( cardinality(l_warnings) );</code></li>

            <li class="covered" data-hits="347" data-linenumber="114">
              <span class="hits">347</span>
              <code class="sql">    self.results_count.set_counter_values(self.result);</code></li>

            <li class="covered" data-hits="347" data-linenumber="115">
              <span class="hits">347</span>
              <code class="sql">    ut_expectation_processor.clear_expectations();</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">  overriding member procedure mark_as_errored(self in out nocopy ut_test, a_error_stack_trace varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="120">
              <span class="hits">2</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_test.fail&apos;);</code></li>

            <li class="covered" data-hits="2" data-linenumber="121">
              <span class="hits">2</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_before_test, self);</code></li>

            <li class="covered" data-hits="2" data-linenumber="122">
              <span class="hits">2</span>
              <code class="sql">    self.start_time := current_timestamp;</code></li>

            <li class="covered" data-hits="2" data-linenumber="123">
              <span class="hits">2</span>
              <code class="sql">    self.parent_error_stack_trace := a_error_stack_trace;</code></li>

            <li class="covered" data-hits="2" data-linenumber="124">
              <span class="hits">2</span>
              <code class="sql">    self.calc_execution_result();</code></li>

            <li class="covered" data-hits="2" data-linenumber="125">
              <span class="hits">2</span>
              <code class="sql">    self.end_time := self.start_time;</code></li>

            <li class="covered" data-hits="2" data-linenumber="126">
              <span class="hits">2</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_after_test, self);</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">  overriding member function get_error_stack_traces(self ut_test) return ut_varchar2_list is</code></li>

            <li class="covered" data-hits="424" data-linenumber="130">
              <span class="hits">424</span>
              <code class="sql">    l_stack_traces ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="424" data-linenumber="132">
              <span class="hits">424</span>
              <code class="sql">    ut_utils.append_to_list(l_stack_traces, self.parent_error_stack_trace);</code></li>

            <li class="covered" data-hits="466" data-linenumber="133">
              <span class="hits">466</span>
              <code class="sql">    for i in 1 .. before_each_list.count loop</code></li>

            <li class="covered" data-hits="42" data-linenumber="134">
              <span class="hits">42</span>
              <code class="sql">      ut_utils.append_to_list(l_stack_traces, self.before_each_list(i).get_error_stack_trace());</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="464" data-linenumber="136">
              <span class="hits">464</span>
              <code class="sql">    for i in 1 .. before_test_list.count loop</code></li>

            <li class="covered" data-hits="40" data-linenumber="137">
              <span class="hits">40</span>
              <code class="sql">      ut_utils.append_to_list(l_stack_traces, self.before_test_list(i).get_error_stack_trace());</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="424" data-linenumber="139">
              <span class="hits">424</span>
              <code class="sql">    ut_utils.append_to_list(l_stack_traces, self.item.get_error_stack_trace());</code></li>

            <li class="covered" data-hits="441" data-linenumber="140">
              <span class="hits">441</span>
              <code class="sql">    for i in 1 .. after_test_list.count loop</code></li>

            <li class="covered" data-hits="17" data-linenumber="141">
              <span class="hits">17</span>
              <code class="sql">      ut_utils.append_to_list(l_stack_traces, self.after_test_list(i).get_error_stack_trace());</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="475" data-linenumber="143">
              <span class="hits">475</span>
              <code class="sql">    for i in 1 .. after_each_list.count loop</code></li>

            <li class="covered" data-hits="51" data-linenumber="144">
              <span class="hits">51</span>
              <code class="sql">      ut_utils.append_to_list(l_stack_traces, self.after_each_list(i).get_error_stack_trace());</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="424" data-linenumber="146">
              <span class="hits">424</span>
              <code class="sql">    return l_stack_traces;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">  overriding member function get_serveroutputs return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">    l_outputs clob;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="278" data-linenumber="151">
              <span class="hits">278</span>
              <code class="sql">    for i in 1 .. before_each_list.count loop</code></li>

            <li class="covered" data-hits="24" data-linenumber="152">
              <span class="hits">24</span>
              <code class="sql">      ut_utils.append_to_clob(l_outputs, self.before_each_list(i).serveroutput);</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="278" data-linenumber="154">
              <span class="hits">278</span>
              <code class="sql">    for i in 1 .. before_test_list.count loop</code></li>

            <li class="covered" data-hits="24" data-linenumber="155">
              <span class="hits">24</span>
              <code class="sql">      ut_utils.append_to_clob(l_outputs, self.before_test_list(i).serveroutput);</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="254" data-linenumber="157">
              <span class="hits">254</span>
              <code class="sql">    ut_utils.append_to_clob(l_outputs, self.item.serveroutput );</code></li>

            <li class="covered" data-hits="263" data-linenumber="158">
              <span class="hits">263</span>
              <code class="sql">    for i in 1 .. after_test_list.count loop</code></li>

            <li class="covered" data-hits="9" data-linenumber="159">
              <span class="hits">9</span>
              <code class="sql">      ut_utils.append_to_clob(l_outputs, self.after_test_list(i).serveroutput);</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="285" data-linenumber="161">
              <span class="hits">285</span>
              <code class="sql">    for i in 1 .. after_each_list.count loop</code></li>

            <li class="covered" data-hits="31" data-linenumber="162">
              <span class="hits">31</span>
              <code class="sql">      ut_utils.append_to_clob(l_outputs, self.after_each_list(i).serveroutput);</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="254" data-linenumber="164">
              <span class="hits">254</span>
              <code class="sql">    return l_outputs;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">  member function get_failed_expectation_lines return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">    l_results ut_varchar2_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="34" data-linenumber="170">
              <span class="hits">34</span>
              <code class="sql">    for i in 1 .. failed_expectations.count loop</code></li>

            <li class="covered" data-hits="17" data-linenumber="171">
              <span class="hits">17</span>
              <code class="sql">      ut_utils.append_to_list( l_results, ut_utils.convert_collection( failed_expectations(i).get_result_lines() ) );</code></li>

            <li class="covered" data-hits="17" data-linenumber="172">
              <span class="hits">17</span>
              <code class="sql">      ut_utils.append_to_list( l_results, failed_expectations(i).caller_info );</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="17" data-linenumber="174">
              <span class="hits">17</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="FA5A7975E08110B3FD803D8A36D815C6"><div class="header"> <h3>UT3.UT_EXPECTATION_PROCESSOR</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>71</b> relevant lines. <span class="green"><b>71</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_expectation_processor as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  type tt_nls_params is table of nls_session_parameters%rowtype;</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  g_session_params tt_nls_params;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="23">
              <span class="hits">1</span>
              <code class="sql">  g_expectations_called ut_expectation_results := ut_expectation_results();</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="25">
              <span class="hits">1</span>
              <code class="sql">  g_warnings ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="27">
              <span class="hits">1</span>
              <code class="sql">  g_nulls_are_equal boolean_not_null := gc_default_nulls_are_equal;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="29">
              <span class="hits">1</span>
              <code class="sql">  g_package_invalidated boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  function nulls_are_equal return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="373" data-linenumber="33">
              <span class="hits">373</span>
              <code class="sql">    return g_nulls_are_equal;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  procedure nulls_are_equal(a_setting boolean_not_null) is</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="38">
              <span class="hits">4</span>
              <code class="sql">    g_nulls_are_equal := a_setting;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  function get_status return integer is</code></li>

            <li class="covered" data-hits="261" data-linenumber="42">
              <span class="hits">261</span>
              <code class="sql">    l_result integer := ut_utils.gc_success;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="261" data-linenumber="44">
              <span class="hits">261</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_expectation_processor.get_status&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="covered" data-hits="261" data-linenumber="46">
              <span class="hits">261</span>
              <code class="sql">    for i in 1 .. g_expectations_called.count loop</code></li>

            <li class="covered" data-hits="82" data-linenumber="47">
              <span class="hits">82</span>
              <code class="sql">      l_result := greatest(l_result, g_expectations_called(i).status);</code></li>

            <li class="covered" data-hits="82" data-linenumber="48">
              <span class="hits">82</span>
              <code class="sql">      exit when l_result = ut_utils.gc_error;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="261" data-linenumber="50">
              <span class="hits">261</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  end get_status;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  procedure clear_expectations is</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1188" data-linenumber="55">
              <span class="hits">1188</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_expectation_processor.clear_expectations&apos;);</code></li>

            <li class="covered" data-hits="1188" data-linenumber="56">
              <span class="hits">1188</span>
              <code class="sql">    g_expectations_called.delete;</code></li>

            <li class="covered" data-hits="1188" data-linenumber="57">
              <span class="hits">1188</span>
              <code class="sql">    g_warnings.delete;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  function get_all_expectations return ut_expectation_results is</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="347" data-linenumber="62">
              <span class="hits">347</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_expectation_processor.get_all_expectations: g_expectations_called.count=&apos;||g_expectations_called.count);</code></li>

            <li class="covered" data-hits="347" data-linenumber="63">
              <span class="hits">347</span>
              <code class="sql">    return g_expectations_called;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  end get_all_expectations;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  function get_failed_expectations return ut_expectation_results is</code></li>

            <li class="covered" data-hits="1039" data-linenumber="67">
              <span class="hits">1039</span>
              <code class="sql">    l_expectations_results ut_expectation_results := ut_expectation_results();</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1039" data-linenumber="69">
              <span class="hits">1039</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_expectation_processor.get_failed_expectations: g_expectations_called.count=&apos;||g_expectations_called.count);</code></li>

            <li class="covered" data-hits="1813" data-linenumber="70">
              <span class="hits">1813</span>
              <code class="sql">    for i in 1 .. g_expectations_called.count loop</code></li>

            <li class="covered" data-hits="774" data-linenumber="71">
              <span class="hits">774</span>
              <code class="sql">      if g_expectations_called(i).status &gt; ut_utils.gc_success then</code></li>

            <li class="covered" data-hits="423" data-linenumber="72">
              <span class="hits">423</span>
              <code class="sql">        l_expectations_results.extend;</code></li>

            <li class="covered" data-hits="423" data-linenumber="73">
              <span class="hits">423</span>
              <code class="sql">        l_expectations_results(l_expectations_results.last) := g_expectations_called(i);</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="1039" data-linenumber="76">
              <span class="hits">1039</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_expectation_processor.get_failed_expectations: l_expectations_results.count=&apos;||l_expectations_results.count);</code></li>

            <li class="covered" data-hits="1039" data-linenumber="77">
              <span class="hits">1039</span>
              <code class="sql">    return l_expectations_results;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  end get_failed_expectations;</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  procedure add_expectation_result(a_expectation_result ut_expectation_result) is</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">    l_results ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="799" data-linenumber="83">
              <span class="hits">799</span>
              <code class="sql">    if ut_session_context.is_ut_run then</code></li>

            <li class="covered" data-hits="794" data-linenumber="84">
              <span class="hits">794</span>
              <code class="sql">      ut_event_manager.trigger_event(ut_event_manager.gc_debug, a_expectation_result);</code></li>

            <li class="covered" data-hits="793" data-linenumber="85">
              <span class="hits">793</span>
              <code class="sql">      g_expectations_called.extend;</code></li>

            <li class="covered" data-hits="793" data-linenumber="86">
              <span class="hits">793</span>
              <code class="sql">      g_expectations_called(g_expectations_called.last) := a_expectation_result;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="6" data-linenumber="88">
              <span class="hits">6</span>
              <code class="sql">      l_results := a_expectation_result.get_result_lines();</code></li>

            <li class="covered" data-hits="6" data-linenumber="89">
              <span class="hits">6</span>
              <code class="sql">      dbms_output.put_line( upper( ut_utils.test_result_to_char( a_expectation_result.status ) ) || &apos;&apos;);</code></li>

            <li class="covered" data-hits="12" data-linenumber="90">
              <span class="hits">12</span>
              <code class="sql">      for i in 1 .. l_results.count loop</code></li>

            <li class="covered" data-hits="6" data-linenumber="91">
              <span class="hits">6</span>
              <code class="sql">        dbms_output.put_line( &apos;  &apos; || l_results(i) );</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="6" data-linenumber="93">
              <span class="hits">6</span>
              <code class="sql">      if a_expectation_result.caller_info is not null then</code></li>

            <li class="covered" data-hits="2" data-linenumber="94">
              <span class="hits">2</span>
              <code class="sql">        dbms_output.put_line( ut_utils.indent_lines( a_expectation_result.caller_info, 2, true) );</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  procedure report_failure(a_message in varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="101">
              <span class="hits">1</span>
              <code class="sql">    add_expectation_result(ut_expectation_result(ut_utils.gc_failure, null, a_message));</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">  function get_session_parameters return tt_nls_params is</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">    l_session_params tt_nls_params;</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="397" data-linenumber="107">
              <span class="hits">397</span>
              <code class="sql">    select nsp.parameter, nsp.value</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">      bulk collect into l_session_params</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">     from nls_session_parameters nsp</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">    where parameter</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">       in ( &apos;NLS_DATE_FORMAT&apos;, &apos;NLS_TIMESTAMP_FORMAT&apos;, &apos;NLS_TIMESTAMP_TZ_FORMAT&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">    order by 1;</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql"></code></li>

            <li class="covered" data-hits="397" data-linenumber="114">
              <span class="hits">397</span>
              <code class="sql">    return l_session_params;</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">  procedure set_xml_nls_params is</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">    insuf_privs exception;</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">    pragma exception_init(insuf_privs, -1031);</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="397" data-linenumber="121">
              <span class="hits">397</span>
              <code class="sql">    g_session_params := get_session_parameters();</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="397" data-linenumber="124">
              <span class="hits">397</span>
              <code class="sql">      execute immediate q&apos;[alter session set events &apos;19119 trace name context forever, level 0x8&apos;]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">    exception</code></li>

            <li class="covered" data-hits="1191" data-linenumber="126">
              <span class="hits">1191</span>
              <code class="sql">      when insuf_privs then NULL;</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql"></code></li>

            <li class="covered" data-hits="397" data-linenumber="129">
              <span class="hits">397</span>
              <code class="sql">    execute immediate &apos;alter session set nls_timestamp_format = &apos;&apos;&apos;||ut_utils.gc_timestamp_format||&apos;&apos;&apos;&apos;;</code></li>

            <li class="covered" data-hits="397" data-linenumber="130">
              <span class="hits">397</span>
              <code class="sql">    execute immediate &apos;alter session set nls_timestamp_tz_format = &apos;&apos;&apos;||ut_utils.gc_timestamp_tz_format||&apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">  procedure reset_nls_params is</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">    insuf_privs exception;</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">    pragma exception_init(insuf_privs, -1031);</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="397" data-linenumber="138">
              <span class="hits">397</span>
              <code class="sql">      execute immediate q&apos;[alter session set events &apos;19119 trace name context off&apos;]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">    exception</code></li>

            <li class="covered" data-hits="1191" data-linenumber="140">
              <span class="hits">1191</span>
              <code class="sql">    when insuf_privs then NULL;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql"></code></li>

            <li class="covered" data-hits="397" data-linenumber="143">
              <span class="hits">397</span>
              <code class="sql">    if g_session_params is not null then</code></li>

            <li class="covered" data-hits="1588" data-linenumber="144">
              <span class="hits">1588</span>
              <code class="sql">      for i in 1 .. g_session_params.count loop</code></li>

            <li class="covered" data-hits="1191" data-linenumber="145">
              <span class="hits">1191</span>
              <code class="sql">        execute immediate &apos;alter session set &apos;||g_session_params(i).parameter||&apos; = &apos;&apos;&apos;||g_session_params(i).value||&apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  function who_called_expectation(a_call_stack varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">    l_caller_stack_line          varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">    l_call_stack                 varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">    l_line_no                    integer;</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">    l_owner                      varchar2(1000);</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">    l_object_name                varchar2(1000);</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">    l_result                     varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">    -- in 12.2 format_call_stack reportes not only package name, but also the procedure name</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">    -- when 11g and 12c reports only package name</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">    function cut_header_and_expectations( a_stack varchar2 ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="450" data-linenumber="162">
              <span class="hits">450</span>
              <code class="sql">      return regexp_substr( a_stack, &apos;(.*\.(UT_EXPECTATION[A-Z0-9#_$]*|UT|UTASSERT2?)(\.[A-Z0-9#_$]+)?\s+)+((.|\s)*)&apos;, 1, 1, &apos;m&apos;, 4);</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">    function cut_address_columns( a_stack varchar2 ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="450" data-linenumber="166">
              <span class="hits">450</span>
              <code class="sql">      return regexp_replace( a_stack, &apos;^(0x)?[0-9a-f]+\s+&apos;, &apos;&apos;, 1, 0, &apos;m&apos; );</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">    function cut_framework_stack( a_stack varchar2 ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="450" data-linenumber="170">
              <span class="hits">450</span>
              <code class="sql">      return regexp_replace(</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">        a_stack,</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">        &apos;[0-9]+\s+anonymous\s+block\s+[0-9]+\s+package\s+body\s+sys\.dbms_sql(\.execute)?\s+[0-9]+\s+[0-9_$#a-z ]+\.ut_executable.*&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">        &apos;&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">        1, 1, &apos;mni&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">    function format_stack( a_stack varchar2 ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="450" data-linenumber="179">
              <span class="hits">450</span>
              <code class="sql">      return regexp_replace(</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">        a_stack,</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">        &apos;([0-9]+)\s+(.* )?((anonymous block)|(([0-9_$#a-z]+\.[0-9_$#a-z]+(\.([0-9_$#a-z])+)?)))&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">        &apos;at &quot;\3&quot;, line \1&apos;, 1, 0, &apos;i&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="450" data-linenumber="186">
              <span class="hits">450</span>
              <code class="sql">    l_call_stack  := cut_header_and_expectations( a_call_stack );</code></li>

            <li class="covered" data-hits="450" data-linenumber="187">
              <span class="hits">450</span>
              <code class="sql">    l_call_stack  := cut_address_columns( l_call_stack );</code></li>

            <li class="covered" data-hits="450" data-linenumber="188">
              <span class="hits">450</span>
              <code class="sql">    l_call_stack := cut_framework_stack( l_call_stack );</code></li>

            <li class="covered" data-hits="450" data-linenumber="189">
              <span class="hits">450</span>
              <code class="sql">    l_call_stack := format_stack( l_call_stack );</code></li>

            <li class="covered" data-hits="450" data-linenumber="190">
              <span class="hits">450</span>
              <code class="sql">    l_caller_stack_line    := regexp_substr(l_call_stack,&apos;^(.*)&apos;);</code></li>

            <li class="covered" data-hits="450" data-linenumber="191">
              <span class="hits">450</span>
              <code class="sql">    if l_caller_stack_line like &apos;%.%&apos; then</code></li>

            <li class="covered" data-hits="195" data-linenumber="192">
              <span class="hits">195</span>
              <code class="sql">      l_line_no          := to_number( regexp_substr( l_caller_stack_line, &apos;, line (\d+)&apos;, subexpression =&gt; 1 ) );</code></li>

            <li class="covered" data-hits="195" data-linenumber="193">
              <span class="hits">195</span>
              <code class="sql">      l_owner            := regexp_substr( l_caller_stack_line, &apos;at &quot;([A-Za-z0-9$#_]+)\.(([A-Za-z0-9$#_]+)(\.([A-Za-z0-9$#_]+))?)&quot;, line (\d+)&apos;, subexpression =&gt; 1 );</code></li>

            <li class="covered" data-hits="195" data-linenumber="194">
              <span class="hits">195</span>
              <code class="sql">      l_object_name      := regexp_substr( l_caller_stack_line, &apos;at &quot;([A-Za-z0-9$#_]+)\.(([A-Za-z0-9$#_]+)(\.([A-Za-z0-9$#_]+))?)&quot;, line (\d+)&apos;, subexpression =&gt; 3 );</code></li>

            <li class="covered" data-hits="195" data-linenumber="195">
              <span class="hits">195</span>
              <code class="sql">      l_result :=</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">        l_caller_stack_line || &apos; &apos; || rtrim(ut_metadata.get_source_definition_line(l_owner, l_object_name, l_line_no),chr(10))</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">        || replace( l_call_stack, l_caller_stack_line );</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="255" data-linenumber="199">
              <span class="hits">255</span>
              <code class="sql">      l_result := l_call_stack;</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="450" data-linenumber="201">
              <span class="hits">450</span>
              <code class="sql">    return rtrim(l_result,chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">  procedure add_warning(a_messsage varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="23" data-linenumber="206">
              <span class="hits">23</span>
              <code class="sql">    g_warnings.extend;</code></li>

            <li class="covered" data-hits="23" data-linenumber="207">
              <span class="hits">23</span>
              <code class="sql">    g_warnings(g_warnings.last) := a_messsage;</code></li>

            <li class="never" data-hits="" data-linenumber="208">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">  procedure add_depreciation_warning(a_deprecated_syntax varchar2, a_new_syntax varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="211">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="17" data-linenumber="212">
              <span class="hits">17</span>
              <code class="sql">    add_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql">      ut_utils.build_depreciation_warning( a_deprecated_syntax, a_new_syntax ) || chr(10)</code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql">      || ut_expectation_processor.who_called_expectation(dbms_utility.format_call_stack())</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">  function get_warnings return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="371" data-linenumber="220">
              <span class="hits">371</span>
              <code class="sql">    return g_warnings;</code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">  function invalidation_exception_found return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="113" data-linenumber="225">
              <span class="hits">113</span>
              <code class="sql">    return g_package_invalidated;</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">  procedure set_invalidation_exception is</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="230">
              <span class="hits">1</span>
              <code class="sql">    g_package_invalidated := true;</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">  procedure reset_invalidation_exception is</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="117" data-linenumber="235">
              <span class="hits">117</span>
              <code class="sql">    g_package_invalidated := false;</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="396D4AEECC5C5BAE8D71A4CA4A99A7A6"><div class="header"> <h3>UT3.UT_FILE_MAPPER</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>27</b> relevant lines. <span class="green"><b>27</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_file_mapper is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  type tt_key_values is table of varchar2(4000) index by varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">   * Private functions</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">   */</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  function to_hash_table(a_key_value_tab ut_key_value_pairs) return tt_key_values is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">    l_result tt_key_values;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="31" data-linenumber="28">
              <span class="hits">31</span>
              <code class="sql">    if a_key_value_tab is not null then</code></li>

            <li class="covered" data-hits="217" data-linenumber="29">
              <span class="hits">217</span>
              <code class="sql">      for i in 1 .. a_key_value_tab.count loop</code></li>

            <li class="covered" data-hits="186" data-linenumber="30">
              <span class="hits">186</span>
              <code class="sql">        l_result(upper(a_key_value_tab(i).key)) := a_key_value_tab(i).value;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="31" data-linenumber="33">
              <span class="hits">31</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  * Public functions</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  function default_file_to_obj_type_map return ut_key_value_pairs is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="31" data-linenumber="41">
              <span class="hits">31</span>
              <code class="sql">    return ut_key_value_pairs(</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">        ut_key_value_pair(&apos;fnc&apos;, &apos;FUNCTION&apos;),</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">        ut_key_value_pair(&apos;prc&apos;, &apos;PROCEDURE&apos;),</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">        ut_key_value_pair(&apos;tpb&apos;, &apos;TYPE BODY&apos;),</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">        ut_key_value_pair(&apos;pkb&apos;, &apos;PACKAGE BODY&apos;),</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">        ut_key_value_pair(&apos;bdy&apos;, &apos;PACKAGE BODY&apos;),</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">        ut_key_value_pair(&apos;trg&apos;, &apos;TRIGGER&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  function build_file_mappings(</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    a_file_paths                  ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">    a_file_to_object_type_mapping ut_key_value_pairs := null,</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    a_regex_pattern               varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">    a_object_owner_subexpression  positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    a_object_name_subexpression   positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">    a_object_type_subexpression   positive := null</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  ) return ut_file_mappings is</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="60">
              <span class="hits">29</span>
              <code class="sql">    return build_file_mappings(</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">      null, a_file_paths, a_file_to_object_type_mapping, a_regex_pattern,</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">      a_object_owner_subexpression, a_object_name_subexpression, a_object_type_subexpression</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  function build_file_mappings(</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">    a_object_owner                varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    a_file_paths                  ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">    a_file_to_object_type_mapping ut_key_value_pairs := null,</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    a_regex_pattern               varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    a_object_owner_subexpression  positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    a_object_name_subexpression   positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">    a_object_type_subexpression   positive := null</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  ) return ut_file_mappings is</code></li>

            <li class="covered" data-hits="31" data-linenumber="75">
              <span class="hits">31</span>
              <code class="sql">    l_file_to_object_type_mapping ut_key_value_pairs := coalesce(a_file_to_object_type_mapping, default_file_to_obj_type_map());</code></li>

            <li class="covered" data-hits="31" data-linenumber="76">
              <span class="hits">31</span>
              <code class="sql">    l_regex_pattern               varchar2(4000) := coalesce(a_regex_pattern, gc_file_mapping_regex);</code></li>

            <li class="covered" data-hits="31" data-linenumber="77">
              <span class="hits">31</span>
              <code class="sql">    l_object_owner_subexpression  positive := coalesce(a_object_owner_subexpression, gc_regex_owner_subexpression);</code></li>

            <li class="covered" data-hits="31" data-linenumber="78">
              <span class="hits">31</span>
              <code class="sql">    l_object_name_subexpression   positive := coalesce(a_object_name_subexpression, gc_regex_name_subexpression);</code></li>

            <li class="covered" data-hits="31" data-linenumber="79">
              <span class="hits">31</span>
              <code class="sql">    l_object_type_subexpression   positive := coalesce(a_object_type_subexpression, gc_regex_type_subexpression);</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">    l_key_values      tt_key_values;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">    l_mappings        ut_file_mappings;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">    l_mapping         ut_file_mapping;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">    l_object_type_key varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">    l_object_type     varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">    l_object_owner    varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">    l_file_path       varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="31" data-linenumber="89">
              <span class="hits">31</span>
              <code class="sql">    if a_file_paths is not null then</code></li>

            <li class="covered" data-hits="31" data-linenumber="90">
              <span class="hits">31</span>
              <code class="sql">      l_key_values := to_hash_table(l_file_to_object_type_mapping);</code></li>

            <li class="covered" data-hits="31" data-linenumber="91">
              <span class="hits">31</span>
              <code class="sql">      l_mappings := ut_file_mappings();</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql"></code></li>

            <li class="covered" data-hits="67" data-linenumber="93">
              <span class="hits">67</span>
              <code class="sql">      for i in 1 .. a_file_paths.count loop</code></li>

            <li class="covered" data-hits="36" data-linenumber="94">
              <span class="hits">36</span>
              <code class="sql">        l_file_path := replace(a_file_paths(i),&apos;\&apos;,&apos;/&apos;);</code></li>

            <li class="covered" data-hits="36" data-linenumber="95">
              <span class="hits">36</span>
              <code class="sql">        l_object_type_key := upper(regexp_substr(l_file_path, l_regex_pattern, 1, 1, &apos;i&apos;, l_object_type_subexpression));</code></li>

            <li class="covered" data-hits="36" data-linenumber="96">
              <span class="hits">36</span>
              <code class="sql">        if l_key_values.exists(l_object_type_key) then</code></li>

            <li class="covered" data-hits="34" data-linenumber="97">
              <span class="hits">34</span>
              <code class="sql">          l_object_type := upper(l_key_values(l_object_type_key));</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="2" data-linenumber="99">
              <span class="hits">2</span>
              <code class="sql">          l_object_type := null;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql"></code></li>

            <li class="covered" data-hits="36" data-linenumber="102">
              <span class="hits">36</span>
              <code class="sql">        l_object_owner := coalesce(</code></li>

            <li class="covered" data-hits="1" data-linenumber="103">
              <span class="hits">1</span>
              <code class="sql">          upper(a_object_owner),</code></li>

            <li class="covered" data-hits="1" data-linenumber="104">
              <span class="hits">1</span>
              <code class="sql">          upper(regexp_substr(l_file_path, l_regex_pattern, 1, 1, &apos;i&apos;, l_object_owner_subexpression)),</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">          sys_context(&apos;USERENV&apos;, &apos;CURRENT_SCHEMA&apos;));</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql"></code></li>

            <li class="covered" data-hits="36" data-linenumber="107">
              <span class="hits">36</span>
              <code class="sql">        l_mapping := ut_file_mapping(</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">          file_name    =&gt; a_file_paths(i),</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">          object_owner =&gt; l_object_owner,</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">          object_name  =&gt; upper(regexp_substr(l_file_path, l_regex_pattern, 1, 1, &apos;i&apos;, l_object_name_subexpression)),</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">          object_type  =&gt; l_object_type</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="36" data-linenumber="113">
              <span class="hits">36</span>
              <code class="sql">        l_mappings.extend();</code></li>

            <li class="covered" data-hits="36" data-linenumber="114">
              <span class="hits">36</span>
              <code class="sql">        l_mappings(l_mappings.last) := l_mapping;</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql"></code></li>

            <li class="covered" data-hits="31" data-linenumber="118">
              <span class="hits">31</span>
              <code class="sql">    return l_mappings;</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="B3F1B1BF132D24722CBCDA2C0E0D7FAD"><div class="header"> <h3>UT3.UT_METADATA</h3><h4><span class="green">91.76 %</span> lines covered</h4><div> <b>85</b> relevant lines. <span class="green"><b>78</b> lines covered</span> and <span class="red"><b>7</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_metadata as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  type t_cache is table of all_source.text%type;</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  g_source_cache t_cache;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  g_cached_object varchar2(500);</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  ------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  --public definitions</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  function form_name(a_owner_name varchar2, a_object varchar2, a_subprogram varchar2 default null) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">    l_name varchar2(200);</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="563" data-linenumber="27">
              <span class="hits">563</span>
              <code class="sql">    l_name := trim(a_object);</code></li>

            <li class="covered" data-hits="563" data-linenumber="28">
              <span class="hits">563</span>
              <code class="sql">    if trim(a_owner_name) is not null then</code></li>

            <li class="covered" data-hits="176" data-linenumber="29">
              <span class="hits">176</span>
              <code class="sql">      l_name := trim(a_owner_name) || &apos;.&apos; || l_name;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="563" data-linenumber="31">
              <span class="hits">563</span>
              <code class="sql">    if trim(a_subprogram) is not null then</code></li>

            <li class="covered" data-hits="561" data-linenumber="32">
              <span class="hits">561</span>
              <code class="sql">      l_name := l_name || &apos;.&apos; || trim(a_subprogram);</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="563" data-linenumber="34">
              <span class="hits">563</span>
              <code class="sql">    return l_name;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end form_name;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  function package_valid(a_owner_name varchar2, a_package_name in varchar2) return boolean as</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_cnt            number;</code></li>

            <li class="covered" data-hits="12" data-linenumber="39">
              <span class="hits">12</span>
              <code class="sql">    l_view_name      varchar2(200) := get_objects_view_name;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql"></code></li>

            <li class="covered" data-hits="12" data-linenumber="42">
              <span class="hits">12</span>
              <code class="sql">    execute immediate q&apos;[select count(*)</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">      from ]&apos;||l_view_name||q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">     where owner = :a_owner_name</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">       and object_name = :a_package_name</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">       and object_type = &apos;PACKAGE&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">       and status = &apos;VALID&apos;]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    into l_cnt using upper(a_owner_name), upper(a_package_name);</code></li>

            <li class="covered" data-hits="12" data-linenumber="49">
              <span class="hits">12</span>
              <code class="sql">    return l_cnt = 1;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  exception</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">    when others then</code></li>

            <li class="missed" data-hits="0" data-linenumber="52">
              <code class="sql">      return false;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  function procedure_exists(a_owner_name varchar2, a_package_name in varchar2, a_procedure_name in varchar2)</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    return boolean as</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">    l_cnt            number;</code></li>

            <li class="covered" data-hits="6" data-linenumber="58">
              <span class="hits">6</span>
              <code class="sql">    l_view_name      varchar2(200) := get_dba_view(&apos;dba_procedures&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="60">
              <span class="hits">6</span>
              <code class="sql">    execute immediate</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">      &apos;select count(*) from &apos;||l_view_name</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">        ||&apos; where owner = :l_schema and object_name = :l_package_name and procedure_name = :l_procedure_name and rownum = 1&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    into l_cnt using a_owner_name, a_package_name, a_procedure_name;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">    --expect one method only for the package with that name.</code></li>

            <li class="covered" data-hits="6" data-linenumber="66">
              <span class="hits">6</span>
              <code class="sql">    return l_cnt = 1;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  exception</code></li>

            <li class="missed" data-hits="0" data-linenumber="68">
              <code class="sql">    when others then</code></li>

            <li class="missed" data-hits="0" data-linenumber="69">
              <code class="sql">      return false;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  function get_source_definition_line(a_owner varchar2, a_object_name varchar2, a_line_no integer) return varchar2 is</code></li>

            <li class="covered" data-hits="195" data-linenumber="73">
              <span class="hits">195</span>
              <code class="sql">    l_view_name varchar2(128) := get_source_view_name();</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">    l_line all_source.text%type;</code></li>

            <li class="covered" data-hits="195" data-linenumber="75">
              <span class="hits">195</span>
              <code class="sql">    c_key  constant varchar2(500) := a_owner || &apos;.&apos; || a_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="195" data-linenumber="77">
              <span class="hits">195</span>
              <code class="sql">    if not nvl(c_key = g_cached_object, false) then</code></li>

            <li class="covered" data-hits="50" data-linenumber="78">
              <span class="hits">50</span>
              <code class="sql">      g_cached_object := c_key;</code></li>

            <li class="covered" data-hits="50" data-linenumber="79">
              <span class="hits">50</span>
              <code class="sql">      execute immediate</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">      &apos;select trim(text) text</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">        from &apos;||l_view_name||q&apos;[ s</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">       where s.owner = :a_owner</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">         and s.name = :a_object_name</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">         /*skip the declarations, consider only definitions*/</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">         and s.type not in (&apos;PACKAGE&apos;, &apos;TYPE&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">       order by line]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">      bulk collect into g_source_cache</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">      using a_owner, a_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql"></code></li>

            <li class="covered" data-hits="195" data-linenumber="91">
              <span class="hits">195</span>
              <code class="sql">    if g_source_cache.exists(a_line_no) then</code></li>

            <li class="covered" data-hits="190" data-linenumber="92">
              <span class="hits">190</span>
              <code class="sql">      l_line := g_source_cache(a_line_no);</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="195" data-linenumber="94">
              <span class="hits">195</span>
              <code class="sql">    return l_line;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  procedure reset_source_definition_cache is</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="99">
              <span class="hits">116</span>
              <code class="sql">    g_source_cache := null;</code></li>

            <li class="covered" data-hits="116" data-linenumber="100">
              <span class="hits">116</span>
              <code class="sql">    g_cached_object := null;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">  function get_dba_view(a_dba_view_name varchar2) return varchar2 is</code></li>

            <li class="covered" data-hits="903" data-linenumber="104">
              <span class="hits">903</span>
              <code class="sql">    l_result              varchar2(128) := lower(a_dba_view_name);</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="903" data-linenumber="106">
              <span class="hits">903</span>
              <code class="sql">    if not is_object_visible(a_dba_view_name) then</code></li>

            <li class="covered" data-hits="761" data-linenumber="107">
              <span class="hits">761</span>
              <code class="sql">      l_result := replace(l_result,&apos;dba_&apos;,&apos;all_&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="903" data-linenumber="109">
              <span class="hits">903</span>
              <code class="sql">     return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">  function get_source_view_name return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="293" data-linenumber="114">
              <span class="hits">293</span>
              <code class="sql">    return get_dba_view(&apos;dba_source&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">  function get_objects_view_name return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="604" data-linenumber="120">
              <span class="hits">604</span>
              <code class="sql">    return get_dba_view(&apos;dba_objects&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">  function user_has_execute_any_proc return boolean is</code></li>

            <li class="covered" data-hits="169" data-linenumber="124">
              <span class="hits">169</span>
              <code class="sql">    l_ut_owner     varchar2(250) := ut_utils.ut_owner;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="169" data-linenumber="126">
              <span class="hits">169</span>
              <code class="sql">    return is_object_visible(l_ut_owner||&apos;.ut_utils&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">  function is_object_visible(a_object_name varchar2) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">    l_invalid_object_name exception;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">    pragma exception_init(l_invalid_object_name,-44002);</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1377" data-linenumber="133">
              <span class="hits">1377</span>
              <code class="sql">    return dbms_assert.sql_object_name(a_object_name) is not null;</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">  exception</code></li>

            <li class="covered" data-hits="1972" data-linenumber="135">
              <span class="hits">1972</span>
              <code class="sql">    when l_invalid_object_name then</code></li>

            <li class="covered" data-hits="986" data-linenumber="136">
              <span class="hits">986</span>
              <code class="sql">      return false;</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">  function package_exists_in_cur_schema(a_object_name varchar2) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">    l_cnt            number;</code></li>

            <li class="covered" data-hits="135" data-linenumber="141">
              <span class="hits">135</span>
              <code class="sql">    c_current_schema constant all_tables.owner%type := sys_context(&apos;USERENV&apos;,&apos;CURRENT_SCHEMA&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="135" data-linenumber="143">
              <span class="hits">135</span>
              <code class="sql">    select count(*)</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">      into l_cnt</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">      from all_objects t</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">     where t.object_name = a_object_name</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">       and t.object_type = &apos;PACKAGE&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">       and t.owner = c_current_schema;</code></li>

            <li class="covered" data-hits="135" data-linenumber="149">
              <span class="hits">135</span>
              <code class="sql">    return l_cnt &gt; 0;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">  function is_collection (a_anytype_code in integer) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1062" data-linenumber="154">
              <span class="hits">1062</span>
              <code class="sql">    return coalesce(a_anytype_code in (dbms_types.typecode_varray,dbms_types.typecode_table,dbms_types.typecode_namedcollection),false);</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">  function is_collection (a_owner varchar2, a_type_name varchar2) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="845" data-linenumber="159">
              <span class="hits">845</span>
              <code class="sql">    return is_collection(</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">      get_anytype_members_info(</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">        get_user_defined_type(a_owner, a_type_name)</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">        ).type_code</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">  function get_attr_elem_info( a_anytype anytype, a_pos pls_integer := null )</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">    return t_anytype_elem_info_rec is</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">    l_result  t_anytype_elem_info_rec;</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="525" data-linenumber="170">
              <span class="hits">525</span>
              <code class="sql">    if a_anytype is not null then</code></li>

            <li class="covered" data-hits="525" data-linenumber="171">
              <span class="hits">525</span>
              <code class="sql">      l_result.type_code := a_anytype.getattreleminfo(</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">        pos           =&gt; a_pos,</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">        prec          =&gt; l_result.precision,</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">        scale         =&gt; l_result.scale,</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">        len           =&gt; l_result.length,</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">        csid          =&gt; l_result.char_set_id,</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">        csfrm         =&gt; l_result.char_set_frm,</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">        attr_elt_type =&gt; l_result.attr_elt_type,</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">        aname         =&gt; l_result.attribute_name</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="525" data-linenumber="182">
              <span class="hits">525</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">  function get_anytype_members_info( a_anytype anytype )</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">    return t_anytype_members_rec is</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">    l_result  t_anytype_members_rec;</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1062" data-linenumber="189">
              <span class="hits">1062</span>
              <code class="sql">    if a_anytype is not null then</code></li>

            <li class="covered" data-hits="336" data-linenumber="190">
              <span class="hits">336</span>
              <code class="sql">      l_result.type_code := a_anytype.getinfo(</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">        prec        =&gt; l_result.precision,</code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">        scale       =&gt; l_result.scale,</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">        len         =&gt; l_result.length,</code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql">        csid        =&gt; l_result.char_set_id,</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">        csfrm       =&gt; l_result.char_set_frm,</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">        schema_name =&gt; l_result.schema_name,</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">        type_name   =&gt; l_result.type_name,</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">        version     =&gt; l_result.version,</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">        numelems    =&gt; l_result.elements_count</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="1062" data-linenumber="202">
              <span class="hits">1062</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql">  function get_user_defined_type(a_owner varchar2, a_type_name varchar2) return anytype is</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">    l_anytype anytype;</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">    not_found exception;</code></li>

            <li class="never" data-hits="" data-linenumber="208">
            <code class="sql">    pragma exception_init(not_found,-22303);</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="964" data-linenumber="210">
              <span class="hits">964</span>
              <code class="sql">    if a_type_name is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="211">
            <code class="sql">      begin</code></li>

            <li class="covered" data-hits="238" data-linenumber="212">
              <span class="hits">238</span>
              <code class="sql">        if ut_metadata.is_object_visible(&apos;GETANYTYPEFROMPERSISTENT&apos;) then</code></li>

            <li class="covered" data-hits="238" data-linenumber="213">
              <span class="hits">238</span>
              <code class="sql">          execute immediate &apos;begin :l_anytype := getanytypefrompersistent( :a_owner, :a_type_name ); end;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql">            using out l_anytype, in nvl(a_owner,sys_context(&apos;userenv&apos;,&apos;current_schema&apos;)), in a_type_name;</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">          else</code></li>

            <li class="missed" data-hits="0" data-linenumber="216">
              <code class="sql">            execute immediate &apos;begin :l_anytype := anytype.getpersistent( :a_owner, :a_type_name ); end;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">              using out l_anytype, in nvl(a_owner,sys_context(&apos;userenv&apos;,&apos;current_schema&apos;)), in a_type_name;</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">      exception</code></li>

            <li class="missed" data-hits="0" data-linenumber="220">
              <code class="sql">        when not_found then</code></li>

            <li class="missed" data-hits="0" data-linenumber="221">
              <code class="sql">          null;</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">      end;</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="964" data-linenumber="224">
              <span class="hits">964</span>
              <code class="sql">    return l_anytype;</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">  function get_collection_element(a_anydata in anydata) return varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">  is</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">    l_anytype anytype;</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">    l_nested_type   t_anytype_members_rec;</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">    l_elements_rec  t_anytype_elem_info_rec;</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql">    l_type_code integer;</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="72" data-linenumber="234">
              <span class="hits">72</span>
              <code class="sql">    l_type_code := a_anydata.gettype(l_anytype);</code></li>

            <li class="covered" data-hits="72" data-linenumber="235">
              <span class="hits">72</span>
              <code class="sql">    if is_collection(l_type_code) then</code></li>

            <li class="covered" data-hits="72" data-linenumber="236">
              <span class="hits">72</span>
              <code class="sql">      l_elements_rec := get_attr_elem_info(l_anytype);</code></li>

            <li class="covered" data-hits="72" data-linenumber="237">
              <span class="hits">72</span>
              <code class="sql">      if l_elements_rec.attr_elt_type is null then</code></li>

            <li class="covered" data-hits="38" data-linenumber="238">
              <span class="hits">38</span>
              <code class="sql">        l_nested_type := get_anytype_members_info(l_anytype);</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="34" data-linenumber="240">
              <span class="hits">34</span>
              <code class="sql">        l_nested_type := get_anytype_members_info(l_elements_rec.attr_elt_type);</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="72" data-linenumber="243">
              <span class="hits">72</span>
              <code class="sql">    return l_nested_type.schema_name || &apos;.&apos; ||l_nested_type.type_name;</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql">  function has_collection_members (a_anydata in anydata) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">    l_anytype anytype;</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">    l_elements_rec  t_anytype_elem_info_rec;</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql">    l_type_code integer;</code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="72" data-linenumber="251">
              <span class="hits">72</span>
              <code class="sql">    l_type_code := a_anydata.gettype(l_anytype);</code></li>

            <li class="covered" data-hits="72" data-linenumber="252">
              <span class="hits">72</span>
              <code class="sql">    l_elements_rec := get_attr_elem_info(l_anytype);</code></li>

            <li class="covered" data-hits="72" data-linenumber="253">
              <span class="hits">72</span>
              <code class="sql">    return l_elements_rec.attr_elt_type is not null;</code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">  function get_anydata_typename(a_data_value anydata) return varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">  is</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="335" data-linenumber="259">
              <span class="hits">335</span>
              <code class="sql">    return case when a_data_value is not null then lower(a_data_value.gettypename()) else &apos;undefined&apos; end;</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="262">
            <code class="sql">  function is_anytype_null(a_value in anydata, a_compound_type in varchar2) return number is</code></li>

            <li class="covered" data-hits="173" data-linenumber="263">
              <span class="hits">173</span>
              <code class="sql">    l_result integer := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">    l_anydata_sql varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">    l_compound_type varchar2(250);</code></li>

            <li class="never" data-hits="" data-linenumber="266">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="267">
              <span class="hits">173</span>
              <code class="sql">    if a_value is not null then</code></li>

            <li class="covered" data-hits="162" data-linenumber="268">
              <span class="hits">162</span>
              <code class="sql">      l_compound_type := sys.dbms_assert.qualified_sql_name(a_compound_type);</code></li>

            <li class="covered" data-hits="162" data-linenumber="269">
              <span class="hits">162</span>
              <code class="sql">      l_anydata_sql := &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="270">
            <code class="sql">        declare</code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">          l_data &apos;||get_anydata_typename(a_value)||&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">          l_value anydata := :a_value;</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql">          l_status integer;</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql">        begin</code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql">          l_status := l_value.get&apos;||l_compound_type||&apos;(l_data);</code></li>

            <li class="never" data-hits="" data-linenumber="276">
            <code class="sql">          :l_data_is_null := case when l_data is null then 1 else 0 end;</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">        end;&apos;;</code></li>

            <li class="covered" data-hits="162" data-linenumber="278">
              <span class="hits">162</span>
              <code class="sql">        execute immediate l_anydata_sql using in a_value, out l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="279">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="11" data-linenumber="280">
              <span class="hits">11</span>
              <code class="sql">      l_result := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="173" data-linenumber="282">
              <span class="hits">173</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="283">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="285">
            <code class="sql">  function get_object_name(a_full_object_name in varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="286">
            <code class="sql">    l_result varchar2(250);</code></li>

            <li class="never" data-hits="" data-linenumber="287">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="127" data-linenumber="288">
              <span class="hits">127</span>
              <code class="sql">    l_result := regexp_substr(</code></li>

            <li class="never" data-hits="" data-linenumber="289">
            <code class="sql">      a_full_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">      &apos;^([A-Za-z0-9$#_]+|&quot;.*?&quot;)\.([A-Za-z0-9$#_]+|&quot;.*?&quot;)&apos;, subexpression =&gt; 2</code></li>

            <li class="never" data-hits="" data-linenumber="291">
            <code class="sql">      );</code></li>

            <li class="covered" data-hits="127" data-linenumber="292">
              <span class="hits">127</span>
              <code class="sql">    if not l_result like &apos;&quot;%&quot;&apos; then</code></li>

            <li class="covered" data-hits="127" data-linenumber="293">
              <span class="hits">127</span>
              <code class="sql">      l_result := upper(l_result);</code></li>

            <li class="never" data-hits="" data-linenumber="294">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="127" data-linenumber="295">
              <span class="hits">127</span>
              <code class="sql">    return ut_utils.qualified_sql_name(l_result);</code></li>

            <li class="never" data-hits="" data-linenumber="296">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="297">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="298">
            <code class="sql">  function get_anydata_compound_type(a_data_value anydata) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="299">
            <code class="sql">    l_result    varchar2(30);</code></li>

            <li class="never" data-hits="" data-linenumber="300">
            <code class="sql">    l_type      anytype;</code></li>

            <li class="never" data-hits="" data-linenumber="301">
            <code class="sql">    l_type_code integer;</code></li>

            <li class="never" data-hits="" data-linenumber="302">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="303">
              <span class="hits">173</span>
              <code class="sql">    if a_data_value is not null then</code></li>

            <li class="covered" data-hits="162" data-linenumber="304">
              <span class="hits">162</span>
              <code class="sql">      l_type_code := a_data_value.gettype(l_type);</code></li>

            <li class="covered" data-hits="162" data-linenumber="305">
              <span class="hits">162</span>
              <code class="sql">      if l_type_code in (dbms_types.typecode_table, dbms_types.typecode_varray, dbms_types.typecode_namedcollection,</code></li>

            <li class="covered" data-hits="1" data-linenumber="306">
              <span class="hits">1</span>
              <code class="sql">        dbms_types.typecode_object) then</code></li>

            <li class="covered" data-hits="162" data-linenumber="307">
              <span class="hits">162</span>
              <code class="sql">        if l_type_code = dbms_types.typecode_object then</code></li>

            <li class="covered" data-hits="67" data-linenumber="308">
              <span class="hits">67</span>
              <code class="sql">          l_result := &apos;object&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="309">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="95" data-linenumber="310">
              <span class="hits">95</span>
              <code class="sql">          l_result := &apos;collection&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="311">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="312">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="313">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="173" data-linenumber="314">
              <span class="hits">173</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="315">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="317">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="127F439994C3AEE04B755C0419B72D79"><div class="header"> <h3>UT3.UT_SUITE_BUILDER</h3><h4><span class="green">98.76 %</span> lines covered</h4><div> <b>322</b> relevant lines. <span class="green"><b>318</b> lines covered</span> and <span class="red"><b>4</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_suite_builder is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  subtype t_annotation_text     is varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  subtype t_annotation_name     is varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  subtype t_object_name         is varchar2(500);</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  subtype t_annotation_position is binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="24">
              <span class="hits">1</span>
              <code class="sql">  gc_suite                       constant t_annotation_name := &apos;suite&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="25">
              <span class="hits">1</span>
              <code class="sql">  gc_suitepath                   constant t_annotation_name := &apos;suitepath&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="26">
              <span class="hits">1</span>
              <code class="sql">  gc_tags                        constant t_annotation_name := &apos;tags&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="27">
              <span class="hits">1</span>
              <code class="sql">  gc_test                        constant t_annotation_name := ut_utils.gc_test_execute;</code></li>

            <li class="covered" data-hits="1" data-linenumber="28">
              <span class="hits">1</span>
              <code class="sql">  gc_disabled                    constant t_annotation_name := &apos;disabled&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="29">
              <span class="hits">1</span>
              <code class="sql">  gc_displayname                 constant t_annotation_name := &apos;displayname&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="30">
              <span class="hits">1</span>
              <code class="sql">  gc_beforeall                   constant t_annotation_name := ut_utils.gc_before_all;</code></li>

            <li class="covered" data-hits="1" data-linenumber="31">
              <span class="hits">1</span>
              <code class="sql">  gc_beforeeach                  constant t_annotation_name := ut_utils.gc_before_each;</code></li>

            <li class="covered" data-hits="1" data-linenumber="32">
              <span class="hits">1</span>
              <code class="sql">  gc_beforetest                  constant t_annotation_name := ut_utils.gc_before_test;</code></li>

            <li class="covered" data-hits="1" data-linenumber="33">
              <span class="hits">1</span>
              <code class="sql">  gc_afterall                    constant t_annotation_name := ut_utils.gc_after_all;</code></li>

            <li class="covered" data-hits="1" data-linenumber="34">
              <span class="hits">1</span>
              <code class="sql">  gc_aftereach                   constant t_annotation_name := ut_utils.gc_after_each;</code></li>

            <li class="covered" data-hits="1" data-linenumber="35">
              <span class="hits">1</span>
              <code class="sql">  gc_aftertest                   constant t_annotation_name := ut_utils.gc_after_test;</code></li>

            <li class="covered" data-hits="1" data-linenumber="36">
              <span class="hits">1</span>
              <code class="sql">  gc_throws                      constant t_annotation_name := &apos;throws&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="37">
              <span class="hits">1</span>
              <code class="sql">  gc_rollback                    constant t_annotation_name := &apos;rollback&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="38">
              <span class="hits">1</span>
              <code class="sql">  gc_context                     constant t_annotation_name := &apos;context&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="39">
              <span class="hits">1</span>
              <code class="sql">  gc_endcontext                  constant t_annotation_name := &apos;endcontext&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  type tt_annotations is table of t_annotation_name;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="43">
              <span class="hits">1</span>
              <code class="sql">  gc_supported_annotations       constant tt_annotations</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    := tt_annotations(</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">      gc_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">      gc_suitepath,</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">      gc_tags,</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">      gc_test,</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      gc_disabled,</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">      gc_displayname,</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">      gc_beforeall,</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">      gc_beforeeach,</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">      gc_beforetest,</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      gc_afterall,</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">      gc_aftereach,</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">      gc_aftertest,</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">      gc_throws,</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">      gc_rollback,</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">      gc_context,</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">      gc_endcontext</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  );</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="63">
              <span class="hits">1</span>
              <code class="sql">  gc_integer_exception           constant varchar2(1) := &apos;I&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="64">
              <span class="hits">1</span>
              <code class="sql">  gc_named_exception             constant varchar2(1) := &apos;N&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  type tt_executables is table of ut_executables index by t_annotation_position;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  type t_annotation is record(</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">    name                  t_annotation_name,</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    text                  t_annotation_text,</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    procedure_name        t_object_name</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  );</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  type tt_annotations_by_line is table of t_annotation index by t_annotation_position;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  --list of annotation texts for a given annotation indexed by annotation position:</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  --This would hold: (&apos;some&apos;, &apos;other&apos;) for a single annotation name recurring in a single procedure example</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  --  --%beforetest(some)</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  --  --%beforetest(other)</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  --  --%test(some test with two before test procedures)</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  --  procedure some_test ...</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">  -- when you&apos;d like to have two beforetest procedures executed in a single test</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  type tt_annotation_texts is table of t_annotation_text index by t_annotation_position;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">  type tt_annotations_by_name is table of tt_annotation_texts index by t_annotation_name;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  type tt_annotations_by_proc is table of tt_annotations_by_name index by t_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  type t_annotations_info is record (</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">    owner       t_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">    name        t_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">    parse_time  timestamp,</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">    by_line     tt_annotations_by_line,</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">    by_proc     tt_annotations_by_proc,</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">    by_name     tt_annotations_by_name</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">  );</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  function get_qualified_object_name(</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">    a_suite ut_suite_item, a_procedure_name t_object_name</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">    l_result varchar2(1000);</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="54" data-linenumber="103">
              <span class="hits">54</span>
              <code class="sql">    if a_suite is not null then</code></li>

            <li class="covered" data-hits="54" data-linenumber="104">
              <span class="hits">54</span>
              <code class="sql">      l_result := upper( a_suite.object_owner || &apos;.&apos; || a_suite.object_name );</code></li>

            <li class="covered" data-hits="54" data-linenumber="105">
              <span class="hits">54</span>
              <code class="sql">      if a_procedure_name is not null then</code></li>

            <li class="covered" data-hits="32" data-linenumber="106">
              <span class="hits">32</span>
              <code class="sql">        l_result := l_result || upper( &apos;.&apos; || a_procedure_name );</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="54" data-linenumber="109">
              <span class="hits">54</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">  function get_object_reference(</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">    a_suite ut_suite_item, a_procedure_name t_object_name, a_line_no binary_integer</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">  ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="54" data-linenumber="116">
              <span class="hits">54</span>
              <code class="sql">    return chr( 10 ) || &apos;at package &quot;&apos; || get_qualified_object_name(a_suite, a_procedure_name) || &apos;&quot;, line &apos; || a_line_no;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  procedure delete_annotations_range(</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">    a_annotations in out nocopy t_annotations_info,</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">    a_start_pos   t_annotation_position,</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">    a_end_pos     t_annotation_position</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">  ) is</code></li>

            <li class="covered" data-hits="177" data-linenumber="124">
              <span class="hits">177</span>
              <code class="sql">    l_pos         t_annotation_position := a_start_pos;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">    l_annotation  t_annotation;</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2037" data-linenumber="127">
              <span class="hits">2037</span>
              <code class="sql">    while l_pos is not null and l_pos &lt;= a_end_pos loop</code></li>

            <li class="covered" data-hits="1860" data-linenumber="128">
              <span class="hits">1860</span>
              <code class="sql">      l_annotation := a_annotations.by_line(l_pos);</code></li>

            <li class="covered" data-hits="1860" data-linenumber="129">
              <span class="hits">1860</span>
              <code class="sql">      if l_annotation.procedure_name is not null and a_annotations.by_proc.exists(l_annotation.procedure_name) then</code></li>

            <li class="covered" data-hits="1163" data-linenumber="130">
              <span class="hits">1163</span>
              <code class="sql">        a_annotations.by_proc.delete(l_annotation.procedure_name);</code></li>

            <li class="covered" data-hits="697" data-linenumber="131">
              <span class="hits">697</span>
              <code class="sql">      elsif a_annotations.by_name.exists(l_annotation.name) then</code></li>

            <li class="covered" data-hits="530" data-linenumber="132">
              <span class="hits">530</span>
              <code class="sql">        a_annotations.by_name(l_annotation.name).delete(l_pos);</code></li>

            <li class="covered" data-hits="530" data-linenumber="133">
              <span class="hits">530</span>
              <code class="sql">        if a_annotations.by_name(l_annotation.name).count = 0 then</code></li>

            <li class="covered" data-hits="169" data-linenumber="134">
              <span class="hits">169</span>
              <code class="sql">          a_annotations.by_name.delete(l_annotation.name);</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="1860" data-linenumber="137">
              <span class="hits">1860</span>
              <code class="sql">      l_pos := a_annotations.by_line.next( l_pos );</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="177" data-linenumber="139">
              <span class="hits">177</span>
              <code class="sql">    a_annotations.by_line.delete(a_start_pos, a_end_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">  procedure add_items_to_list(a_list in out nocopy ut_suite_items, a_items ut_suite_items) is</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1286" data-linenumber="145">
              <span class="hits">1286</span>
              <code class="sql">    for i in 1 .. a_items.count loop</code></li>

            <li class="covered" data-hits="1110" data-linenumber="146">
              <span class="hits">1110</span>
              <code class="sql">      a_list.extend();</code></li>

            <li class="covered" data-hits="1110" data-linenumber="147">
              <span class="hits">1110</span>
              <code class="sql">      a_list(a_list.last) := a_items(i);</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  -----------------------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">  -- Processing annotations</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">  -----------------------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">  procedure add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">    a_suite          in out nocopy ut_suite_item,</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">    a_annotation     t_annotation_name,</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">    a_message        varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">    a_line_no        binary_integer,</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">    a_procedure_name t_object_name := null</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="30" data-linenumber="163">
              <span class="hits">30</span>
              <code class="sql">    a_suite.put_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">        replace(a_message,&apos;%%%&apos;,&apos;&quot;--%&apos;||a_annotation||&apos;&quot;&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">          || &apos; Annotation ignored.&apos; || get_object_reference( a_suite, a_procedure_name, a_line_no )</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">  function get_rollback_type(a_rollback_type_name varchar2) return ut_utils.t_rollback_type is</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">    l_rollback_type ut_utils.t_rollback_type;</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="22" data-linenumber="172">
              <span class="hits">22</span>
              <code class="sql">    l_rollback_type :=</code></li>

            <li class="covered" data-hits="1" data-linenumber="173">
              <span class="hits">1</span>
              <code class="sql">      case lower(a_rollback_type_name)</code></li>

            <li class="covered" data-hits="1" data-linenumber="174">
              <span class="hits">1</span>
              <code class="sql">        when &apos;manual&apos; then ut_utils.gc_rollback_manual</code></li>

            <li class="covered" data-hits="1" data-linenumber="175">
              <span class="hits">1</span>
              <code class="sql">        when &apos;auto&apos; then ut_utils.gc_rollback_auto</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">      end;</code></li>

            <li class="covered" data-hits="22" data-linenumber="177">
              <span class="hits">22</span>
              <code class="sql">     return l_rollback_type;</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">  procedure add_to_throws_numbers_list(</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">    a_suite           in out nocopy ut_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">    a_list            in out nocopy ut_integer_list,</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">    a_procedure_name  t_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">    a_throws_ann_text tt_annotation_texts</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">    l_annotation_pos binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">    function is_valid_qualified_name (a_name varchar2) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">      l_name varchar2(500);</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="51" data-linenumber="191">
              <span class="hits">51</span>
              <code class="sql">      l_name := dbms_assert.qualified_sql_name(a_name);</code></li>

            <li class="covered" data-hits="19" data-linenumber="192">
              <span class="hits">19</span>
              <code class="sql">      return true;</code></li>

            <li class="covered" data-hits="64" data-linenumber="193">
              <span class="hits">64</span>
              <code class="sql">      exception when others then</code></li>

            <li class="covered" data-hits="32" data-linenumber="194">
              <span class="hits">32</span>
              <code class="sql">      return false;</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">    function check_exception_type(a_exception_name in varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">      l_exception_type varchar2(50);</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">      --check if it is a predefined exception</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">      begin</code></li>

            <li class="covered" data-hits="19" data-linenumber="202">
              <span class="hits">19</span>
              <code class="sql">        execute immediate &apos;begin null; exception when &apos;||a_exception_name||&apos; then null; end;&apos;;</code></li>

            <li class="covered" data-hits="3" data-linenumber="203">
              <span class="hits">3</span>
              <code class="sql">        l_exception_type := gc_named_exception;</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">        exception</code></li>

            <li class="covered" data-hits="32" data-linenumber="205">
              <span class="hits">32</span>
              <code class="sql">        when others then</code></li>

            <li class="covered" data-hits="16" data-linenumber="206">
              <span class="hits">16</span>
              <code class="sql">        if dbms_utility.format_error_stack() like &apos;%PLS-00485%&apos; then</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">          begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="208">
              <span class="hits">7</span>
              <code class="sql">            execute immediate &apos;declare x positiven := -(&apos;||a_exception_name||&apos;); begin null; end;&apos;;</code></li>

            <li class="covered" data-hits="7" data-linenumber="209">
              <span class="hits">7</span>
              <code class="sql">            l_exception_type := gc_integer_exception;</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">            exception</code></li>

            <li class="missed" data-hits="0" data-linenumber="211">
              <code class="sql">            when others then</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">            --invalid exception number (positive)</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql">            --TODO add warning for this value</code></li>

            <li class="missed" data-hits="0" data-linenumber="214">
              <code class="sql">            null;</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">          end;</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">      end;</code></li>

            <li class="covered" data-hits="19" data-linenumber="218">
              <span class="hits">19</span>
              <code class="sql">      return l_exception_type;</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">    function get_exception_number (a_exception_var in varchar2) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">      l_exc_no   integer;</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">      l_exc_type varchar2(50);</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">      function remap_no_data_found (a_number integer) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">      begin</code></li>

            <li class="covered" data-hits="19" data-linenumber="226">
              <span class="hits">19</span>
              <code class="sql">        return case a_number when 100 then -1403 else a_number end;</code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">      end;</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="19" data-linenumber="229">
              <span class="hits">19</span>
              <code class="sql">      l_exc_type := check_exception_type(a_exception_var);</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql"></code></li>

            <li class="covered" data-hits="19" data-linenumber="231">
              <span class="hits">19</span>
              <code class="sql">      if l_exc_type is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="233">
              <span class="hits">10</span>
              <code class="sql">        execute immediate</code></li>

            <li class="covered" data-hits="1" data-linenumber="234">
              <span class="hits">1</span>
              <code class="sql">        case l_exc_type</code></li>

            <li class="covered" data-hits="1" data-linenumber="235">
              <span class="hits">1</span>
              <code class="sql">        when gc_integer_exception then</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">          &apos;declare</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">            l_exception number;</code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">          begin</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">            :l_exception := &apos;||a_exception_var||&apos;; &apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="240">
              <span class="hits">1</span>
              <code class="sql">        when gc_named_exception then</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql">          &apos;begin</code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql">            raise &apos;||a_exception_var||&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">          exception</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql">            when others then</code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql">              :l_exception := sqlcode; &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql">        end ||</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">        &apos;end;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">        using out l_exc_no;</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="19" data-linenumber="251">
              <span class="hits">19</span>
              <code class="sql">      return remap_no_data_found(l_exc_no);</code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">    function build_exception_numbers_list(</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql">      a_suite           in out nocopy ut_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">      a_procedure_name  t_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">      a_line_no         integer,</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">      a_annotation_text in varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="259">
            <code class="sql">    ) return ut_integer_list is</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">      l_throws_list             ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql">      l_exception_number        integer;</code></li>

            <li class="covered" data-hits="29" data-linenumber="262">
              <span class="hits">29</span>
              <code class="sql">      l_exception_number_list   ut_integer_list := ut_integer_list();</code></li>

            <li class="covered" data-hits="29" data-linenumber="263">
              <span class="hits">29</span>
              <code class="sql">      c_regexp_for_exception_no constant varchar2(30) := &apos;^-?[[:digit:]]{1,5}$&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">      --the a_expected_error_codes is converted to a ut_varchar2_list after that is trimmed and filtered to left only valid exception numbers</code></li>

            <li class="covered" data-hits="29" data-linenumber="266">
              <span class="hits">29</span>
              <code class="sql">      l_throws_list := ut_utils.trim_list_elements(ut_utils.string_to_table(a_annotation_text, &apos;,&apos;, &apos;Y&apos;));</code></li>

            <li class="never" data-hits="" data-linenumber="267">
            <code class="sql"></code></li>

            <li class="covered" data-hits="80" data-linenumber="268">
              <span class="hits">80</span>
              <code class="sql">      for i in 1 .. l_throws_list.count</code></li>

            <li class="never" data-hits="" data-linenumber="269">
            <code class="sql">      loop</code></li>

            <li class="never" data-hits="" data-linenumber="270">
            <code class="sql">        /**</code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">        * Check if its a valid qualified name and if so try to resolve name to an exception number</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">        */</code></li>

            <li class="covered" data-hits="51" data-linenumber="273">
              <span class="hits">51</span>
              <code class="sql">        if is_valid_qualified_name(l_throws_list(i)) then</code></li>

            <li class="covered" data-hits="19" data-linenumber="274">
              <span class="hits">19</span>
              <code class="sql">          l_exception_number := get_exception_number(l_throws_list(i));</code></li>

            <li class="covered" data-hits="32" data-linenumber="275">
              <span class="hits">32</span>
              <code class="sql">        elsif regexp_like(l_throws_list(i), c_regexp_for_exception_no) then</code></li>

            <li class="covered" data-hits="24" data-linenumber="276">
              <span class="hits">24</span>
              <code class="sql">          l_exception_number := l_throws_list(i);</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="278">
            <code class="sql"></code></li>

            <li class="covered" data-hits="51" data-linenumber="279">
              <span class="hits">51</span>
              <code class="sql">        if l_exception_number is null then</code></li>

            <li class="covered" data-hits="17" data-linenumber="280">
              <span class="hits">17</span>
              <code class="sql">          a_suite.put_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql">              &apos;Invalid parameter value &quot;&apos;||l_throws_list(i)</code></li>

            <li class="never" data-hits="" data-linenumber="282">
            <code class="sql">                ||&apos;&quot; for &quot;--%throws&quot; annotation. Parameter ignored.&apos;||get_object_reference( a_suite, a_procedure_name, a_line_no )</code></li>

            <li class="never" data-hits="" data-linenumber="283">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="34" data-linenumber="285">
              <span class="hits">34</span>
              <code class="sql">          l_exception_number_list.extend;</code></li>

            <li class="covered" data-hits="34" data-linenumber="286">
              <span class="hits">34</span>
              <code class="sql">          l_exception_number_list(l_exception_number_list.last) := l_exception_number;</code></li>

            <li class="never" data-hits="" data-linenumber="287">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="51" data-linenumber="288">
              <span class="hits">51</span>
              <code class="sql">        l_exception_number := null;</code></li>

            <li class="never" data-hits="" data-linenumber="289">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql"></code></li>

            <li class="covered" data-hits="29" data-linenumber="291">
              <span class="hits">29</span>
              <code class="sql">      return l_exception_number_list;</code></li>

            <li class="never" data-hits="" data-linenumber="292">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="293">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="294">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="33" data-linenumber="295">
              <span class="hits">33</span>
              <code class="sql">    a_list := ut_integer_list();</code></li>

            <li class="covered" data-hits="33" data-linenumber="296">
              <span class="hits">33</span>
              <code class="sql">    l_annotation_pos := a_throws_ann_text.first;</code></li>

            <li class="covered" data-hits="66" data-linenumber="297">
              <span class="hits">66</span>
              <code class="sql">    while l_annotation_pos is not null loop</code></li>

            <li class="covered" data-hits="33" data-linenumber="298">
              <span class="hits">33</span>
              <code class="sql">      if a_throws_ann_text(l_annotation_pos) is null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="299">
              <span class="hits">4</span>
              <code class="sql">        a_suite.put_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="300">
            <code class="sql">            &apos;&quot;--%throws&quot; annotation requires a parameter. Annotation ignored.&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="301">
            <code class="sql">              || get_object_reference( a_suite, a_procedure_name, l_annotation_pos )</code></li>

            <li class="never" data-hits="" data-linenumber="302">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="303">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="29" data-linenumber="304">
              <span class="hits">29</span>
              <code class="sql">        a_list :=</code></li>

            <li class="never" data-hits="" data-linenumber="305">
            <code class="sql">          a_list multiset union</code></li>

            <li class="never" data-hits="" data-linenumber="306">
            <code class="sql">          build_exception_numbers_list(</code></li>

            <li class="never" data-hits="" data-linenumber="307">
            <code class="sql">            a_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="308">
            <code class="sql">            a_procedure_name,</code></li>

            <li class="never" data-hits="" data-linenumber="309">
            <code class="sql">            l_annotation_pos,</code></li>

            <li class="never" data-hits="" data-linenumber="310">
            <code class="sql">            a_throws_ann_text(l_annotation_pos)</code></li>

            <li class="never" data-hits="" data-linenumber="311">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="312">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="33" data-linenumber="313">
              <span class="hits">33</span>
              <code class="sql">      l_annotation_pos := a_throws_ann_text.next(l_annotation_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="314">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="315">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="317">
            <code class="sql">  procedure add_tags_to_suite_item(</code></li>

            <li class="never" data-hits="" data-linenumber="318">
            <code class="sql">    a_suite           in out nocopy ut_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">    a_tags_ann_text   tt_annotation_texts,</code></li>

            <li class="never" data-hits="" data-linenumber="320">
            <code class="sql">    a_list            in out nocopy ut_varchar2_rows,</code></li>

            <li class="never" data-hits="" data-linenumber="321">
            <code class="sql">    a_procedure_name  t_object_name := null</code></li>

            <li class="never" data-hits="" data-linenumber="322">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="323">
            <code class="sql">    l_annotation_pos binary_integer;</code></li>

            <li class="covered" data-hits="55" data-linenumber="324">
              <span class="hits">55</span>
              <code class="sql">    l_tag_list ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="325">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="55" data-linenumber="326">
              <span class="hits">55</span>
              <code class="sql">    l_annotation_pos := a_tags_ann_text.first;</code></li>

            <li class="covered" data-hits="114" data-linenumber="327">
              <span class="hits">114</span>
              <code class="sql">    while l_annotation_pos is not null loop</code></li>

            <li class="covered" data-hits="59" data-linenumber="328">
              <span class="hits">59</span>
              <code class="sql">      if a_tags_ann_text(l_annotation_pos) is null then</code></li>

            <li class="covered" data-hits="3" data-linenumber="329">
              <span class="hits">3</span>
              <code class="sql">        a_suite.put_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="330">
            <code class="sql">            &apos;&quot;--%tags&quot; annotation requires a tag value populated. Annotation ignored.&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="331">
            <code class="sql">            || get_object_reference( a_suite, a_procedure_name, l_annotation_pos )</code></li>

            <li class="never" data-hits="" data-linenumber="332">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="333">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="56" data-linenumber="334">
              <span class="hits">56</span>
              <code class="sql">        l_tag_list := l_tag_list multiset union distinct ut_utils.trim_list_elements(</code></li>

            <li class="never" data-hits="" data-linenumber="335">
            <code class="sql">          ut_utils.string_to_table(a_tags_ann_text(l_annotation_pos),&apos;,&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="336">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="337">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="59" data-linenumber="338">
              <span class="hits">59</span>
              <code class="sql">      l_annotation_pos := a_tags_ann_text.next(l_annotation_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="339">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="340">
            <code class="sql">    --remove empty strings from table list e.g. tag1,,tag2 and conver to rows</code></li>

            <li class="covered" data-hits="55" data-linenumber="341">
              <span class="hits">55</span>
              <code class="sql">    a_list := ut_utils.convert_collection( ut_utils.filter_list(l_tag_list,ut_utils.gc_word_no_space) );</code></li>

            <li class="never" data-hits="" data-linenumber="342">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="343">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="344">
            <code class="sql">  procedure set_seq_no(</code></li>

            <li class="never" data-hits="" data-linenumber="345">
            <code class="sql">    a_list in out nocopy ut_executables</code></li>

            <li class="never" data-hits="" data-linenumber="346">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="347">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8368" data-linenumber="348">
              <span class="hits">8368</span>
              <code class="sql">    if a_list is not null then</code></li>

            <li class="covered" data-hits="10116" data-linenumber="349">
              <span class="hits">10116</span>
              <code class="sql">      for i in 1 .. a_list.count loop</code></li>

            <li class="covered" data-hits="1748" data-linenumber="350">
              <span class="hits">1748</span>
              <code class="sql">        a_list(i).seq_no := i;</code></li>

            <li class="never" data-hits="" data-linenumber="351">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="352">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="353">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="354">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="355">
            <code class="sql">  function convert_list(</code></li>

            <li class="never" data-hits="" data-linenumber="356">
            <code class="sql">    a_list tt_executables</code></li>

            <li class="never" data-hits="" data-linenumber="357">
            <code class="sql">  ) return ut_executables is</code></li>

            <li class="covered" data-hits="8368" data-linenumber="358">
              <span class="hits">8368</span>
              <code class="sql">    l_result ut_executables := ut_executables();</code></li>

            <li class="covered" data-hits="8368" data-linenumber="359">
              <span class="hits">8368</span>
              <code class="sql">    l_pos   t_annotation_position := a_list.first;</code></li>

            <li class="never" data-hits="" data-linenumber="360">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10004" data-linenumber="361">
              <span class="hits">10004</span>
              <code class="sql">    while l_pos is not null loop</code></li>

            <li class="covered" data-hits="3308" data-linenumber="362">
              <span class="hits">3308</span>
              <code class="sql">      for i in 1 .. a_list(l_pos).count loop</code></li>

            <li class="covered" data-hits="1672" data-linenumber="363">
              <span class="hits">1672</span>
              <code class="sql">        l_result.extend;</code></li>

            <li class="covered" data-hits="1672" data-linenumber="364">
              <span class="hits">1672</span>
              <code class="sql">        l_result(l_result.last) := a_list(l_pos)(i);</code></li>

            <li class="never" data-hits="" data-linenumber="365">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="1636" data-linenumber="366">
              <span class="hits">1636</span>
              <code class="sql">      l_pos := a_list.next(l_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="367">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="8368" data-linenumber="368">
              <span class="hits">8368</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="369">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="370">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="371">
            <code class="sql">  function add_executables(</code></li>

            <li class="never" data-hits="" data-linenumber="372">
            <code class="sql">    a_owner            t_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="373">
            <code class="sql">    a_package_name     t_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="374">
            <code class="sql">    a_annotation_texts tt_annotation_texts,</code></li>

            <li class="never" data-hits="" data-linenumber="375">
            <code class="sql">    a_event_name       ut_event_manager.t_event_name</code></li>

            <li class="never" data-hits="" data-linenumber="376">
            <code class="sql">  ) return tt_executables is</code></li>

            <li class="never" data-hits="" data-linenumber="377">
            <code class="sql">    l_executables     ut_executables;</code></li>

            <li class="never" data-hits="" data-linenumber="378">
            <code class="sql">    l_result          tt_executables;</code></li>

            <li class="never" data-hits="" data-linenumber="379">
            <code class="sql">    l_annotation_pos  binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="380">
            <code class="sql">    l_procedures_list ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="381">
            <code class="sql">    l_procedures_pos  binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="382">
            <code class="sql">    l_components_list ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="383">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="543" data-linenumber="384">
              <span class="hits">543</span>
              <code class="sql">    l_annotation_pos := a_annotation_texts.first;</code></li>

            <li class="covered" data-hits="1103" data-linenumber="385">
              <span class="hits">1103</span>
              <code class="sql">    while l_annotation_pos is not null loop</code></li>

            <li class="covered" data-hits="560" data-linenumber="386">
              <span class="hits">560</span>
              <code class="sql">      l_procedures_list :=</code></li>

            <li class="never" data-hits="" data-linenumber="387">
            <code class="sql">        ut_utils.filter_list(</code></li>

            <li class="never" data-hits="" data-linenumber="388">
            <code class="sql">          ut_utils.trim_list_elements(</code></li>

            <li class="never" data-hits="" data-linenumber="389">
            <code class="sql">            ut_utils.string_to_table(a_annotation_texts(l_annotation_pos), &apos;,&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="390">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="391">
            <code class="sql">          , &apos;[[:alpha:]]+&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="392">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="393">
            <code class="sql"></code></li>

            <li class="covered" data-hits="560" data-linenumber="394">
              <span class="hits">560</span>
              <code class="sql">      l_procedures_pos := l_procedures_list.first;</code></li>

            <li class="covered" data-hits="560" data-linenumber="395">
              <span class="hits">560</span>
              <code class="sql">      l_executables := ut_executables();</code></li>

            <li class="covered" data-hits="1144" data-linenumber="396">
              <span class="hits">1144</span>
              <code class="sql">      while l_procedures_pos is not null loop</code></li>

            <li class="covered" data-hits="584" data-linenumber="397">
              <span class="hits">584</span>
              <code class="sql">        l_components_list := ut_utils.string_to_table(l_procedures_list(l_procedures_pos), &apos;.&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="398">
            <code class="sql"></code></li>

            <li class="covered" data-hits="584" data-linenumber="399">
              <span class="hits">584</span>
              <code class="sql">        l_executables.extend;</code></li>

            <li class="covered" data-hits="584" data-linenumber="400">
              <span class="hits">584</span>
              <code class="sql">        l_executables(l_executables.last) :=</code></li>

            <li class="covered" data-hits="1" data-linenumber="401">
              <span class="hits">1</span>
              <code class="sql">          case(l_components_list.count())</code></li>

            <li class="covered" data-hits="1" data-linenumber="402">
              <span class="hits">1</span>
              <code class="sql">            when 1 then</code></li>

            <li class="never" data-hits="" data-linenumber="403">
            <code class="sql">              ut_executable(a_owner, a_package_name, l_components_list(1), a_event_name)</code></li>

            <li class="covered" data-hits="1" data-linenumber="404">
              <span class="hits">1</span>
              <code class="sql">            when 2 then</code></li>

            <li class="never" data-hits="" data-linenumber="405">
            <code class="sql">              ut_executable(a_owner,l_components_list(1), l_components_list(2), a_event_name)</code></li>

            <li class="covered" data-hits="1" data-linenumber="406">
              <span class="hits">1</span>
              <code class="sql">            when 3 then</code></li>

            <li class="never" data-hits="" data-linenumber="407">
            <code class="sql">              ut_executable(l_components_list(1), l_components_list(2), l_components_list(3), a_event_name)</code></li>

            <li class="never" data-hits="" data-linenumber="408">
            <code class="sql">            else</code></li>

            <li class="never" data-hits="" data-linenumber="409">
            <code class="sql">              null</code></li>

            <li class="never" data-hits="" data-linenumber="410">
            <code class="sql">          end;</code></li>

            <li class="covered" data-hits="584" data-linenumber="411">
              <span class="hits">584</span>
              <code class="sql">        l_procedures_pos := l_procedures_list.next(l_procedures_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="412">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="560" data-linenumber="413">
              <span class="hits">560</span>
              <code class="sql">      l_result(l_annotation_pos) := l_executables;</code></li>

            <li class="covered" data-hits="560" data-linenumber="414">
              <span class="hits">560</span>
              <code class="sql">      l_annotation_pos := a_annotation_texts.next(l_annotation_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="415">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="543" data-linenumber="416">
              <span class="hits">543</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="417">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="418">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="419">
            <code class="sql">  procedure warning_on_duplicate_annot(</code></li>

            <li class="never" data-hits="" data-linenumber="420">
            <code class="sql">    a_suite          in out nocopy ut_suite_item,</code></li>

            <li class="never" data-hits="" data-linenumber="421">
            <code class="sql">    a_annotations    tt_annotations_by_name,</code></li>

            <li class="never" data-hits="" data-linenumber="422">
            <code class="sql">    a_for_annotation varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="423">
            <code class="sql">    a_procedure_name  t_object_name := null</code></li>

            <li class="never" data-hits="" data-linenumber="424">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="425">
            <code class="sql">    l_line_no           binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="426">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8204" data-linenumber="427">
              <span class="hits">8204</span>
              <code class="sql">    if a_annotations.exists(a_for_annotation) and a_annotations(a_for_annotation).count &gt; 1 then</code></li>

            <li class="never" data-hits="" data-linenumber="428">
            <code class="sql">      --start from second occurrence of annotation</code></li>

            <li class="covered" data-hits="14" data-linenumber="429">
              <span class="hits">14</span>
              <code class="sql">      l_line_no := a_annotations(a_for_annotation).next( a_annotations(a_for_annotation).first );</code></li>

            <li class="covered" data-hits="28" data-linenumber="430">
              <span class="hits">28</span>
              <code class="sql">      while l_line_no is not null loop</code></li>

            <li class="covered" data-hits="14" data-linenumber="431">
              <span class="hits">14</span>
              <code class="sql">        add_annotation_ignored_warning( a_suite, a_for_annotation, &apos;Duplicate annotation %%%.&apos;, l_line_no, a_procedure_name );</code></li>

            <li class="covered" data-hits="14" data-linenumber="432">
              <span class="hits">14</span>
              <code class="sql">        l_line_no := a_annotations(a_for_annotation).next( l_line_no );</code></li>

            <li class="never" data-hits="" data-linenumber="433">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="434">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="435">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="436">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="437">
            <code class="sql">  procedure warning_bad_annot_combination(</code></li>

            <li class="never" data-hits="" data-linenumber="438">
            <code class="sql">    a_suite               in out nocopy ut_suite_item,</code></li>

            <li class="never" data-hits="" data-linenumber="439">
            <code class="sql">    a_procedure_name      t_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="440">
            <code class="sql">    a_proc_annotations    tt_annotations_by_name,</code></li>

            <li class="never" data-hits="" data-linenumber="441">
            <code class="sql">    a_for_annotation      varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="442">
            <code class="sql">    a_invalid_annotations ut_varchar2_list</code></li>

            <li class="never" data-hits="" data-linenumber="443">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="444">
            <code class="sql">    l_annotation_name t_annotation_name;</code></li>

            <li class="never" data-hits="" data-linenumber="445">
            <code class="sql">    l_line_no         binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="446">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2417" data-linenumber="447">
              <span class="hits">2417</span>
              <code class="sql">    if a_proc_annotations.exists(a_for_annotation) then</code></li>

            <li class="covered" data-hits="2417" data-linenumber="448">
              <span class="hits">2417</span>
              <code class="sql">      l_annotation_name := a_proc_annotations.first;</code></li>

            <li class="covered" data-hits="5359" data-linenumber="449">
              <span class="hits">5359</span>
              <code class="sql">      while l_annotation_name is not null loop</code></li>

            <li class="covered" data-hits="2942" data-linenumber="450">
              <span class="hits">2942</span>
              <code class="sql">        if l_annotation_name member of a_invalid_annotations then</code></li>

            <li class="covered" data-hits="4" data-linenumber="451">
              <span class="hits">4</span>
              <code class="sql">          l_line_no := a_proc_annotations(l_annotation_name).first;</code></li>

            <li class="covered" data-hits="8" data-linenumber="452">
              <span class="hits">8</span>
              <code class="sql">          while l_line_no is not null loop</code></li>

            <li class="covered" data-hits="4" data-linenumber="453">
              <span class="hits">4</span>
              <code class="sql">            add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="454">
            <code class="sql">                a_suite, l_annotation_name, &apos;Annotation %%% cannot be used with &quot;--%&apos;|| a_for_annotation || &apos;&quot;.&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="455">
            <code class="sql">                l_line_no, a_procedure_name</code></li>

            <li class="never" data-hits="" data-linenumber="456">
            <code class="sql">            );</code></li>

            <li class="covered" data-hits="4" data-linenumber="457">
              <span class="hits">4</span>
              <code class="sql">            l_line_no := a_proc_annotations(l_annotation_name).next(l_line_no);</code></li>

            <li class="never" data-hits="" data-linenumber="458">
            <code class="sql">          end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="459">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="2942" data-linenumber="460">
              <span class="hits">2942</span>
              <code class="sql">        l_annotation_name := a_proc_annotations.next(l_annotation_name);</code></li>

            <li class="never" data-hits="" data-linenumber="461">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="462">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="463">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="464">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="465">
            <code class="sql">  procedure add_test(</code></li>

            <li class="never" data-hits="" data-linenumber="466">
            <code class="sql">    a_suite            in out nocopy ut_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="467">
            <code class="sql">    a_suite_items      in out nocopy ut_suite_items,</code></li>

            <li class="never" data-hits="" data-linenumber="468">
            <code class="sql">    a_procedure_name   t_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="469">
            <code class="sql">    a_annotations      t_annotations_info</code></li>

            <li class="never" data-hits="" data-linenumber="470">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="471">
            <code class="sql">    l_test             ut_test;</code></li>

            <li class="never" data-hits="" data-linenumber="472">
            <code class="sql">    l_annotation_texts tt_annotation_texts;</code></li>

            <li class="covered" data-hits="2646" data-linenumber="473">
              <span class="hits">2646</span>
              <code class="sql">    l_proc_annotations tt_annotations_by_name :=  a_annotations.by_proc(a_procedure_name);</code></li>

            <li class="never" data-hits="" data-linenumber="474">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2646" data-linenumber="475">
              <span class="hits">2646</span>
              <code class="sql">    if not l_proc_annotations.exists(gc_test) then</code></li>

            <li class="covered" data-hits="229" data-linenumber="476">
              <span class="hits">229</span>
              <code class="sql">      return;</code></li>

            <li class="never" data-hits="" data-linenumber="477">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="2417" data-linenumber="478">
              <span class="hits">2417</span>
              <code class="sql">    warning_on_duplicate_annot( a_suite, l_proc_annotations, gc_test, a_procedure_name);</code></li>

            <li class="covered" data-hits="2417" data-linenumber="479">
              <span class="hits">2417</span>
              <code class="sql">    warning_on_duplicate_annot( a_suite, l_proc_annotations, gc_displayname, a_procedure_name);</code></li>

            <li class="covered" data-hits="2417" data-linenumber="480">
              <span class="hits">2417</span>
              <code class="sql">    warning_on_duplicate_annot( a_suite, l_proc_annotations, gc_rollback, a_procedure_name);</code></li>

            <li class="covered" data-hits="2417" data-linenumber="481">
              <span class="hits">2417</span>
              <code class="sql">    warning_bad_annot_combination(</code></li>

            <li class="never" data-hits="" data-linenumber="482">
            <code class="sql">        a_suite, a_procedure_name, l_proc_annotations, gc_test,</code></li>

            <li class="never" data-hits="" data-linenumber="483">
            <code class="sql">        ut_varchar2_list(gc_beforeeach, gc_aftereach, gc_beforeall, gc_afterall)</code></li>

            <li class="never" data-hits="" data-linenumber="484">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="485">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2417" data-linenumber="486">
              <span class="hits">2417</span>
              <code class="sql">    l_test := ut_test(a_suite.object_owner, a_suite.object_name, a_procedure_name, l_proc_annotations( gc_test).first);</code></li>

            <li class="covered" data-hits="2417" data-linenumber="487">
              <span class="hits">2417</span>
              <code class="sql">    l_test.parse_time  := a_annotations.parse_time;</code></li>

            <li class="never" data-hits="" data-linenumber="488">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2417" data-linenumber="489">
              <span class="hits">2417</span>
              <code class="sql">    if l_proc_annotations.exists( gc_displayname) then</code></li>

            <li class="covered" data-hits="5" data-linenumber="490">
              <span class="hits">5</span>
              <code class="sql">      l_annotation_texts := l_proc_annotations( gc_displayname);</code></li>

            <li class="never" data-hits="" data-linenumber="491">
            <code class="sql">      --take the last definition if more than one was provided</code></li>

            <li class="covered" data-hits="5" data-linenumber="492">
              <span class="hits">5</span>
              <code class="sql">      l_test.description := l_annotation_texts(l_annotation_texts.first);</code></li>

            <li class="never" data-hits="" data-linenumber="493">
            <code class="sql">      --TODO if more than one - warning</code></li>

            <li class="never" data-hits="" data-linenumber="494">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="2412" data-linenumber="495">
              <span class="hits">2412</span>
              <code class="sql">      l_test.description := l_proc_annotations(gc_test)(l_proc_annotations(gc_test).first);</code></li>

            <li class="never" data-hits="" data-linenumber="496">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="2417" data-linenumber="497">
              <span class="hits">2417</span>
              <code class="sql">    l_test.path := a_suite.path ||&apos;.&apos;||a_procedure_name;</code></li>

            <li class="never" data-hits="" data-linenumber="498">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2417" data-linenumber="499">
              <span class="hits">2417</span>
              <code class="sql">    if l_proc_annotations.exists(gc_rollback) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="500">
              <span class="hits">1</span>
              <code class="sql">      l_annotation_texts := l_proc_annotations(gc_rollback);</code></li>

            <li class="covered" data-hits="1" data-linenumber="501">
              <span class="hits">1</span>
              <code class="sql">      l_test.rollback_type := get_rollback_type(l_annotation_texts(l_annotation_texts.first));</code></li>

            <li class="covered" data-hits="1" data-linenumber="502">
              <span class="hits">1</span>
              <code class="sql">      if l_test.rollback_type is null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="503">
              <code class="sql">        add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="504">
            <code class="sql">            a_suite, gc_rollback, &apos;Annotation %%% must be provided with one of values: &quot;auto&quot; or &quot;manual&quot;.&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="505">
            <code class="sql">            l_annotation_texts.first, a_procedure_name</code></li>

            <li class="never" data-hits="" data-linenumber="506">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="507">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="508">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="509">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2417" data-linenumber="510">
              <span class="hits">2417</span>
              <code class="sql">    if l_proc_annotations.exists( gc_beforetest) then</code></li>

            <li class="covered" data-hits="215" data-linenumber="511">
              <span class="hits">215</span>
              <code class="sql">      l_test.before_test_list := convert_list(</code></li>

            <li class="never" data-hits="" data-linenumber="512">
            <code class="sql">          add_executables( l_test.object_owner, l_test.object_name, l_proc_annotations( gc_beforetest ), gc_beforetest )</code></li>

            <li class="never" data-hits="" data-linenumber="513">
            <code class="sql">      );</code></li>

            <li class="covered" data-hits="215" data-linenumber="514">
              <span class="hits">215</span>
              <code class="sql">      set_seq_no(l_test.before_test_list);</code></li>

            <li class="never" data-hits="" data-linenumber="515">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="2417" data-linenumber="516">
              <span class="hits">2417</span>
              <code class="sql">    if l_proc_annotations.exists( gc_aftertest) then</code></li>

            <li class="covered" data-hits="213" data-linenumber="517">
              <span class="hits">213</span>
              <code class="sql">      l_test.after_test_list := convert_list(</code></li>

            <li class="never" data-hits="" data-linenumber="518">
            <code class="sql">          add_executables( l_test.object_owner, l_test.object_name, l_proc_annotations( gc_aftertest ), gc_aftertest )</code></li>

            <li class="never" data-hits="" data-linenumber="519">
            <code class="sql">      );</code></li>

            <li class="covered" data-hits="213" data-linenumber="520">
              <span class="hits">213</span>
              <code class="sql">      set_seq_no(l_test.after_test_list);</code></li>

            <li class="never" data-hits="" data-linenumber="521">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="522">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2417" data-linenumber="523">
              <span class="hits">2417</span>
              <code class="sql">    if l_proc_annotations.exists( gc_tags) then</code></li>

            <li class="covered" data-hits="33" data-linenumber="524">
              <span class="hits">33</span>
              <code class="sql">      add_tags_to_suite_item(a_suite, l_proc_annotations( gc_tags), l_test.tags, a_procedure_name);</code></li>

            <li class="never" data-hits="" data-linenumber="525">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="526">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2417" data-linenumber="527">
              <span class="hits">2417</span>
              <code class="sql">    if l_proc_annotations.exists( gc_throws) then</code></li>

            <li class="covered" data-hits="33" data-linenumber="528">
              <span class="hits">33</span>
              <code class="sql">      add_to_throws_numbers_list(a_suite, l_test.expected_error_codes, a_procedure_name, l_proc_annotations( gc_throws));</code></li>

            <li class="never" data-hits="" data-linenumber="529">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="2417" data-linenumber="530">
              <span class="hits">2417</span>
              <code class="sql">    l_test.disabled_flag := ut_utils.boolean_to_int( l_proc_annotations.exists( gc_disabled));</code></li>

            <li class="never" data-hits="" data-linenumber="531">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2417" data-linenumber="532">
              <span class="hits">2417</span>
              <code class="sql">    a_suite_items.extend;</code></li>

            <li class="covered" data-hits="2417" data-linenumber="533">
              <span class="hits">2417</span>
              <code class="sql">    a_suite_items( a_suite_items.last ) := l_test;</code></li>

            <li class="never" data-hits="" data-linenumber="534">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="535">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="536">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="537">
            <code class="sql">  procedure propagate_before_after_each(</code></li>

            <li class="never" data-hits="" data-linenumber="538">
            <code class="sql">    a_suite_items in out nocopy ut_suite_items,</code></li>

            <li class="never" data-hits="" data-linenumber="539">
            <code class="sql">    a_before_each_list tt_executables,</code></li>

            <li class="never" data-hits="" data-linenumber="540">
            <code class="sql">    a_after_each_list  tt_executables</code></li>

            <li class="never" data-hits="" data-linenumber="541">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="542">
            <code class="sql">    l_test      ut_test;</code></li>

            <li class="never" data-hits="" data-linenumber="543">
            <code class="sql">    l_context   ut_logical_suite;</code></li>

            <li class="never" data-hits="" data-linenumber="544">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="619" data-linenumber="545">
              <span class="hits">619</span>
              <code class="sql">      if a_suite_items is not null then</code></li>

            <li class="covered" data-hits="4322" data-linenumber="546">
              <span class="hits">4322</span>
              <code class="sql">        for i in 1 .. a_suite_items.count loop</code></li>

            <li class="covered" data-hits="3703" data-linenumber="547">
              <span class="hits">3703</span>
              <code class="sql">          if a_suite_items(i) is of (ut_test) then</code></li>

            <li class="covered" data-hits="3527" data-linenumber="548">
              <span class="hits">3527</span>
              <code class="sql">            l_test := treat( a_suite_items(i) as ut_test);</code></li>

            <li class="covered" data-hits="3527" data-linenumber="549">
              <span class="hits">3527</span>
              <code class="sql">            l_test.before_each_list := convert_list(a_before_each_list) multiset union all l_test.before_each_list;</code></li>

            <li class="covered" data-hits="3527" data-linenumber="550">
              <span class="hits">3527</span>
              <code class="sql">            set_seq_no(l_test.before_each_list);</code></li>

            <li class="covered" data-hits="3527" data-linenumber="551">
              <span class="hits">3527</span>
              <code class="sql">            l_test.after_each_list := l_test.after_each_list multiset union all convert_list(a_after_each_list);</code></li>

            <li class="covered" data-hits="3527" data-linenumber="552">
              <span class="hits">3527</span>
              <code class="sql">            set_seq_no(l_test.after_each_list);</code></li>

            <li class="covered" data-hits="3527" data-linenumber="553">
              <span class="hits">3527</span>
              <code class="sql">            a_suite_items(i) := l_test;</code></li>

            <li class="covered" data-hits="176" data-linenumber="554">
              <span class="hits">176</span>
              <code class="sql">          elsif a_suite_items(i) is of (ut_logical_suite) then</code></li>

            <li class="covered" data-hits="176" data-linenumber="555">
              <span class="hits">176</span>
              <code class="sql">            l_context := treat(a_suite_items(i) as ut_logical_suite);</code></li>

            <li class="covered" data-hits="176" data-linenumber="556">
              <span class="hits">176</span>
              <code class="sql">            propagate_before_after_each( l_context.items, a_before_each_list, a_after_each_list);</code></li>

            <li class="covered" data-hits="176" data-linenumber="557">
              <span class="hits">176</span>
              <code class="sql">            a_suite_items(i) := l_context;</code></li>

            <li class="never" data-hits="" data-linenumber="558">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="559">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="560">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="561">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="562">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="563">
            <code class="sql">  procedure process_before_after_annot(</code></li>

            <li class="never" data-hits="" data-linenumber="564">
            <code class="sql">    a_list             in out nocopy tt_executables,</code></li>

            <li class="never" data-hits="" data-linenumber="565">
            <code class="sql">    a_annotation_name  t_annotation_name,</code></li>

            <li class="never" data-hits="" data-linenumber="566">
            <code class="sql">    a_procedure_name   t_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="567">
            <code class="sql">    a_proc_annotations tt_annotations_by_name,</code></li>

            <li class="never" data-hits="" data-linenumber="568">
            <code class="sql">    a_suite            in out nocopy ut_suite</code></li>

            <li class="never" data-hits="" data-linenumber="569">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="570">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10584" data-linenumber="571">
              <span class="hits">10584</span>
              <code class="sql">    if a_proc_annotations.exists(a_annotation_name) and not a_proc_annotations.exists(gc_test) then</code></li>

            <li class="covered" data-hits="231" data-linenumber="572">
              <span class="hits">231</span>
              <code class="sql">      a_list( a_proc_annotations(a_annotation_name).first ) := ut_executables(ut_executable(a_suite.object_owner,  a_suite.object_name, a_procedure_name, a_annotation_name));</code></li>

            <li class="covered" data-hits="231" data-linenumber="573">
              <span class="hits">231</span>
              <code class="sql">      warning_on_duplicate_annot(a_suite, a_proc_annotations, a_annotation_name, a_procedure_name);</code></li>

            <li class="never" data-hits="" data-linenumber="574">
            <code class="sql">    --TODO add warning if annotation has text - text ignored</code></li>

            <li class="never" data-hits="" data-linenumber="575">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="576">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="577">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="578">
            <code class="sql">  procedure get_annotated_procedures(</code></li>

            <li class="never" data-hits="" data-linenumber="579">
            <code class="sql">    a_proc_annotations t_annotations_info,</code></li>

            <li class="never" data-hits="" data-linenumber="580">
            <code class="sql">    a_suite            in out nocopy ut_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="581">
            <code class="sql">    a_suite_items      in out nocopy ut_suite_items,</code></li>

            <li class="never" data-hits="" data-linenumber="582">
            <code class="sql">    a_before_each_list in out nocopy tt_executables,</code></li>

            <li class="never" data-hits="" data-linenumber="583">
            <code class="sql">    a_after_each_list  in out nocopy tt_executables,</code></li>

            <li class="never" data-hits="" data-linenumber="584">
            <code class="sql">    a_before_all_list  in out nocopy tt_executables,</code></li>

            <li class="never" data-hits="" data-linenumber="585">
            <code class="sql">    a_after_all_list   in out nocopy tt_executables</code></li>

            <li class="never" data-hits="" data-linenumber="586">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="587">
            <code class="sql">    l_procedure_name   t_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="588">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="443" data-linenumber="589">
              <span class="hits">443</span>
              <code class="sql">    l_procedure_name := a_proc_annotations.by_proc.first;</code></li>

            <li class="covered" data-hits="3089" data-linenumber="590">
              <span class="hits">3089</span>
              <code class="sql">    while l_procedure_name is not null loop</code></li>

            <li class="covered" data-hits="2646" data-linenumber="591">
              <span class="hits">2646</span>
              <code class="sql">      add_test( a_suite, a_suite_items, l_procedure_name, a_proc_annotations );</code></li>

            <li class="covered" data-hits="2646" data-linenumber="592">
              <span class="hits">2646</span>
              <code class="sql">      process_before_after_annot(a_before_each_list, gc_beforeeach, l_procedure_name, a_proc_annotations.by_proc(l_procedure_name), a_suite);</code></li>

            <li class="covered" data-hits="2646" data-linenumber="593">
              <span class="hits">2646</span>
              <code class="sql">      process_before_after_annot(a_after_each_list,  gc_aftereach,  l_procedure_name, a_proc_annotations.by_proc(l_procedure_name), a_suite);</code></li>

            <li class="covered" data-hits="2646" data-linenumber="594">
              <span class="hits">2646</span>
              <code class="sql">      process_before_after_annot(a_before_all_list,  gc_beforeall,  l_procedure_name, a_proc_annotations.by_proc(l_procedure_name), a_suite);</code></li>

            <li class="covered" data-hits="2646" data-linenumber="595">
              <span class="hits">2646</span>
              <code class="sql">      process_before_after_annot(a_after_all_list,   gc_afterall,   l_procedure_name, a_proc_annotations.by_proc(l_procedure_name), a_suite);</code></li>

            <li class="covered" data-hits="2646" data-linenumber="596">
              <span class="hits">2646</span>
              <code class="sql">      l_procedure_name := a_proc_annotations.by_proc.next( l_procedure_name );</code></li>

            <li class="never" data-hits="" data-linenumber="597">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="598">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="599">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="600">
            <code class="sql">  procedure build_suitepath(</code></li>

            <li class="never" data-hits="" data-linenumber="601">
            <code class="sql">    a_suite              in out nocopy ut_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="602">
            <code class="sql">    a_annotations        t_annotations_info</code></li>

            <li class="never" data-hits="" data-linenumber="603">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="604">
            <code class="sql">    l_annotation_text    t_annotation_text;</code></li>

            <li class="never" data-hits="" data-linenumber="605">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="269" data-linenumber="606">
              <span class="hits">269</span>
              <code class="sql">    if a_annotations.by_name.exists(gc_suitepath) then</code></li>

            <li class="covered" data-hits="169" data-linenumber="607">
              <span class="hits">169</span>
              <code class="sql">      l_annotation_text := trim(a_annotations.by_name(gc_suitepath)(a_annotations.by_name(gc_suitepath).first));</code></li>

            <li class="covered" data-hits="169" data-linenumber="608">
              <span class="hits">169</span>
              <code class="sql">      if l_annotation_text is not null then</code></li>

            <li class="covered" data-hits="167" data-linenumber="609">
              <span class="hits">167</span>
              <code class="sql">        if regexp_like(l_annotation_text,&apos;^((\w|[$#])+\.)*(\w|[$#])+$&apos;) then</code></li>

            <li class="covered" data-hits="166" data-linenumber="610">
              <span class="hits">166</span>
              <code class="sql">          a_suite.path := l_annotation_text||&apos;.&apos;||a_suite.object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="611">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="1" data-linenumber="612">
              <span class="hits">1</span>
              <code class="sql">          add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="613">
            <code class="sql">              a_suite, gc_suitepath||&apos;(&apos;||l_annotation_text||&apos;)&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="614">
            <code class="sql">              &apos;Invalid path value in annotation %%%.&apos;, a_annotations.by_name(gc_suitepath).first</code></li>

            <li class="never" data-hits="" data-linenumber="615">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="616">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="617">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="2" data-linenumber="618">
              <span class="hits">2</span>
              <code class="sql">        add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="619">
            <code class="sql">            a_suite, gc_suitepath, &apos;%%% annotation requires a non-empty parameter value.&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="620">
            <code class="sql">            a_annotations.by_name(gc_suitepath).first</code></li>

            <li class="never" data-hits="" data-linenumber="621">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="622">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="167" data-linenumber="623">
              <span class="hits">167</span>
              <code class="sql">      warning_on_duplicate_annot(a_suite, a_annotations.by_name, gc_suitepath);</code></li>

            <li class="never" data-hits="" data-linenumber="624">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="267" data-linenumber="625">
              <span class="hits">267</span>
              <code class="sql">    a_suite.path := lower(coalesce(a_suite.path, a_suite.object_name));</code></li>

            <li class="never" data-hits="" data-linenumber="626">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="627">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="628">
            <code class="sql">  procedure add_suite_tests(</code></li>

            <li class="never" data-hits="" data-linenumber="629">
            <code class="sql">    a_suite              in out nocopy ut_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="630">
            <code class="sql">    a_annotations        t_annotations_info,</code></li>

            <li class="never" data-hits="" data-linenumber="631">
            <code class="sql">    a_suite_items        in out nocopy ut_suite_items</code></li>

            <li class="never" data-hits="" data-linenumber="632">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="633">
            <code class="sql">    l_before_each_list   tt_executables;</code></li>

            <li class="never" data-hits="" data-linenumber="634">
            <code class="sql">    l_after_each_list    tt_executables;</code></li>

            <li class="never" data-hits="" data-linenumber="635">
            <code class="sql">    l_before_all_list    tt_executables;</code></li>

            <li class="never" data-hits="" data-linenumber="636">
            <code class="sql">    l_after_all_list     tt_executables;</code></li>

            <li class="never" data-hits="" data-linenumber="637">
            <code class="sql">    l_rollback_type      ut_utils.t_rollback_type;</code></li>

            <li class="never" data-hits="" data-linenumber="638">
            <code class="sql">    l_annotation_text    t_annotation_text;</code></li>

            <li class="never" data-hits="" data-linenumber="639">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="443" data-linenumber="640">
              <span class="hits">443</span>
              <code class="sql">    if a_annotations.by_name.exists(gc_displayname) then</code></li>

            <li class="covered" data-hits="89" data-linenumber="641">
              <span class="hits">89</span>
              <code class="sql">      l_annotation_text := trim(a_annotations.by_name(gc_displayname)(a_annotations.by_name(gc_displayname).first));</code></li>

            <li class="covered" data-hits="89" data-linenumber="642">
              <span class="hits">89</span>
              <code class="sql">      if l_annotation_text is not null then</code></li>

            <li class="covered" data-hits="88" data-linenumber="643">
              <span class="hits">88</span>
              <code class="sql">        a_suite.description := l_annotation_text;</code></li>

            <li class="never" data-hits="" data-linenumber="644">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="1" data-linenumber="645">
              <span class="hits">1</span>
              <code class="sql">        add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="646">
            <code class="sql">            a_suite, gc_displayname, &apos;%%% annotation requires a non-empty parameter value.&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="647">
            <code class="sql">            a_annotations.by_name(gc_displayname).first</code></li>

            <li class="never" data-hits="" data-linenumber="648">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="649">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="89" data-linenumber="650">
              <span class="hits">89</span>
              <code class="sql">      warning_on_duplicate_annot(a_suite, a_annotations.by_name, gc_displayname);</code></li>

            <li class="never" data-hits="" data-linenumber="651">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="652">
            <code class="sql"></code></li>

            <li class="covered" data-hits="443" data-linenumber="653">
              <span class="hits">443</span>
              <code class="sql">    if a_annotations.by_name.exists(gc_rollback) then</code></li>

            <li class="covered" data-hits="21" data-linenumber="654">
              <span class="hits">21</span>
              <code class="sql">      l_rollback_type := get_rollback_type(a_annotations.by_name(gc_rollback)(a_annotations.by_name(gc_rollback).first));</code></li>

            <li class="covered" data-hits="21" data-linenumber="655">
              <span class="hits">21</span>
              <code class="sql">      if l_rollback_type is null then</code></li>

            <li class="covered" data-hits="2" data-linenumber="656">
              <span class="hits">2</span>
              <code class="sql">        add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="657">
            <code class="sql">            a_suite, gc_rollback, &apos;%%% annotation requires one of values as parameter: &quot;auto&quot; or &quot;manual&quot;.&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="658">
            <code class="sql">            a_annotations.by_name(gc_rollback).first</code></li>

            <li class="never" data-hits="" data-linenumber="659">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="660">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="21" data-linenumber="661">
              <span class="hits">21</span>
              <code class="sql">      warning_on_duplicate_annot(a_suite, a_annotations.by_name, gc_rollback);</code></li>

            <li class="never" data-hits="" data-linenumber="662">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="443" data-linenumber="663">
              <span class="hits">443</span>
              <code class="sql">    if a_annotations.by_name.exists(gc_beforeall) then</code></li>

            <li class="covered" data-hits="52" data-linenumber="664">
              <span class="hits">52</span>
              <code class="sql">      l_before_all_list := add_executables( a_suite.object_owner, a_suite.object_name, a_annotations.by_name(gc_beforeall), gc_beforeall );</code></li>

            <li class="never" data-hits="" data-linenumber="665">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="443" data-linenumber="666">
              <span class="hits">443</span>
              <code class="sql">    if a_annotations.by_name.exists(gc_afterall) then</code></li>

            <li class="covered" data-hits="52" data-linenumber="667">
              <span class="hits">52</span>
              <code class="sql">      l_after_all_list := add_executables( a_suite.object_owner, a_suite.object_name, a_annotations.by_name(gc_afterall), gc_afterall );</code></li>

            <li class="never" data-hits="" data-linenumber="668">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="669">
            <code class="sql"></code></li>

            <li class="covered" data-hits="443" data-linenumber="670">
              <span class="hits">443</span>
              <code class="sql">    if a_annotations.by_name.exists(gc_beforeeach) then</code></li>

            <li class="covered" data-hits="4" data-linenumber="671">
              <span class="hits">4</span>
              <code class="sql">      l_before_each_list := add_executables( a_suite.object_owner, a_suite.object_name, a_annotations.by_name(gc_beforeeach), gc_beforeeach );</code></li>

            <li class="never" data-hits="" data-linenumber="672">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="443" data-linenumber="673">
              <span class="hits">443</span>
              <code class="sql">    if a_annotations.by_name.exists(gc_aftereach) then</code></li>

            <li class="covered" data-hits="7" data-linenumber="674">
              <span class="hits">7</span>
              <code class="sql">      l_after_each_list := add_executables( a_suite.object_owner, a_suite.object_name, a_annotations.by_name(gc_aftereach), gc_aftereach );</code></li>

            <li class="never" data-hits="" data-linenumber="675">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="676">
            <code class="sql"></code></li>

            <li class="covered" data-hits="443" data-linenumber="677">
              <span class="hits">443</span>
              <code class="sql">    if a_annotations.by_name.exists(gc_tags) then</code></li>

            <li class="covered" data-hits="22" data-linenumber="678">
              <span class="hits">22</span>
              <code class="sql">      add_tags_to_suite_item(a_suite, a_annotations.by_name(gc_tags),a_suite.tags);</code></li>

            <li class="never" data-hits="" data-linenumber="679">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="443" data-linenumber="680">
              <span class="hits">443</span>
              <code class="sql">    a_suite.disabled_flag := ut_utils.boolean_to_int(a_annotations.by_name.exists(gc_disabled));</code></li>

            <li class="never" data-hits="" data-linenumber="681">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="682">
            <code class="sql">    --process procedure annotations for suite</code></li>

            <li class="covered" data-hits="443" data-linenumber="683">
              <span class="hits">443</span>
              <code class="sql">    get_annotated_procedures(a_annotations, a_suite, a_suite_items, l_before_each_list, l_after_each_list, l_before_all_list, l_after_all_list);</code></li>

            <li class="never" data-hits="" data-linenumber="684">
            <code class="sql"></code></li>

            <li class="covered" data-hits="443" data-linenumber="685">
              <span class="hits">443</span>
              <code class="sql">    a_suite.set_rollback_type(l_rollback_type);</code></li>

            <li class="covered" data-hits="443" data-linenumber="686">
              <span class="hits">443</span>
              <code class="sql">    propagate_before_after_each( a_suite_items, l_before_each_list, l_after_each_list);</code></li>

            <li class="covered" data-hits="443" data-linenumber="687">
              <span class="hits">443</span>
              <code class="sql">    a_suite.before_all_list := convert_list(l_before_all_list);</code></li>

            <li class="covered" data-hits="443" data-linenumber="688">
              <span class="hits">443</span>
              <code class="sql">    set_seq_no(a_suite.before_all_list);</code></li>

            <li class="covered" data-hits="443" data-linenumber="689">
              <span class="hits">443</span>
              <code class="sql">    a_suite.after_all_list  := convert_list(l_after_all_list);</code></li>

            <li class="covered" data-hits="443" data-linenumber="690">
              <span class="hits">443</span>
              <code class="sql">    set_seq_no(a_suite.after_all_list);</code></li>

            <li class="never" data-hits="" data-linenumber="691">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="692">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="693">
            <code class="sql">  function get_endcontext_position(</code></li>

            <li class="never" data-hits="" data-linenumber="694">
            <code class="sql">    a_context_ann_pos     t_annotation_position,</code></li>

            <li class="never" data-hits="" data-linenumber="695">
            <code class="sql">    a_package_annotations in out nocopy tt_annotations_by_name</code></li>

            <li class="never" data-hits="" data-linenumber="696">
            <code class="sql">  ) return t_annotation_position is</code></li>

            <li class="never" data-hits="" data-linenumber="697">
            <code class="sql">    l_result t_annotation_position;</code></li>

            <li class="never" data-hits="" data-linenumber="698">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="179" data-linenumber="699">
              <span class="hits">179</span>
              <code class="sql">    if a_package_annotations.exists(gc_endcontext) then</code></li>

            <li class="covered" data-hits="177" data-linenumber="700">
              <span class="hits">177</span>
              <code class="sql">      l_result := a_package_annotations(gc_endcontext).first;</code></li>

            <li class="covered" data-hits="177" data-linenumber="701">
              <span class="hits">177</span>
              <code class="sql">      while l_result &lt;= a_context_ann_pos loop</code></li>

            <li class="missed" data-hits="0" data-linenumber="702">
              <code class="sql">        l_result := a_package_annotations(gc_endcontext).next(l_result);</code></li>

            <li class="never" data-hits="" data-linenumber="703">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="704">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="179" data-linenumber="705">
              <span class="hits">179</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="706">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="707">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="708">
            <code class="sql">  function get_annotations_in_context(</code></li>

            <li class="never" data-hits="" data-linenumber="709">
            <code class="sql">    a_annotations        t_annotations_info,</code></li>

            <li class="never" data-hits="" data-linenumber="710">
            <code class="sql">    a_context_pos        t_annotation_position,</code></li>

            <li class="never" data-hits="" data-linenumber="711">
            <code class="sql">    a_end_context_pos    t_annotation_position</code></li>

            <li class="never" data-hits="" data-linenumber="712">
            <code class="sql">  ) return t_annotations_info is</code></li>

            <li class="never" data-hits="" data-linenumber="713">
            <code class="sql">    l_result          t_annotations_info;</code></li>

            <li class="never" data-hits="" data-linenumber="714">
            <code class="sql">    l_position        t_annotation_position;</code></li>

            <li class="never" data-hits="" data-linenumber="715">
            <code class="sql">    l_procedure_name  t_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="716">
            <code class="sql">    l_annotation_name t_annotation_name;</code></li>

            <li class="never" data-hits="" data-linenumber="717">
            <code class="sql">    l_annotation_text t_annotation_text;</code></li>

            <li class="never" data-hits="" data-linenumber="718">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="177" data-linenumber="719">
              <span class="hits">177</span>
              <code class="sql">    l_position := a_context_pos;</code></li>

            <li class="covered" data-hits="177" data-linenumber="720">
              <span class="hits">177</span>
              <code class="sql">    l_result.owner := a_annotations.owner;</code></li>

            <li class="covered" data-hits="177" data-linenumber="721">
              <span class="hits">177</span>
              <code class="sql">    l_result.name := a_annotations.name;</code></li>

            <li class="covered" data-hits="177" data-linenumber="722">
              <span class="hits">177</span>
              <code class="sql">    l_result.parse_time := a_annotations.parse_time;</code></li>

            <li class="covered" data-hits="2037" data-linenumber="723">
              <span class="hits">2037</span>
              <code class="sql">    while l_position is not null and l_position &lt;= a_end_context_pos loop</code></li>

            <li class="covered" data-hits="1860" data-linenumber="724">
              <span class="hits">1860</span>
              <code class="sql">      l_result.by_line(l_position) := a_annotations.by_line(l_position);</code></li>

            <li class="covered" data-hits="1860" data-linenumber="725">
              <span class="hits">1860</span>
              <code class="sql">      l_procedure_name  := l_result.by_line(l_position).procedure_name;</code></li>

            <li class="covered" data-hits="1860" data-linenumber="726">
              <span class="hits">1860</span>
              <code class="sql">      l_annotation_name := l_result.by_line(l_position).name;</code></li>

            <li class="covered" data-hits="1860" data-linenumber="727">
              <span class="hits">1860</span>
              <code class="sql">      l_annotation_text := l_result.by_line(l_position).text;</code></li>

            <li class="covered" data-hits="1860" data-linenumber="728">
              <span class="hits">1860</span>
              <code class="sql">      if l_procedure_name is not null then</code></li>

            <li class="covered" data-hits="1330" data-linenumber="729">
              <span class="hits">1330</span>
              <code class="sql">        l_result.by_proc(l_procedure_name)(l_annotation_name)(l_position) := l_annotation_text;</code></li>

            <li class="never" data-hits="" data-linenumber="730">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="530" data-linenumber="731">
              <span class="hits">530</span>
              <code class="sql">        l_result.by_name(l_annotation_name)(l_position) := l_annotation_text;</code></li>

            <li class="never" data-hits="" data-linenumber="732">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="1860" data-linenumber="733">
              <span class="hits">1860</span>
              <code class="sql">      l_position := a_annotations.by_line.next(l_position);</code></li>

            <li class="never" data-hits="" data-linenumber="734">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="177" data-linenumber="735">
              <span class="hits">177</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="736">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="737">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="738">
            <code class="sql">  procedure get_suite_contexts_items(</code></li>

            <li class="never" data-hits="" data-linenumber="739">
            <code class="sql">    a_suite              in out nocopy ut_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="740">
            <code class="sql">    a_annotations        in out nocopy t_annotations_info,</code></li>

            <li class="never" data-hits="" data-linenumber="741">
            <code class="sql">    a_suite_items        out nocopy ut_suite_items</code></li>

            <li class="never" data-hits="" data-linenumber="742">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="743">
            <code class="sql">    l_context_pos        t_annotation_position;</code></li>

            <li class="never" data-hits="" data-linenumber="744">
            <code class="sql">    l_end_context_pos    t_annotation_position;</code></li>

            <li class="never" data-hits="" data-linenumber="745">
            <code class="sql">    l_context_name       t_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="746">
            <code class="sql">    l_ctx_annotations    t_annotations_info;</code></li>

            <li class="never" data-hits="" data-linenumber="747">
            <code class="sql">    l_context            ut_suite_context;</code></li>

            <li class="covered" data-hits="267" data-linenumber="748">
              <span class="hits">267</span>
              <code class="sql">    l_context_no         binary_integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="749">
            <code class="sql">    l_context_items      ut_suite_items;</code></li>

            <li class="never" data-hits="" data-linenumber="750">
            <code class="sql">    type tt_context_names is table of boolean index by t_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="751">
            <code class="sql">    l_context_names      tt_context_names;</code></li>

            <li class="never" data-hits="" data-linenumber="752">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="267" data-linenumber="753">
              <span class="hits">267</span>
              <code class="sql">    a_suite_items := ut_suite_items();</code></li>

            <li class="covered" data-hits="267" data-linenumber="754">
              <span class="hits">267</span>
              <code class="sql">    if not a_annotations.by_name.exists(gc_context) then</code></li>

            <li class="covered" data-hits="204" data-linenumber="755">
              <span class="hits">204</span>
              <code class="sql">      return;</code></li>

            <li class="never" data-hits="" data-linenumber="756">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="757">
            <code class="sql"></code></li>

            <li class="covered" data-hits="63" data-linenumber="758">
              <span class="hits">63</span>
              <code class="sql">    l_context_pos := a_annotations.by_name( gc_context).first;</code></li>

            <li class="never" data-hits="" data-linenumber="759">
            <code class="sql"></code></li>

            <li class="covered" data-hits="179" data-linenumber="760">
              <span class="hits">179</span>
              <code class="sql">    while l_context_pos is not null loop</code></li>

            <li class="covered" data-hits="179" data-linenumber="761">
              <span class="hits">179</span>
              <code class="sql">      l_end_context_pos := get_endcontext_position(l_context_pos, a_annotations.by_name );</code></li>

            <li class="never" data-hits="" data-linenumber="762">
            <code class="sql"></code></li>

            <li class="covered" data-hits="179" data-linenumber="763">
              <span class="hits">179</span>
              <code class="sql">      exit when l_end_context_pos is null;</code></li>

            <li class="never" data-hits="" data-linenumber="764">
            <code class="sql"></code></li>

            <li class="covered" data-hits="177" data-linenumber="765">
              <span class="hits">177</span>
              <code class="sql">      l_context_items  := ut_suite_items();</code></li>

            <li class="never" data-hits="" data-linenumber="766">
            <code class="sql">      --create a sub-set of annotations to process as sub-suite (context)</code></li>

            <li class="covered" data-hits="177" data-linenumber="767">
              <span class="hits">177</span>
              <code class="sql">      l_ctx_annotations   := get_annotations_in_context( a_annotations, l_context_pos, l_end_context_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="768">
            <code class="sql"></code></li>

            <li class="covered" data-hits="177" data-linenumber="769">
              <span class="hits">177</span>
              <code class="sql">      l_context_name := coalesce(</code></li>

            <li class="covered" data-hits="1" data-linenumber="770">
              <span class="hits">1</span>
              <code class="sql">        l_ctx_annotations.by_line( l_context_pos ).text</code></li>

            <li class="never" data-hits="" data-linenumber="771">
            <code class="sql">        , gc_context||&apos;_&apos;||l_context_no</code></li>

            <li class="never" data-hits="" data-linenumber="772">
            <code class="sql">      );</code></li>

            <li class="covered" data-hits="177" data-linenumber="773">
              <span class="hits">177</span>
              <code class="sql">      if l_context_names.exists(l_context_name) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="774">
              <span class="hits">1</span>
              <code class="sql">        add_annotation_ignored_warning( a_suite, &apos;context&apos;, &apos;Context name must be unique in a suite. Context and all of it&apos;&apos;s content ignored.&apos;, l_context_pos );</code></li>

            <li class="never" data-hits="" data-linenumber="775">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="176" data-linenumber="776">
              <span class="hits">176</span>
              <code class="sql">        l_context_names(l_context_name) := true;</code></li>

            <li class="never" data-hits="" data-linenumber="777">
            <code class="sql"></code></li>

            <li class="covered" data-hits="176" data-linenumber="778">
              <span class="hits">176</span>
              <code class="sql">        l_context := ut_suite_context(a_suite.object_owner, a_suite.object_name, l_context_name, l_context_pos );</code></li>

            <li class="never" data-hits="" data-linenumber="779">
            <code class="sql"></code></li>

            <li class="covered" data-hits="176" data-linenumber="780">
              <span class="hits">176</span>
              <code class="sql">        l_context.path := a_suite.path||&apos;.&apos;||l_context_name;</code></li>

            <li class="covered" data-hits="176" data-linenumber="781">
              <span class="hits">176</span>
              <code class="sql">        l_context.description := l_ctx_annotations.by_line( l_context_pos ).text;</code></li>

            <li class="covered" data-hits="176" data-linenumber="782">
              <span class="hits">176</span>
              <code class="sql">        l_context.parse_time  := a_annotations.parse_time;</code></li>

            <li class="never" data-hits="" data-linenumber="783">
            <code class="sql"></code></li>

            <li class="covered" data-hits="176" data-linenumber="784">
              <span class="hits">176</span>
              <code class="sql">        warning_on_duplicate_annot( l_context, l_ctx_annotations.by_name, gc_context );</code></li>

            <li class="never" data-hits="" data-linenumber="785">
            <code class="sql"></code></li>

            <li class="covered" data-hits="176" data-linenumber="786">
              <span class="hits">176</span>
              <code class="sql">        add_suite_tests( l_context, l_ctx_annotations, l_context_items );</code></li>

            <li class="covered" data-hits="176" data-linenumber="787">
              <span class="hits">176</span>
              <code class="sql">        add_items_to_list(a_suite_items, l_context_items);</code></li>

            <li class="covered" data-hits="176" data-linenumber="788">
              <span class="hits">176</span>
              <code class="sql">        a_suite_items.extend;</code></li>

            <li class="covered" data-hits="176" data-linenumber="789">
              <span class="hits">176</span>
              <code class="sql">        a_suite_items(a_suite_items.last) := l_context;</code></li>

            <li class="never" data-hits="" data-linenumber="790">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="791">
            <code class="sql">      -- remove annotations within context after processing them</code></li>

            <li class="covered" data-hits="177" data-linenumber="792">
              <span class="hits">177</span>
              <code class="sql">      delete_annotations_range(a_annotations, l_context_pos, l_end_context_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="793">
            <code class="sql"></code></li>

            <li class="covered" data-hits="177" data-linenumber="794">
              <span class="hits">177</span>
              <code class="sql">      exit when not a_annotations.by_name.exists( gc_context);</code></li>

            <li class="never" data-hits="" data-linenumber="795">
            <code class="sql"></code></li>

            <li class="covered" data-hits="116" data-linenumber="796">
              <span class="hits">116</span>
              <code class="sql">      l_context_pos := a_annotations.by_name( gc_context).next( l_context_pos);</code></li>

            <li class="covered" data-hits="116" data-linenumber="797">
              <span class="hits">116</span>
              <code class="sql">      l_context_no := l_context_no + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="798">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="799">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="800">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="801">
            <code class="sql">  procedure warning_on_incomplete_context(</code></li>

            <li class="never" data-hits="" data-linenumber="802">
            <code class="sql">    a_suite              in out nocopy ut_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="803">
            <code class="sql">    a_package_ann_index  tt_annotations_by_name</code></li>

            <li class="never" data-hits="" data-linenumber="804">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="805">
            <code class="sql">    l_annotation_pos  t_annotation_position;</code></li>

            <li class="never" data-hits="" data-linenumber="806">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="267" data-linenumber="807">
              <span class="hits">267</span>
              <code class="sql">    if a_package_ann_index.exists(gc_context) then</code></li>

            <li class="covered" data-hits="2" data-linenumber="808">
              <span class="hits">2</span>
              <code class="sql">      l_annotation_pos := a_package_ann_index(gc_context).first;</code></li>

            <li class="covered" data-hits="4" data-linenumber="809">
              <span class="hits">4</span>
              <code class="sql">      while l_annotation_pos is not null loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="810">
              <span class="hits">2</span>
              <code class="sql">        add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="811">
            <code class="sql">            a_suite, gc_context, &apos;Invalid annotation %%%. Cannot find following &quot;--%endcontext&quot;.&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="812">
            <code class="sql">            l_annotation_pos</code></li>

            <li class="never" data-hits="" data-linenumber="813">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="2" data-linenumber="814">
              <span class="hits">2</span>
              <code class="sql">        l_annotation_pos := a_package_ann_index(gc_context).next(l_annotation_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="815">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="816">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="267" data-linenumber="817">
              <span class="hits">267</span>
              <code class="sql">    if a_package_ann_index.exists(gc_endcontext) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="818">
              <span class="hits">1</span>
              <code class="sql">      l_annotation_pos := a_package_ann_index(gc_endcontext).first;</code></li>

            <li class="covered" data-hits="2" data-linenumber="819">
              <span class="hits">2</span>
              <code class="sql">      while l_annotation_pos is not null loop</code></li>

            <li class="covered" data-hits="1" data-linenumber="820">
              <span class="hits">1</span>
              <code class="sql">        add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="821">
            <code class="sql">            a_suite, gc_endcontext, &apos;Invalid annotation %%%. Cannot find preceding &quot;--%context&quot;.&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="822">
            <code class="sql">            l_annotation_pos</code></li>

            <li class="never" data-hits="" data-linenumber="823">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="1" data-linenumber="824">
              <span class="hits">1</span>
              <code class="sql">        l_annotation_pos := a_package_ann_index(gc_endcontext).next(l_annotation_pos);</code></li>

            <li class="never" data-hits="" data-linenumber="825">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="826">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="827">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="828">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="829">
            <code class="sql">  procedure warning_on_unknown_annotations(</code></li>

            <li class="never" data-hits="" data-linenumber="830">
            <code class="sql">    a_suite in out nocopy ut_suite_item,</code></li>

            <li class="never" data-hits="" data-linenumber="831">
            <code class="sql">    a_annotations tt_annotations_by_line</code></li>

            <li class="never" data-hits="" data-linenumber="832">
            <code class="sql">  ) is</code></li>

            <li class="covered" data-hits="269" data-linenumber="833">
              <span class="hits">269</span>
              <code class="sql">    l_line_no t_annotation_position :=  a_annotations.first;</code></li>

            <li class="never" data-hits="" data-linenumber="834">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4525" data-linenumber="835">
              <span class="hits">4525</span>
              <code class="sql">    while l_line_no is not null loop</code></li>

            <li class="covered" data-hits="4256" data-linenumber="836">
              <span class="hits">4256</span>
              <code class="sql">      if a_annotations(l_line_no).name not member of (gc_supported_annotations) then</code></li>

            <li class="covered" data-hits="2" data-linenumber="837">
              <span class="hits">2</span>
              <code class="sql">        add_annotation_ignored_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="838">
            <code class="sql">            a_suite,</code></li>

            <li class="never" data-hits="" data-linenumber="839">
            <code class="sql">            a_annotations(l_line_no).name,</code></li>

            <li class="never" data-hits="" data-linenumber="840">
            <code class="sql">            &apos;Unsupported annotation %%%.&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="841">
            <code class="sql">            l_line_no,</code></li>

            <li class="never" data-hits="" data-linenumber="842">
            <code class="sql">            a_annotations(l_line_no).procedure_name</code></li>

            <li class="never" data-hits="" data-linenumber="843">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="844">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="4256" data-linenumber="845">
              <span class="hits">4256</span>
              <code class="sql">      l_line_no := a_annotations.next(l_line_no);</code></li>

            <li class="never" data-hits="" data-linenumber="846">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="847">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="848">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="849">
            <code class="sql">  function convert_package_annotations(a_object ut_annotated_object) return t_annotations_info is</code></li>

            <li class="never" data-hits="" data-linenumber="850">
            <code class="sql">    l_result          t_annotations_info;</code></li>

            <li class="never" data-hits="" data-linenumber="851">
            <code class="sql">    l_annotation      t_annotation;</code></li>

            <li class="never" data-hits="" data-linenumber="852">
            <code class="sql">    l_annotation_no   binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="853">
            <code class="sql">    l_annotation_pos  binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="854">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="274" data-linenumber="855">
              <span class="hits">274</span>
              <code class="sql">    l_result.owner := a_object.object_owner;</code></li>

            <li class="covered" data-hits="274" data-linenumber="856">
              <span class="hits">274</span>
              <code class="sql">    l_result.name  := lower(trim(a_object.object_name));</code></li>

            <li class="covered" data-hits="274" data-linenumber="857">
              <span class="hits">274</span>
              <code class="sql">    l_result.parse_time := a_object.parse_time;</code></li>

            <li class="covered" data-hits="274" data-linenumber="858">
              <span class="hits">274</span>
              <code class="sql">    l_annotation_no := a_object.annotations.first;</code></li>

            <li class="covered" data-hits="4542" data-linenumber="859">
              <span class="hits">4542</span>
              <code class="sql">    while l_annotation_no is not null loop</code></li>

            <li class="covered" data-hits="4268" data-linenumber="860">
              <span class="hits">4268</span>
              <code class="sql">      l_annotation_pos  := a_object.annotations(l_annotation_no).position;</code></li>

            <li class="covered" data-hits="4268" data-linenumber="861">
              <span class="hits">4268</span>
              <code class="sql">      l_annotation.name := a_object.annotations(l_annotation_no).name;</code></li>

            <li class="covered" data-hits="4268" data-linenumber="862">
              <span class="hits">4268</span>
              <code class="sql">      l_annotation.text := a_object.annotations(l_annotation_no).text;</code></li>

            <li class="covered" data-hits="4268" data-linenumber="863">
              <span class="hits">4268</span>
              <code class="sql">      l_annotation.procedure_name := lower(trim(a_object.annotations(l_annotation_no).subobject_name));</code></li>

            <li class="covered" data-hits="4268" data-linenumber="864">
              <span class="hits">4268</span>
              <code class="sql">      l_result.by_line( l_annotation_pos) := l_annotation;</code></li>

            <li class="covered" data-hits="4268" data-linenumber="865">
              <span class="hits">4268</span>
              <code class="sql">      if l_annotation.procedure_name is null then</code></li>

            <li class="covered" data-hits="1063" data-linenumber="866">
              <span class="hits">1063</span>
              <code class="sql">        l_result.by_name( l_annotation.name)( l_annotation_pos) := l_annotation.text;</code></li>

            <li class="never" data-hits="" data-linenumber="867">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="3205" data-linenumber="868">
              <span class="hits">3205</span>
              <code class="sql">        l_result.by_proc(l_annotation.procedure_name)(l_annotation.name)(l_annotation_pos) := l_annotation.text;</code></li>

            <li class="never" data-hits="" data-linenumber="869">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="4268" data-linenumber="870">
              <span class="hits">4268</span>
              <code class="sql">      l_annotation_no := a_object.annotations.next(l_annotation_no);</code></li>

            <li class="never" data-hits="" data-linenumber="871">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="274" data-linenumber="872">
              <span class="hits">274</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="873">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="874">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="875">
            <code class="sql">  procedure create_suite_item_list( a_annotated_object ut_annotated_object, a_suite_items out nocopy ut_suite_items ) is</code></li>

            <li class="never" data-hits="" data-linenumber="876">
            <code class="sql">    l_annotations      t_annotations_info;</code></li>

            <li class="never" data-hits="" data-linenumber="877">
            <code class="sql">    l_annotation_pos   t_annotation_position;</code></li>

            <li class="never" data-hits="" data-linenumber="878">
            <code class="sql">    l_suite            ut_suite;</code></li>

            <li class="never" data-hits="" data-linenumber="879">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="274" data-linenumber="880">
              <span class="hits">274</span>
              <code class="sql">    l_annotations := convert_package_annotations( a_annotated_object );</code></li>

            <li class="never" data-hits="" data-linenumber="881">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="882">
              <span class="hits">274</span>
              <code class="sql">    if l_annotations.by_name.exists(gc_suite) then</code></li>

            <li class="covered" data-hits="269" data-linenumber="883">
              <span class="hits">269</span>
              <code class="sql">      l_annotation_pos := l_annotations.by_name(gc_suite).first;</code></li>

            <li class="covered" data-hits="269" data-linenumber="884">
              <span class="hits">269</span>
              <code class="sql">      l_suite := ut_suite(l_annotations.owner, l_annotations.name, l_annotation_pos);</code></li>

            <li class="covered" data-hits="269" data-linenumber="885">
              <span class="hits">269</span>
              <code class="sql">      l_suite.description := l_annotations.by_name( gc_suite)( l_annotation_pos);</code></li>

            <li class="covered" data-hits="269" data-linenumber="886">
              <span class="hits">269</span>
              <code class="sql">      l_suite.parse_time  := l_annotations.parse_time;</code></li>

            <li class="covered" data-hits="269" data-linenumber="887">
              <span class="hits">269</span>
              <code class="sql">      warning_on_unknown_annotations(l_suite, l_annotations.by_line);</code></li>

            <li class="never" data-hits="" data-linenumber="888">
            <code class="sql"></code></li>

            <li class="covered" data-hits="269" data-linenumber="889">
              <span class="hits">269</span>
              <code class="sql">      warning_on_duplicate_annot( l_suite, l_annotations.by_name, gc_suite );</code></li>

            <li class="never" data-hits="" data-linenumber="890">
            <code class="sql"></code></li>

            <li class="covered" data-hits="269" data-linenumber="891">
              <span class="hits">269</span>
              <code class="sql">      build_suitepath( l_suite, l_annotations );</code></li>

            <li class="covered" data-hits="267" data-linenumber="892">
              <span class="hits">267</span>
              <code class="sql">      get_suite_contexts_items( l_suite, l_annotations, a_suite_items );</code></li>

            <li class="never" data-hits="" data-linenumber="893">
            <code class="sql">      --create suite tests and add</code></li>

            <li class="covered" data-hits="267" data-linenumber="894">
              <span class="hits">267</span>
              <code class="sql">      add_suite_tests( l_suite, l_annotations, a_suite_items );</code></li>

            <li class="never" data-hits="" data-linenumber="895">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="896">
            <code class="sql">      --by this time all contexts were consumed and l_annotations should not have any context/endcontext annotation in it.</code></li>

            <li class="covered" data-hits="267" data-linenumber="897">
              <span class="hits">267</span>
              <code class="sql">      warning_on_incomplete_context( l_suite, l_annotations.by_name );</code></li>

            <li class="never" data-hits="" data-linenumber="898">
            <code class="sql"></code></li>

            <li class="covered" data-hits="267" data-linenumber="899">
              <span class="hits">267</span>
              <code class="sql">      a_suite_items.extend;</code></li>

            <li class="covered" data-hits="267" data-linenumber="900">
              <span class="hits">267</span>
              <code class="sql">      a_suite_items( a_suite_items.last) := l_suite;</code></li>

            <li class="never" data-hits="" data-linenumber="901">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="902">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="903">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="904">
            <code class="sql">end ut_suite_builder;</code></li>
</ol></pre></div>
    <div class="source_table" id="788A762DC0E68C38BB6BA83990AD321E"><div class="header"> <h3>UT3.UT_SUITE_CACHE_MANAGER</h3><h4><span class="green">96.92 %</span> lines covered</h4><div> <b>65</b> relevant lines. <span class="green"><b>63</b> lines covered</span> and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_suite_cache_manager is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  * Private code</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="23">
              <span class="hits">1</span>
              <code class="sql">  gc_get_cache_suite_sql    constant varchar2(32767) :=</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">    q&apos;[with</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">      suite_items as (</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">        select  /*+ cardinality(c 500) */ value(c) as obj</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">          from ut_suite_cache c</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">         where 1 = 1</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">               and c.object_owner = :l_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">               and ( {:path:}</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">                     and {:object_name:}</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">                     and {:procedure_name:}</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">                   )</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">        )</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">      ),</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">      {:tags:}</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">      suitepaths as (</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">        select distinct substr(c.obj.path,1,instr(c.obj.path,&apos;.&apos;,-1)-1) as suitepath,</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">                        c.obj.path as path,</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">                        c.obj.object_owner as object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">          from {:suite_item_name:} c</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">         where c.obj.self_type = &apos;UT_SUITE&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">      ),</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">        gen as (</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">        select rownum as pos</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">          from xmltable(&apos;1 to 20&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">      ),</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">      suitepath_part AS (</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">        select distinct</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">                        substr(b.suitepath, 1, instr(b.suitepath || &apos;.&apos;, &apos;.&apos;, 1, g.pos) -1) as path,</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">                        object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">          from suitepaths b</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">               join gen g</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">                 on g.pos &lt;= regexp_count(b.suitepath, &apos;\w+&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">      ),</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">      logical_suite_data as (</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">        select &apos;UT_LOGICAL_SUITE&apos; as self_type, p.path, p.object_owner,</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">               upper( substr(p.path, instr( p.path, &apos;.&apos;, -1 ) + 1 ) ) as object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">               cast(null as ut_executables) as x,</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">               cast(null as ut_integer_list) as y,</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">               cast(null as ut_executable_test) as z</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">          from suitepath_part p</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">         where p.path</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">           not in (select s.path from suitepaths s)</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">      ),</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">      logical_suites as (</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">        select ut_suite_cache_row(</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">                 null,</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">                 s.self_type, s.path, s.object_owner, s.object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">                 s.object_name, null, null, null, null, 0,</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">                 ut_varchar2_rows(),</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">                 s.x, s.x, s.x, s.x, s.x, s.x,</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">                 s.y, null, s.z</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">               ) as obj</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">          from logical_suite_data s</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">      ),</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">      items as (</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">        select obj from {:suite_item_name:}</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">        union all</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">        select obj from logical_suites</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">    select c.obj</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">      from items c</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">     order by c.obj.object_owner,{:random_seed:}]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  function get_missing_cache_objects(a_object_owner varchar2) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">    l_result       ut_varchar2_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    l_data         ut_annotation_objs_cache_info;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="301" data-linenumber="90">
              <span class="hits">301</span>
              <code class="sql">    l_data := ut_annotation_cache_manager.get_cached_objects_list(a_object_owner, &apos;PACKAGE&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql"></code></li>

            <li class="covered" data-hits="301" data-linenumber="92">
              <span class="hits">301</span>
              <code class="sql">    select i.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">           bulk collect into l_result</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">      from ut_suite_cache_package i</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">     where not exists (</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">       select 1 from table(l_data) o</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">        where o.object_owner = i.object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">          and o.object_name = i.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">          and o.object_type = &apos;PACKAGE&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">       )</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">       and i.object_owner = a_object_owner;</code></li>

            <li class="covered" data-hits="301" data-linenumber="102">
              <span class="hits">301</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">  function get_path_sql(a_path in varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="215" data-linenumber="108">
              <span class="hits">215</span>
              <code class="sql">    return case when a_path is not null then q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">                      :l_path||&apos;.&apos; like c.path || &apos;.%&apos; /*all children and self*/</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">                     or ( c.path||&apos;.&apos; like :l_path || &apos;.%&apos;  --all parents</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">                            ]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">           else &apos; :l_path is null  and ( :l_path is null &apos; end;</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">  function get_object_name_sql(a_object_name in varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="215" data-linenumber="117">
              <span class="hits">215</span>
              <code class="sql">    return case when a_object_name is not null</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">      then &apos; c.object_name = :a_object_name &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">           else &apos; :a_object_name is null&apos; end;</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">  function get_procedure_name_sql(a_procedure_name in varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="215" data-linenumber="124">
              <span class="hits">215</span>
              <code class="sql">    return case when a_procedure_name is not null</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">      then &apos; c.name = :a_procedure_name&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">           else &apos; :a_procedure_name is null&apos; end;</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">  function get_tags_sql(a_tags_count in integer) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="215" data-linenumber="131">
              <span class="hits">215</span>
              <code class="sql">    return case when a_tags_count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">      q&apos;[filter_tags as (</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">        select c.obj.path as path</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">          from suite_items c</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">         where c.obj.tags multiset intersect :a_tag_list is not empty</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">      ),</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">       suite_items_tags as (</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">       select c.*</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">         from suite_items c</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">        where exists (</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">          select 1 from filter_tags t</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">           where t.path||&apos;.&apos; like c.obj.path || &apos;.%&apos; /*all children and self*/</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">              or c.obj.path||&apos;.&apos; like t.path || &apos;.%&apos;  --all parents</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">       ),]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">           else</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">             q&apos;[dummy as (select &apos;x&apos; from dual where :a_tag_list is null ),]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">           end;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  function get_random_seed_sql(a_random_seed positive) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="215" data-linenumber="153">
              <span class="hits">215</span>
              <code class="sql">    return case</code></li>

            <li class="covered" data-hits="1" data-linenumber="154">
              <span class="hits">1</span>
              <code class="sql">           when a_random_seed is null then q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">              replace(</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">                case</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">                  when c.obj.self_type in ( &apos;UT_TEST&apos; )</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">                    then substr(c.obj.path, 1, instr(c.obj.path, &apos;.&apos;, -1) )</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">                    else c.obj.path</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">                end, &apos;.&apos;, chr(0)</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">              ) desc nulls last,</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">              c.obj.object_name desc,</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">              c.obj.line_no,</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">              :a_random_seed]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">           else</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">             &apos; ut_runner.hash_suite_path(</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">               c.obj.path, :a_random_seed</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">             ) desc nulls last&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">           end;</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">  * Public code</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">  function get_cached_suite_rows(</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">    a_object_owner     varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">    a_path             varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">    a_object_name      varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">    a_procedure_name   varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">    a_random_seed      positive := null,</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">    a_tags             ut_varchar2_rows := null</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">  ) return ut_suite_cache_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">    l_path            varchar2(4000);</code></li>

            <li class="covered" data-hits="215" data-linenumber="186">
              <span class="hits">215</span>
              <code class="sql">    l_results         ut_suite_cache_rows := ut_suite_cache_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">    l_sql             varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">    l_suite_item_name varchar2(20);</code></li>

            <li class="covered" data-hits="215" data-linenumber="189">
              <span class="hits">215</span>
              <code class="sql">    l_tags            ut_varchar2_rows := coalesce(a_tags,ut_varchar2_rows());</code></li>

            <li class="covered" data-hits="215" data-linenumber="190">
              <span class="hits">215</span>
              <code class="sql">    l_object_owner    varchar2(250) := ut_utils.qualified_sql_name(a_object_owner);</code></li>

            <li class="covered" data-hits="215" data-linenumber="191">
              <span class="hits">215</span>
              <code class="sql">    l_object_name     varchar2(250) := ut_utils.qualified_sql_name(a_object_name);</code></li>

            <li class="covered" data-hits="215" data-linenumber="192">
              <span class="hits">215</span>
              <code class="sql">    l_procedure_name  varchar2(250) := ut_utils.qualified_sql_name(a_procedure_name);</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="215" data-linenumber="194">
              <span class="hits">215</span>
              <code class="sql">    if a_path is null and a_object_name is not null then</code></li>

            <li class="covered" data-hits="165" data-linenumber="195">
              <span class="hits">165</span>
              <code class="sql">      select min(c.path)</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">             into l_path</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">        from ut_suite_cache c</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">       where c.object_owner = upper(l_object_owner)</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">         and c.object_name = upper(l_object_name)</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">         and c.name = nvl(upper(l_procedure_name), c.name);</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="50" data-linenumber="202">
              <span class="hits">50</span>
              <code class="sql">        l_path := lower(ut_utils.qualified_sql_name(a_path));</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="215" data-linenumber="204">
              <span class="hits">215</span>
              <code class="sql">    l_suite_item_name := case when l_tags.count &gt; 0 then &apos;suite_items_tags&apos; else &apos;suite_items&apos; end;</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql"></code></li>

            <li class="covered" data-hits="215" data-linenumber="206">
              <span class="hits">215</span>
              <code class="sql">    l_sql := gc_get_cache_suite_sql;</code></li>

            <li class="covered" data-hits="215" data-linenumber="207">
              <span class="hits">215</span>
              <code class="sql">    l_sql := replace(l_sql,&apos;{:suite_item_name:}&apos;,l_suite_item_name);</code></li>

            <li class="covered" data-hits="215" data-linenumber="208">
              <span class="hits">215</span>
              <code class="sql">    l_sql := replace(l_sql,&apos;{:object_owner:}&apos;,upper(l_object_owner));</code></li>

            <li class="covered" data-hits="215" data-linenumber="209">
              <span class="hits">215</span>
              <code class="sql">    l_sql := replace(l_sql,&apos;{:path:}&apos;,get_path_sql(l_path));</code></li>

            <li class="covered" data-hits="215" data-linenumber="210">
              <span class="hits">215</span>
              <code class="sql">    l_sql := replace(l_sql,&apos;{:object_name:}&apos;,get_object_name_sql(l_object_name));</code></li>

            <li class="covered" data-hits="215" data-linenumber="211">
              <span class="hits">215</span>
              <code class="sql">    l_sql := replace(l_sql,&apos;{:procedure_name:}&apos;,get_procedure_name_sql(l_procedure_name));</code></li>

            <li class="covered" data-hits="215" data-linenumber="212">
              <span class="hits">215</span>
              <code class="sql">    l_sql := replace(l_sql,&apos;{:tags:}&apos;,get_tags_sql(l_tags.count));</code></li>

            <li class="covered" data-hits="215" data-linenumber="213">
              <span class="hits">215</span>
              <code class="sql">    l_sql := replace(l_sql,&apos;{:random_seed:}&apos;,get_random_seed_sql(a_random_seed));</code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql"></code></li>

            <li class="covered" data-hits="215" data-linenumber="215">
              <span class="hits">215</span>
              <code class="sql">    ut_event_manager.trigger_event(ut_event_manager.gc_debug, ut_key_anyvalues().put(&apos;l_sql&apos;,l_sql) );</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql"></code></li>

            <li class="covered" data-hits="215" data-linenumber="217">
              <span class="hits">215</span>
              <code class="sql">    execute immediate l_sql</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">      bulk collect into l_results</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">      using upper(l_object_owner), l_path, l_path, upper(a_object_name), upper(a_procedure_name), l_tags, a_random_seed;</code></li>

            <li class="covered" data-hits="215" data-linenumber="220">
              <span class="hits">215</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">  function get_schema_parse_time(a_schema_name varchar2) return timestamp result_cache is</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">    l_cache_parse_time timestamp;</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="302" data-linenumber="226">
              <span class="hits">302</span>
              <code class="sql">    select min(t.parse_time)</code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">      into l_cache_parse_time</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">      from ut_suite_cache_schema t</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">     where object_owner = upper(a_schema_name);</code></li>

            <li class="covered" data-hits="302" data-linenumber="230">
              <span class="hits">302</span>
              <code class="sql">    return l_cache_parse_time;</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">  procedure save_object_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql">    a_object_owner varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">    a_object_name  varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">    a_parse_time   timestamp,</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">    a_suite_items ut_suite_items</code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">    l_cached_parse_time timestamp;</code></li>

            <li class="covered" data-hits="274" data-linenumber="241">
              <span class="hits">274</span>
              <code class="sql">    l_object_owner      varchar2(250) := upper(a_object_owner);</code></li>

            <li class="covered" data-hits="274" data-linenumber="242">
              <span class="hits">274</span>
              <code class="sql">    l_object_name       varchar2(250) := upper(a_object_name);</code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="274" data-linenumber="244">
              <span class="hits">274</span>
              <code class="sql">    if a_suite_items is not null and a_suite_items.count = 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql"></code></li>

            <li class="missed" data-hits="0" data-linenumber="246">
              <code class="sql">      delete from ut_suite_cache t</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">       where t.object_owner = l_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">         and t.object_name = l_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql"></code></li>

            <li class="missed" data-hits="0" data-linenumber="250">
              <code class="sql">      delete from ut_suite_cache_package t</code></li>

            <li class="never" data-hits="" data-linenumber="251">
            <code class="sql">       where t.object_owner = l_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql">         and t.object_name = l_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">    else</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="256">
              <span class="hits">274</span>
              <code class="sql">      select min(parse_time)</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">        into l_cached_parse_time</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">        from ut_suite_cache_package t</code></li>

            <li class="never" data-hits="" data-linenumber="259">
            <code class="sql">       where t.object_name = l_object_name</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">         and t.object_owner = l_object_owner;</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="262">
              <span class="hits">274</span>
              <code class="sql">      if a_parse_time &gt; l_cached_parse_time or l_cached_parse_time is null then</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="264">
              <span class="hits">274</span>
              <code class="sql">        update ut_suite_cache_schema t</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">           set t.parse_time = a_parse_time</code></li>

            <li class="never" data-hits="" data-linenumber="266">
            <code class="sql">         where object_owner = l_object_owner;</code></li>

            <li class="never" data-hits="" data-linenumber="267">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="268">
              <span class="hits">274</span>
              <code class="sql">        if sql%rowcount = 0 then</code></li>

            <li class="covered" data-hits="4" data-linenumber="269">
              <span class="hits">4</span>
              <code class="sql">          insert into ut_suite_cache_schema</code></li>

            <li class="never" data-hits="" data-linenumber="270">
            <code class="sql">            (object_owner, parse_time)</code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">          values (l_object_owner, a_parse_time);</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="274">
              <span class="hits">274</span>
              <code class="sql">        update ut_suite_cache_package t</code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql">           set t.parse_time = a_parse_time</code></li>

            <li class="never" data-hits="" data-linenumber="276">
            <code class="sql">         where t.object_owner = l_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">           and t.object_name = l_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="278">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="279">
              <span class="hits">274</span>
              <code class="sql">        if sql%rowcount = 0 then</code></li>

            <li class="covered" data-hits="111" data-linenumber="280">
              <span class="hits">111</span>
              <code class="sql">          insert into ut_suite_cache_package</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql">            (object_owner, object_name, parse_time)</code></li>

            <li class="never" data-hits="" data-linenumber="282">
            <code class="sql">          values (l_object_owner, l_object_name, a_parse_time );</code></li>

            <li class="never" data-hits="" data-linenumber="283">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="285">
              <span class="hits">274</span>
              <code class="sql">        delete from ut_suite_cache t</code></li>

            <li class="never" data-hits="" data-linenumber="286">
            <code class="sql">        where t.object_owner = l_object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="287">
            <code class="sql">          and t.object_name  = l_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="288">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="289">
              <span class="hits">274</span>
              <code class="sql">        insert into ut_suite_cache t</code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">            (</code></li>

            <li class="never" data-hits="" data-linenumber="291">
            <code class="sql">                id, self_type, path, object_owner, object_name, name,</code></li>

            <li class="never" data-hits="" data-linenumber="292">
            <code class="sql">                line_no, parse_time, description,</code></li>

            <li class="never" data-hits="" data-linenumber="293">
            <code class="sql">                rollback_type, disabled_flag, warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="294">
            <code class="sql">                before_all_list, after_all_list,</code></li>

            <li class="never" data-hits="" data-linenumber="295">
            <code class="sql">                before_each_list, after_each_list,</code></li>

            <li class="never" data-hits="" data-linenumber="296">
            <code class="sql">                before_test_list, after_test_list,</code></li>

            <li class="never" data-hits="" data-linenumber="297">
            <code class="sql">                expected_error_codes, tags,</code></li>

            <li class="never" data-hits="" data-linenumber="298">
            <code class="sql">                item</code></li>

            <li class="never" data-hits="" data-linenumber="299">
            <code class="sql">            )</code></li>

            <li class="never" data-hits="" data-linenumber="300">
            <code class="sql">          with suites as (</code></li>

            <li class="never" data-hits="" data-linenumber="301">
            <code class="sql">               select treat(value(x) as ut_suite) i</code></li>

            <li class="never" data-hits="" data-linenumber="302">
            <code class="sql">                 from table(a_suite_items) x</code></li>

            <li class="never" data-hits="" data-linenumber="303">
            <code class="sql">                where x.self_type in( &apos;UT_SUITE&apos;, &apos;UT_SUITE_CONTEXT&apos; ) )</code></li>

            <li class="never" data-hits="" data-linenumber="304">
            <code class="sql">          select ut_suite_cache_seq.nextval, s.i.self_type as self_type, s.i.path as path,</code></li>

            <li class="never" data-hits="" data-linenumber="305">
            <code class="sql">                 upper(s.i.object_owner) as object_owner, upper(s.i.object_name) as object_name, upper(s.i.name) as name,</code></li>

            <li class="never" data-hits="" data-linenumber="306">
            <code class="sql">                 s.i.line_no as line_no, s.i.parse_time as parse_time, s.i.description as description,</code></li>

            <li class="never" data-hits="" data-linenumber="307">
            <code class="sql">                 s.i.rollback_type as rollback_type, s.i.disabled_flag as disabled_flag, s.i.warnings as warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="308">
            <code class="sql">                 s.i.before_all_list as before_all_list, s.i.after_all_list as after_all_list,</code></li>

            <li class="never" data-hits="" data-linenumber="309">
            <code class="sql">                 null before_each_list, null after_each_list,</code></li>

            <li class="never" data-hits="" data-linenumber="310">
            <code class="sql">                 null before_test_list, null after_test_list,</code></li>

            <li class="never" data-hits="" data-linenumber="311">
            <code class="sql">                 null expected_error_codes, s.i.tags tags,</code></li>

            <li class="never" data-hits="" data-linenumber="312">
            <code class="sql">                 null item</code></li>

            <li class="never" data-hits="" data-linenumber="313">
            <code class="sql">          from suites s;</code></li>

            <li class="never" data-hits="" data-linenumber="314">
            <code class="sql"></code></li>

            <li class="covered" data-hits="274" data-linenumber="315">
              <span class="hits">274</span>
              <code class="sql">        insert into ut_suite_cache t</code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql">          (</code></li>

            <li class="never" data-hits="" data-linenumber="317">
            <code class="sql">            id, self_type, path, object_owner, object_name, name,</code></li>

            <li class="never" data-hits="" data-linenumber="318">
            <code class="sql">            line_no, parse_time, description,</code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">            rollback_type, disabled_flag, warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="320">
            <code class="sql">            before_all_list, after_all_list,</code></li>

            <li class="never" data-hits="" data-linenumber="321">
            <code class="sql">            before_each_list, after_each_list,</code></li>

            <li class="never" data-hits="" data-linenumber="322">
            <code class="sql">            before_test_list, after_test_list,</code></li>

            <li class="never" data-hits="" data-linenumber="323">
            <code class="sql">            expected_error_codes, tags,</code></li>

            <li class="never" data-hits="" data-linenumber="324">
            <code class="sql">            item</code></li>

            <li class="never" data-hits="" data-linenumber="325">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="326">
            <code class="sql">          with tests as (</code></li>

            <li class="never" data-hits="" data-linenumber="327">
            <code class="sql">               select treat(value(x) as ut_test) t</code></li>

            <li class="never" data-hits="" data-linenumber="328">
            <code class="sql">                 from table ( a_suite_items ) x</code></li>

            <li class="never" data-hits="" data-linenumber="329">
            <code class="sql">                where x.self_type in ( &apos;UT_TEST&apos; ) )</code></li>

            <li class="never" data-hits="" data-linenumber="330">
            <code class="sql">        select ut_suite_cache_seq.nextval, s.t.self_type as self_type, s.t.path as path,</code></li>

            <li class="never" data-hits="" data-linenumber="331">
            <code class="sql">               upper(s.t.object_owner) as object_owner, upper(s.t.object_name) as object_name, upper(s.t.name) as name,</code></li>

            <li class="never" data-hits="" data-linenumber="332">
            <code class="sql">               s.t.line_no as line_no, s.t.parse_time as parse_time, s.t.description as description,</code></li>

            <li class="never" data-hits="" data-linenumber="333">
            <code class="sql">               s.t.rollback_type as rollback_type, s.t.disabled_flag as disabled_flag, s.t.warnings as warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="334">
            <code class="sql">               null before_all_list, null after_all_list,</code></li>

            <li class="never" data-hits="" data-linenumber="335">
            <code class="sql">               s.t.before_each_list as before_each_list, s.t.after_each_list as after_each_list,</code></li>

            <li class="never" data-hits="" data-linenumber="336">
            <code class="sql">               s.t.before_test_list as before_test_list, s.t.after_test_list as after_test_list,</code></li>

            <li class="never" data-hits="" data-linenumber="337">
            <code class="sql">               s.t.expected_error_codes as expected_error_codes, s.t.tags as test_tags,</code></li>

            <li class="never" data-hits="" data-linenumber="338">
            <code class="sql">               s.t.item as item</code></li>

            <li class="never" data-hits="" data-linenumber="339">
            <code class="sql">          from tests s;</code></li>

            <li class="never" data-hits="" data-linenumber="340">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="341">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="342">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="274" data-linenumber="343">
              <span class="hits">274</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="344">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="345">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="346">
            <code class="sql">  procedure remove_missing_objs_from_cache(a_schema_name varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="347">
            <code class="sql">    l_objects ut_varchar2_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="348">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="349">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="301" data-linenumber="350">
              <span class="hits">301</span>
              <code class="sql">    l_objects := get_missing_cache_objects(a_schema_name);</code></li>

            <li class="never" data-hits="" data-linenumber="351">
            <code class="sql"></code></li>

            <li class="covered" data-hits="301" data-linenumber="352">
              <span class="hits">301</span>
              <code class="sql">    if l_objects is not empty then</code></li>

            <li class="covered" data-hits="36" data-linenumber="353">
              <span class="hits">36</span>
              <code class="sql">      delete from ut_suite_cache i</code></li>

            <li class="never" data-hits="" data-linenumber="354">
            <code class="sql">       where i.object_owner = a_schema_name</code></li>

            <li class="never" data-hits="" data-linenumber="355">
            <code class="sql">         and i.object_name in ( select column_value from table (l_objects) );</code></li>

            <li class="never" data-hits="" data-linenumber="356">
            <code class="sql"></code></li>

            <li class="covered" data-hits="36" data-linenumber="357">
              <span class="hits">36</span>
              <code class="sql">      delete from ut_suite_cache_package i</code></li>

            <li class="never" data-hits="" data-linenumber="358">
            <code class="sql">       where i.object_owner = a_schema_name</code></li>

            <li class="never" data-hits="" data-linenumber="359">
            <code class="sql">         and i.object_name in ( select column_value from table (l_objects) );</code></li>

            <li class="never" data-hits="" data-linenumber="360">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="361">
            <code class="sql"></code></li>

            <li class="covered" data-hits="301" data-linenumber="362">
              <span class="hits">301</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="363">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="364">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="365">
            <code class="sql">  function get_cached_suite_info(</code></li>

            <li class="never" data-hits="" data-linenumber="366">
            <code class="sql">    a_object_owner     varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="367">
            <code class="sql">    a_object_name      varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="368">
            <code class="sql">  ) return ut_suite_items_info is</code></li>

            <li class="never" data-hits="" data-linenumber="369">
            <code class="sql">    l_cache_rows   ut_suite_cache_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="370">
            <code class="sql">    l_results      ut_suite_items_info;</code></li>

            <li class="never" data-hits="" data-linenumber="371">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="372">
              <span class="hits">3</span>
              <code class="sql">    l_cache_rows := get_cached_suite_rows( a_object_owner =&gt; a_object_owner, a_object_name =&gt;a_object_name );</code></li>

            <li class="covered" data-hits="2" data-linenumber="373">
              <span class="hits">2</span>
              <code class="sql">    select ut_suite_item_info(</code></li>

            <li class="never" data-hits="" data-linenumber="374">
            <code class="sql">             c.object_owner, c.object_name, c.name,</code></li>

            <li class="never" data-hits="" data-linenumber="375">
            <code class="sql">             c.description, c.self_type, c.line_no,</code></li>

            <li class="never" data-hits="" data-linenumber="376">
            <code class="sql">             c.path, c.disabled_flag, c.tags</code></li>

            <li class="never" data-hits="" data-linenumber="377">
            <code class="sql">             )</code></li>

            <li class="never" data-hits="" data-linenumber="378">
            <code class="sql">      bulk collect into l_results</code></li>

            <li class="never" data-hits="" data-linenumber="379">
            <code class="sql">      from table(l_cache_rows) c;</code></li>

            <li class="never" data-hits="" data-linenumber="380">
            <code class="sql"></code></li>

            <li class="covered" data-hits="3" data-linenumber="381">
              <span class="hits">3</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="382">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="383">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="384">
            <code class="sql">  function get_cached_packages(</code></li>

            <li class="never" data-hits="" data-linenumber="385">
            <code class="sql">    a_schema_names ut_varchar2_rows</code></li>

            <li class="never" data-hits="" data-linenumber="386">
            <code class="sql">  ) return ut_object_names is</code></li>

            <li class="never" data-hits="" data-linenumber="387">
            <code class="sql">    l_results ut_object_names;</code></li>

            <li class="never" data-hits="" data-linenumber="388">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="389">
              <span class="hits">116</span>
              <code class="sql">    select ut_object_name( c.object_owner, c.object_name )</code></li>

            <li class="never" data-hits="" data-linenumber="390">
            <code class="sql">      bulk collect into l_results</code></li>

            <li class="never" data-hits="" data-linenumber="391">
            <code class="sql">      from ut_suite_cache_package c</code></li>

            <li class="never" data-hits="" data-linenumber="392">
            <code class="sql">      join table ( a_schema_names ) s</code></li>

            <li class="never" data-hits="" data-linenumber="393">
            <code class="sql">        on c.object_owner = upper(s.column_value);</code></li>

            <li class="covered" data-hits="117" data-linenumber="394">
              <span class="hits">117</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="395">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="396">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="397">
            <code class="sql">  function suite_item_exists(</code></li>

            <li class="never" data-hits="" data-linenumber="398">
            <code class="sql">    a_owner_name     varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="399">
            <code class="sql">    a_package_name   varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="400">
            <code class="sql">    a_procedure_name varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="401">
            <code class="sql">  ) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="402">
            <code class="sql">    l_count integer;</code></li>

            <li class="never" data-hits="" data-linenumber="403">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="12" data-linenumber="404">
              <span class="hits">12</span>
              <code class="sql">    if a_procedure_name is not null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="405">
              <span class="hits">4</span>
              <code class="sql">      select count( 1 ) into l_count from dual</code></li>

            <li class="never" data-hits="" data-linenumber="406">
            <code class="sql">       where exists(</code></li>

            <li class="never" data-hits="" data-linenumber="407">
            <code class="sql">               select 1</code></li>

            <li class="never" data-hits="" data-linenumber="408">
            <code class="sql">                 from ut_suite_cache c</code></li>

            <li class="never" data-hits="" data-linenumber="409">
            <code class="sql">                where c.object_owner = a_owner_name</code></li>

            <li class="never" data-hits="" data-linenumber="410">
            <code class="sql">                  and c.object_name = a_package_name</code></li>

            <li class="never" data-hits="" data-linenumber="411">
            <code class="sql">                  and c.name = a_procedure_name</code></li>

            <li class="never" data-hits="" data-linenumber="412">
            <code class="sql">               );</code></li>

            <li class="covered" data-hits="8" data-linenumber="413">
              <span class="hits">8</span>
              <code class="sql">    elsif a_package_name is not null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="414">
              <span class="hits">4</span>
              <code class="sql">      select count( 1 ) into l_count from dual</code></li>

            <li class="never" data-hits="" data-linenumber="415">
            <code class="sql">       where exists(</code></li>

            <li class="never" data-hits="" data-linenumber="416">
            <code class="sql">               select 1</code></li>

            <li class="never" data-hits="" data-linenumber="417">
            <code class="sql">                 from ut_suite_cache c</code></li>

            <li class="never" data-hits="" data-linenumber="418">
            <code class="sql">                where c.object_owner = a_owner_name</code></li>

            <li class="never" data-hits="" data-linenumber="419">
            <code class="sql">                  and c.object_name = a_package_name</code></li>

            <li class="never" data-hits="" data-linenumber="420">
            <code class="sql">               );</code></li>

            <li class="never" data-hits="" data-linenumber="421">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="4" data-linenumber="422">
              <span class="hits">4</span>
              <code class="sql">      select count( 1 ) into l_count from dual</code></li>

            <li class="never" data-hits="" data-linenumber="423">
            <code class="sql">       where exists(</code></li>

            <li class="never" data-hits="" data-linenumber="424">
            <code class="sql">               select 1</code></li>

            <li class="never" data-hits="" data-linenumber="425">
            <code class="sql">                 from ut_suite_cache c</code></li>

            <li class="never" data-hits="" data-linenumber="426">
            <code class="sql">                where c.object_owner = a_owner_name</code></li>

            <li class="never" data-hits="" data-linenumber="427">
            <code class="sql">               );</code></li>

            <li class="never" data-hits="" data-linenumber="428">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="429">
            <code class="sql"></code></li>

            <li class="covered" data-hits="12" data-linenumber="430">
              <span class="hits">12</span>
              <code class="sql">    return l_count &gt; 0;</code></li>

            <li class="never" data-hits="" data-linenumber="431">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="432">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="433">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="B030D85FA8089E413FDD348DB8459404"><div class="header"> <h3>UT3.UT_SUITE_MANAGER</h3><h4><span class="green">94.68 %</span> lines covered</h4><div> <b>188</b> relevant lines. <span class="green"><b>178</b> lines covered</span> (including <span class="yellow"><b>3</b> lines partially covered</span> ) and <span class="red"><b>10</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_suite_manager is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="19">
              <span class="hits">1</span>
              <code class="sql">  gc_suitpath_error_message constant varchar2(100) := &apos;Suitepath exceeds 1000 CHAR on: &apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  type t_path_item is record (</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">    object_name    varchar2(250),</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">    procedure_name varchar2(250),</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">    suite_path     varchar2(4000)</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  );</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  type t_path_items is table of t_path_item;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  type t_schema_paths is table of t_path_items index by varchar2(250 char);</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="missed" data-hits="0" data-linenumber="29">
              <code class="sql">  cursor c_cached_suites_cursor is select * from table(ut_suite_cache_rows());</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  type tt_cached_suites         is table of c_cached_suites_cursor%rowtype;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  type t_cached_suites_cursor   is ref cursor return c_cached_suites_cursor%rowtype;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  type t_item_levels is table of ut_suite_items index by binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  ------------------</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  procedure validate_paths(a_paths in ut_varchar2_list) is</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    l_path varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="263" data-linenumber="39">
              <span class="hits">263</span>
              <code class="sql">    if a_paths is null or a_paths.count = 0 then</code></li>

            <li class="missed" data-hits="0" data-linenumber="40">
              <code class="sql">      raise_application_error(ut_utils.gc_path_list_is_empty, &apos;Path list is empty&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="548" data-linenumber="42">
              <span class="hits">548</span>
              <code class="sql">      for i in 1 .. a_paths.count loop</code></li>

            <li class="covered" data-hits="285" data-linenumber="43">
              <span class="hits">285</span>
              <code class="sql">        l_path := a_paths(i);</code></li>

            <li class="covered" data-hits="285" data-linenumber="44">
              <span class="hits">285</span>
              <code class="sql">        if l_path is null or not (regexp_like(l_path, &apos;^[A-Za-z0-9$#_]+(\.[A-Za-z0-9$#_]+){0,2}$&apos;) or regexp_like(l_path, &apos;^([A-Za-z0-9$#_]+)?:[A-Za-z0-9$#_]+(\.[A-Za-z0-9$#_]+)*$&apos;)) then</code></li>

            <li class="missed" data-hits="0" data-linenumber="45">
              <code class="sql">          raise_application_error(ut_utils.gc_invalid_path_format, &apos;Invalid path format: &apos; || nvl(l_path, &apos;NULL&apos;));</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  function trim_and_lower_paths( a_paths ut_varchar2_list) return ut_varchar2_list is</code></li>

            <li class="covered" data-hits="263" data-linenumber="52">
              <span class="hits">263</span>
              <code class="sql">    l_paths_temp ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="263" data-linenumber="54">
              <span class="hits">263</span>
              <code class="sql">    l_paths_temp.extend(a_paths.count);</code></li>

            <li class="covered" data-hits="548" data-linenumber="55">
              <span class="hits">548</span>
              <code class="sql">    for i in 1 .. a_paths.count loop</code></li>

            <li class="covered" data-hits="285" data-linenumber="56">
              <span class="hits">285</span>
              <code class="sql">      l_paths_temp(i) := trim(lower(a_paths(i)));</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="263" data-linenumber="58">
              <span class="hits">263</span>
              <code class="sql">    return l_paths_temp;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  function resolve_schema_names(a_paths in out nocopy ut_varchar2_list) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">    l_schema          varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    l_object          varchar2(4000);</code></li>

            <li class="covered" data-hits="263" data-linenumber="64">
              <span class="hits">263</span>
              <code class="sql">    l_schema_names    ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="covered" data-hits="263" data-linenumber="65">
              <span class="hits">263</span>
              <code class="sql">    c_current_schema  constant all_tables.owner%type := sys_context(&apos;USERENV&apos;,&apos;CURRENT_SCHEMA&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="263" data-linenumber="67">
              <span class="hits">263</span>
              <code class="sql">    a_paths := set( trim_and_lower_paths( a_paths) );</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql"></code></li>

            <li class="covered" data-hits="263" data-linenumber="69">
              <span class="hits">263</span>
              <code class="sql">    validate_paths(a_paths);</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql"></code></li>

            <li class="covered" data-hits="547" data-linenumber="71">
              <span class="hits">547</span>
              <code class="sql">    for i in 1 .. a_paths.count loop</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">      --if path is suite-path</code></li>

            <li class="covered" data-hits="285" data-linenumber="73">
              <span class="hits">285</span>
              <code class="sql">      if regexp_like(a_paths(i), &apos;^([A-Za-z0-9$#_]+)?:&apos;) then</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">      --get schema name / path</code></li>

            <li class="covered" data-hits="34" data-linenumber="75">
              <span class="hits">34</span>
              <code class="sql">        l_schema := regexp_substr(a_paths(i), &apos;^([A-Za-z0-9$#_]+)?:&apos;,subexpression =&gt; 1);</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">        -- transform &quot;:path1[.path2]&quot; to &quot;schema:path1[.path2]&quot;</code></li>

            <li class="covered" data-hits="34" data-linenumber="77">
              <span class="hits">34</span>
              <code class="sql">        if l_schema is not null then</code></li>

            <li class="covered" data-hits="6" data-linenumber="78">
              <span class="hits">6</span>
              <code class="sql">          l_schema := sys.dbms_assert.schema_name(upper(l_schema));</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="28" data-linenumber="80">
              <span class="hits">28</span>
              <code class="sql">          a_paths(i)   := c_current_schema || a_paths(i);</code></li>

            <li class="covered" data-hits="28" data-linenumber="81">
              <span class="hits">28</span>
              <code class="sql">          l_schema     := c_current_schema;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">      else</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">        -- get schema name / object.[procedure] name</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">        -- When path is one of: schema or schema.package[.object] or package[.object]</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">        -- transform it back to schema[.package[.object]]</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">        begin</code></li>

            <li class="covered" data-hits="251" data-linenumber="88">
              <span class="hits">251</span>
              <code class="sql">          l_object := regexp_substr(a_paths(i), &apos;^[A-Za-z0-9$#_]+&apos;);</code></li>

            <li class="covered" data-hits="251" data-linenumber="89">
              <span class="hits">251</span>
              <code class="sql">          l_schema := sys.dbms_assert.schema_name(upper(l_object));</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">        exception</code></li>

            <li class="covered" data-hits="270" data-linenumber="91">
              <span class="hits">270</span>
              <code class="sql">          when sys.dbms_assert.invalid_schema_name then</code></li>

            <li class="covered" data-hits="135" data-linenumber="92">
              <span class="hits">135</span>
              <code class="sql">            if ut_metadata.package_exists_in_cur_schema(upper(l_object)) then</code></li>

            <li class="covered" data-hits="134" data-linenumber="93">
              <span class="hits">134</span>
              <code class="sql">              a_paths(i) := c_current_schema || &apos;.&apos; || a_paths(i);</code></li>

            <li class="covered" data-hits="134" data-linenumber="94">
              <span class="hits">134</span>
              <code class="sql">              l_schema := c_current_schema;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">            else</code></li>

            <li class="covered" data-hits="1" data-linenumber="96">
              <span class="hits">1</span>
              <code class="sql">              raise;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">            end if;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">        end;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="284" data-linenumber="100">
              <span class="hits">284</span>
              <code class="sql">      l_schema_names.extend;</code></li>

            <li class="covered" data-hits="284" data-linenumber="101">
              <span class="hits">284</span>
              <code class="sql">      l_schema_names(l_schema_names.last) := l_schema;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql"></code></li>

            <li class="covered" data-hits="262" data-linenumber="104">
              <span class="hits">262</span>
              <code class="sql">    return l_schema_names;</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">  procedure resolve_schema_names(a_paths in out nocopy ut_varchar2_list) is</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">    l_schema_names    ut_varchar2_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="148" data-linenumber="110">
              <span class="hits">148</span>
              <code class="sql">    l_schema_names := resolve_schema_names(a_paths);</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  function group_paths_by_schema(a_paths ut_varchar2_list) return t_schema_paths is</code></li>

            <li class="covered" data-hits="147" data-linenumber="114">
              <span class="hits">147</span>
              <code class="sql">    c_package_path_regex constant varchar2(100) := &apos;^([A-Za-z0-9$#_]+)(\.([A-Za-z0-9$#_]+))?(\.([A-Za-z0-9$#_]+))?$&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">    l_schema             varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">    l_empty_result       t_path_item;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">    l_result             t_path_item;</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">    l_results            t_schema_paths;</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="305" data-linenumber="120">
              <span class="hits">305</span>
              <code class="sql">    for i in 1 .. a_paths.count loop</code></li>

            <li class="covered" data-hits="158" data-linenumber="121">
              <span class="hits">158</span>
              <code class="sql">      l_result := l_empty_result;</code></li>

            <li class="covered" data-hits="158" data-linenumber="122">
              <span class="hits">158</span>
              <code class="sql">      if a_paths(i) like &apos;%:%&apos; then</code></li>

            <li class="covered" data-hits="23" data-linenumber="123">
              <span class="hits">23</span>
              <code class="sql">        l_schema := upper(regexp_substr(a_paths(i),&apos;^[^.:]+&apos;));</code></li>

            <li class="covered" data-hits="23" data-linenumber="124">
              <span class="hits">23</span>
              <code class="sql">        l_result.suite_path := ltrim(regexp_substr(a_paths(i),&apos;[.:].*$&apos;),&apos;:&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="135" data-linenumber="126">
              <span class="hits">135</span>
              <code class="sql">        l_schema := regexp_substr(a_paths(i), c_package_path_regex, subexpression =&gt; 1);</code></li>

            <li class="covered" data-hits="135" data-linenumber="127">
              <span class="hits">135</span>
              <code class="sql">        l_result.object_name   := regexp_substr(a_paths(i), c_package_path_regex, subexpression =&gt; 3);</code></li>

            <li class="covered" data-hits="135" data-linenumber="128">
              <span class="hits">135</span>
              <code class="sql">        l_result.procedure_name := regexp_substr(a_paths(i), c_package_path_regex, subexpression =&gt; 5);</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="158" data-linenumber="130">
              <span class="hits">158</span>
              <code class="sql">      if l_results.exists(l_schema) then</code></li>

            <li class="covered" data-hits="11" data-linenumber="131">
              <span class="hits">11</span>
              <code class="sql">        l_results(l_schema).extend;</code></li>

            <li class="covered" data-hits="11" data-linenumber="132">
              <span class="hits">11</span>
              <code class="sql">        l_results(l_schema)(l_results(l_schema).last) := l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="147" data-linenumber="134">
              <span class="hits">147</span>
              <code class="sql">        l_results(l_schema) := t_path_items(l_result);</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="147" data-linenumber="137">
              <span class="hits">147</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">  function sort_by_seq_no(</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">    a_list ut_executables</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">  ) return ut_executables is</code></li>

            <li class="covered" data-hits="3302" data-linenumber="144">
              <span class="hits">3302</span>
              <code class="sql">    l_results ut_executables := ut_executables();</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3302" data-linenumber="146">
              <span class="hits">3302</span>
              <code class="sql">    if a_list is not null then</code></li>

            <li class="covered" data-hits="3302" data-linenumber="147">
              <span class="hits">3302</span>
              <code class="sql">      l_results.extend(a_list.count);</code></li>

            <li class="covered" data-hits="3856" data-linenumber="148">
              <span class="hits">3856</span>
              <code class="sql">      for i in 1 .. a_list.count loop</code></li>

            <li class="covered" data-hits="554" data-linenumber="149">
              <span class="hits">554</span>
              <code class="sql">        l_results(a_list(i).seq_no) := a_list(i);</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="3302" data-linenumber="152">
              <span class="hits">3302</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">  procedure reverse_list_order(</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">    a_list in out nocopy ut_suite_items</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">    l_start_idx pls_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">    l_end_idx   pls_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">    l_item      ut_suite_item;</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="212" data-linenumber="162">
              <span class="hits">212</span>
              <code class="sql">    l_start_idx := a_list.first;</code></li>

            <li class="covered" data-hits="212" data-linenumber="163">
              <span class="hits">212</span>
              <code class="sql">    l_end_idx := a_list.last;</code></li>

            <li class="covered" data-hits="242" data-linenumber="164">
              <span class="hits">242</span>
              <code class="sql">    while l_start_idx &lt; l_end_idx loop</code></li>

            <li class="covered" data-hits="30" data-linenumber="165">
              <span class="hits">30</span>
              <code class="sql">      l_item := a_list(l_start_idx);</code></li>

            <li class="covered" data-hits="30" data-linenumber="166">
              <span class="hits">30</span>
              <code class="sql">      a_list(l_start_idx) := a_list(l_end_idx);</code></li>

            <li class="covered" data-hits="30" data-linenumber="167">
              <span class="hits">30</span>
              <code class="sql">      a_list(l_end_idx) := l_item;</code></li>

            <li class="covered" data-hits="30" data-linenumber="168">
              <span class="hits">30</span>
              <code class="sql">      l_end_idx := a_list.prior(l_end_idx);</code></li>

            <li class="covered" data-hits="30" data-linenumber="169">
              <span class="hits">30</span>
              <code class="sql">      l_start_idx := a_list.next(l_start_idx);</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">  function get_logical_suite(</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">    a_rows tt_cached_suites,</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">    a_idx pls_integer,</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">    a_level             pls_integer,</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">    a_prev_level        pls_integer,</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">    a_items_at_level    t_item_levels</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">  ) return ut_suite_item is</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">    l_result ut_suite_item;</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1164" data-linenumber="182">
              <span class="hits">1164</span>
              <code class="sql">      case a_rows( a_idx ).self_type</code></li>

            <li class="covered" data-hits="1164" data-linenumber="183">
              <span class="hits">1164</span>
              <code class="sql">        when &apos;UT_SUITE&apos; then</code></li>

            <li class="covered" data-hits="290" data-linenumber="184">
              <span class="hits">290</span>
              <code class="sql">          l_result :=</code></li>

            <li class="partcov" data-hits="1" data-blocks="1/2" data-linenumber="185">
                <span class="blocks">1/2</span>
              <span class="hits">1</span>
              <code class="sql">            case when a_prev_level &gt; a_level then</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">                ut_suite(</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">                  self_type =&gt; a_rows( a_idx ).self_type,</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">                  object_owner =&gt; a_rows( a_idx ).object_owner, object_name =&gt; lower( a_rows( a_idx ).object_name),</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">                  name =&gt; lower( a_rows( a_idx ).name), description =&gt; a_rows( a_idx ).description, path =&gt; a_rows( a_idx ).path,</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">                  rollback_type =&gt; a_rows( a_idx ).rollback_type, disabled_flag =&gt; a_rows( a_idx ).disabled_flag,</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">                  line_no =&gt; a_rows( a_idx ).line_no, parse_time =&gt; a_rows( a_idx ).parse_time,</code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">                  start_time =&gt; null, end_time =&gt; null, result =&gt; null, warnings =&gt; a_rows( a_idx ).warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">                  results_count =&gt; ut_results_counter(), transaction_invalidators =&gt; ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql">                  items =&gt; a_items_at_level(a_prev_level),</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">                  before_all_list =&gt; sort_by_seq_no( a_rows( a_idx ).before_all_list), after_all_list =&gt; sort_by_seq_no(</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">                    a_rows( a_idx ).after_all_list), tags =&gt; a_rows(a_idx).tags</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">                )</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">            else</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">                ut_suite(</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">                  self_type =&gt; a_rows( a_idx ).self_type,</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">                  object_owner =&gt; a_rows( a_idx ).object_owner, object_name =&gt; lower( a_rows( a_idx ).object_name),</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql">                  name =&gt; lower( a_rows( a_idx ).name), description =&gt; a_rows( a_idx ).description, path =&gt; a_rows( a_idx ).path,</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql">                  rollback_type =&gt; a_rows( a_idx ).rollback_type, disabled_flag =&gt; a_rows( a_idx ).disabled_flag,</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">                  line_no =&gt; a_rows( a_idx ).line_no, parse_time =&gt; a_rows( a_idx ).parse_time,</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql">                  start_time =&gt; null, end_time =&gt; null, result =&gt; null, warnings =&gt; a_rows( a_idx ).warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">                  results_count =&gt; ut_results_counter(), transaction_invalidators =&gt; ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">                  items =&gt; ut_suite_items(),</code></li>

            <li class="never" data-hits="" data-linenumber="208">
            <code class="sql">                  before_all_list =&gt; sort_by_seq_no( a_rows( a_idx ).before_all_list), after_all_list =&gt; sort_by_seq_no(</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">                    a_rows( a_idx ).after_all_list), tags =&gt; a_rows(a_idx).tags</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">                )</code></li>

            <li class="never" data-hits="" data-linenumber="211">
            <code class="sql">            end;</code></li>

            <li class="covered" data-hits="874" data-linenumber="212">
              <span class="hits">874</span>
              <code class="sql">        when &apos;UT_SUITE_CONTEXT&apos; then</code></li>

            <li class="covered" data-hits="41" data-linenumber="213">
              <span class="hits">41</span>
              <code class="sql">          l_result :=</code></li>

            <li class="partcov" data-hits="1" data-blocks="1/2" data-linenumber="214">
                <span class="blocks">1/2</span>
              <span class="hits">1</span>
              <code class="sql">            case when a_prev_level &gt; a_level then</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">              ut_suite_context(</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">                self_type =&gt; a_rows( a_idx ).self_type,</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">                object_owner =&gt; a_rows( a_idx ).object_owner, object_name =&gt; lower( a_rows( a_idx ).object_name),</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">                name =&gt; lower( a_rows( a_idx ).name), description =&gt; a_rows( a_idx ).description, path =&gt; a_rows( a_idx ).path,</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">                rollback_type =&gt; a_rows( a_idx ).rollback_type, disabled_flag =&gt; a_rows( a_idx ).disabled_flag,</code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql">                line_no =&gt; a_rows( a_idx ).line_no, parse_time =&gt; a_rows( a_idx ).parse_time,</code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">                start_time =&gt; null, end_time =&gt; null, result =&gt; null, warnings =&gt; a_rows( a_idx ).warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">                results_count =&gt; ut_results_counter(), transaction_invalidators =&gt; ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">                items =&gt; a_items_at_level(a_prev_level),</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">                before_all_list =&gt; sort_by_seq_no( a_rows( a_idx ).before_all_list), after_all_list =&gt; sort_by_seq_no(</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">                  a_rows( a_idx ).after_all_list), tags =&gt; a_rows(a_idx).tags</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql">              )</code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">            else</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">              ut_suite_context(</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">                self_type =&gt; a_rows( a_idx ).self_type,</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">                object_owner =&gt; a_rows( a_idx ).object_owner, object_name =&gt; lower( a_rows( a_idx ).object_name),</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">                name =&gt; lower( a_rows( a_idx ).name), description =&gt; a_rows( a_idx ).description, path =&gt; a_rows( a_idx ).path,</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql">                rollback_type =&gt; a_rows( a_idx ).rollback_type, disabled_flag =&gt; a_rows( a_idx ).disabled_flag,</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">                line_no =&gt; a_rows( a_idx ).line_no, parse_time =&gt; a_rows( a_idx ).parse_time,</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql">                start_time =&gt; null, end_time =&gt; null, result =&gt; null, warnings =&gt; a_rows( a_idx ).warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">                results_count =&gt; ut_results_counter(), transaction_invalidators =&gt; ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">                items =&gt; ut_suite_items(),</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">                before_all_list =&gt; sort_by_seq_no( a_rows( a_idx ).before_all_list), after_all_list =&gt; sort_by_seq_no(</code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">                  a_rows( a_idx ).after_all_list), tags =&gt; a_rows(a_idx).tags</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">              )</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">            end;</code></li>

            <li class="covered" data-hits="833" data-linenumber="241">
              <span class="hits">833</span>
              <code class="sql">        when &apos;UT_LOGICAL_SUITE&apos; then</code></li>

            <li class="covered" data-hits="173" data-linenumber="242">
              <span class="hits">173</span>
              <code class="sql">          l_result :=</code></li>

            <li class="partcov" data-hits="1" data-blocks="1/2" data-linenumber="243">
                <span class="blocks">1/2</span>
              <span class="hits">1</span>
              <code class="sql">            case when a_prev_level &gt; a_level then</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql">              ut_logical_suite(</code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql">                self_type =&gt; a_rows( a_idx ).self_type,</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql">                object_owner =&gt; a_rows( a_idx ).object_owner, object_name =&gt; lower( a_rows( a_idx ).object_name),</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">                name =&gt; lower( a_rows( a_idx ).name), description =&gt; a_rows( a_idx ).description, path =&gt; a_rows( a_idx ).path,</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">                rollback_type =&gt; a_rows( a_idx ).rollback_type, disabled_flag =&gt; a_rows( a_idx ).disabled_flag,</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql">                line_no =&gt; a_rows( a_idx ).line_no, parse_time =&gt; a_rows( a_idx ).parse_time,</code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql">                start_time =&gt; null, end_time =&gt; null, result =&gt; null, warnings =&gt; a_rows( a_idx ).warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="251">
            <code class="sql">                results_count =&gt; ut_results_counter(), transaction_invalidators =&gt; ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql">                items =&gt; a_items_at_level(a_prev_level), tags =&gt; null</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql">              )</code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">            else</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql">              ut_logical_suite(</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">                self_type =&gt; a_rows( a_idx ).self_type,</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">                object_owner =&gt; a_rows( a_idx ).object_owner, object_name =&gt; lower( a_rows( a_idx ).object_name),</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">                name =&gt; lower( a_rows( a_idx ).name), description =&gt; a_rows( a_idx ).description, path =&gt; a_rows( a_idx ).path,</code></li>

            <li class="never" data-hits="" data-linenumber="259">
            <code class="sql">                rollback_type =&gt; a_rows( a_idx ).rollback_type, disabled_flag =&gt; a_rows( a_idx ).disabled_flag,</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">                line_no =&gt; a_rows( a_idx ).line_no, parse_time =&gt; a_rows( a_idx ).parse_time,</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql">                start_time =&gt; null, end_time =&gt; null, result =&gt; null, warnings =&gt; a_rows( a_idx ).warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="262">
            <code class="sql">                results_count =&gt; ut_results_counter(), transaction_invalidators =&gt; ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql">                items =&gt; ut_suite_items(), tags =&gt; null</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">              )</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">            end;</code></li>

            <li class="covered" data-hits="660" data-linenumber="266">
              <span class="hits">660</span>
              <code class="sql">        when &apos;UT_TEST&apos; then</code></li>

            <li class="covered" data-hits="660" data-linenumber="267">
              <span class="hits">660</span>
              <code class="sql">          l_result :=</code></li>

            <li class="never" data-hits="" data-linenumber="268">
            <code class="sql">            ut_test(</code></li>

            <li class="never" data-hits="" data-linenumber="269">
            <code class="sql">              self_type =&gt; a_rows(a_idx).self_type,</code></li>

            <li class="never" data-hits="" data-linenumber="270">
            <code class="sql">              object_owner =&gt; a_rows(a_idx).object_owner, object_name =&gt; lower(a_rows(a_idx).object_name),</code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">              name =&gt; lower(a_rows(a_idx).name), description =&gt; a_rows(a_idx).description, path =&gt; a_rows(a_idx).path,</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">              rollback_type =&gt; a_rows(a_idx).rollback_type, disabled_flag =&gt; a_rows(a_idx).disabled_flag,</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql">              line_no =&gt; a_rows(a_idx).line_no, parse_time =&gt; a_rows(a_idx).parse_time,</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql">              start_time =&gt; null, end_time =&gt; null, result =&gt; null, warnings =&gt; a_rows(a_idx).warnings,</code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql">              results_count =&gt; ut_results_counter(), transaction_invalidators =&gt; ut_varchar2_list(),</code></li>

            <li class="never" data-hits="" data-linenumber="276">
            <code class="sql">              before_each_list =&gt; sort_by_seq_no(a_rows(a_idx).before_each_list), before_test_list =&gt; sort_by_seq_no(a_rows(a_idx).before_test_list),</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">              item =&gt; a_rows(a_idx).item,</code></li>

            <li class="never" data-hits="" data-linenumber="278">
            <code class="sql">              after_test_list =&gt; sort_by_seq_no(a_rows(a_idx).after_test_list), after_each_list =&gt; sort_by_seq_no(a_rows(a_idx).after_each_list),</code></li>

            <li class="never" data-hits="" data-linenumber="279">
            <code class="sql">              all_expectations =&gt; ut_expectation_results(), failed_expectations =&gt; ut_expectation_results(),</code></li>

            <li class="never" data-hits="" data-linenumber="280">
            <code class="sql">              parent_error_stack_trace =&gt; null, expected_error_codes =&gt; a_rows(a_idx).expected_error_codes,</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql">              tags =&gt; a_rows(a_idx).tags</code></li>

            <li class="never" data-hits="" data-linenumber="282">
            <code class="sql">            );</code></li>

            <li class="never" data-hits="" data-linenumber="283">
            <code class="sql">      end case;</code></li>

            <li class="covered" data-hits="1164" data-linenumber="284">
              <span class="hits">1164</span>
              <code class="sql">    l_result.results_count.warnings_count := l_result.warnings.count;</code></li>

            <li class="covered" data-hits="1164" data-linenumber="285">
              <span class="hits">1164</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="286">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="287">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="288">
            <code class="sql">  procedure reconstruct_from_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="289">
            <code class="sql">    a_suites            in out nocopy ut_suite_items,</code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">    a_suite_data_cursor sys_refcursor</code></li>

            <li class="never" data-hits="" data-linenumber="291">
            <code class="sql">  ) is</code></li>

            <li class="covered" data-hits="212" data-linenumber="292">
              <span class="hits">212</span>
              <code class="sql">    c_bulk_limit        constant pls_integer := 1000;</code></li>

            <li class="never" data-hits="" data-linenumber="293">
            <code class="sql">    l_items_at_level    t_item_levels;</code></li>

            <li class="never" data-hits="" data-linenumber="294">
            <code class="sql">    l_rows              tt_cached_suites;</code></li>

            <li class="never" data-hits="" data-linenumber="295">
            <code class="sql">    l_level             pls_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="296">
            <code class="sql">    l_prev_level        pls_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="297">
            <code class="sql">    l_idx               integer;</code></li>

            <li class="never" data-hits="" data-linenumber="298">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="212" data-linenumber="299">
              <span class="hits">212</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="212" data-linenumber="300">
              <span class="hits">212</span>
              <code class="sql">      fetch a_suite_data_cursor bulk collect into l_rows limit c_bulk_limit;</code></li>

            <li class="never" data-hits="" data-linenumber="301">
            <code class="sql"></code></li>

            <li class="covered" data-hits="212" data-linenumber="302">
              <span class="hits">212</span>
              <code class="sql">      l_idx := l_rows.first;</code></li>

            <li class="covered" data-hits="1376" data-linenumber="303">
              <span class="hits">1376</span>
              <code class="sql">      while l_idx is not null loop</code></li>

            <li class="covered" data-hits="1164" data-linenumber="304">
              <span class="hits">1164</span>
              <code class="sql">        l_level := length(l_rows(l_idx).path) - length( replace(l_rows(l_idx).path, &apos;.&apos;) ) + 1;</code></li>

            <li class="covered" data-hits="1164" data-linenumber="305">
              <span class="hits">1164</span>
              <code class="sql">        if l_level &gt; 1 then</code></li>

            <li class="covered" data-hits="935" data-linenumber="306">
              <span class="hits">935</span>
              <code class="sql">          if not l_items_at_level.exists(l_level) then</code></li>

            <li class="covered" data-hits="399" data-linenumber="307">
              <span class="hits">399</span>
              <code class="sql">            l_items_at_level(l_level) := ut_suite_items();</code></li>

            <li class="never" data-hits="" data-linenumber="308">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="935" data-linenumber="309">
              <span class="hits">935</span>
              <code class="sql">          l_items_at_level(l_level).extend;</code></li>

            <li class="covered" data-hits="935" data-linenumber="310">
              <span class="hits">935</span>
              <code class="sql">          pragma inline(get_logical_suite, &apos;YES&apos;);</code></li>

            <li class="covered" data-hits="935" data-linenumber="311">
              <span class="hits">935</span>
              <code class="sql">          l_items_at_level(l_level)(l_items_at_level(l_level).last) := get_logical_suite(l_rows, l_idx, l_level,l_prev_level, l_items_at_level );</code></li>

            <li class="never" data-hits="" data-linenumber="312">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="229" data-linenumber="313">
              <span class="hits">229</span>
              <code class="sql">          a_suites.extend;</code></li>

            <li class="covered" data-hits="229" data-linenumber="314">
              <span class="hits">229</span>
              <code class="sql">          pragma inline(get_logical_suite, &apos;YES&apos;);</code></li>

            <li class="covered" data-hits="229" data-linenumber="315">
              <span class="hits">229</span>
              <code class="sql">          a_suites(a_suites.last) := get_logical_suite(l_rows, l_idx, l_level,l_prev_level, l_items_at_level );</code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="1164" data-linenumber="317">
              <span class="hits">1164</span>
              <code class="sql">        if l_prev_level &gt; l_level then</code></li>

            <li class="covered" data-hits="477" data-linenumber="318">
              <span class="hits">477</span>
              <code class="sql">          l_items_at_level(l_prev_level).delete;</code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="1164" data-linenumber="320">
              <span class="hits">1164</span>
              <code class="sql">        l_prev_level := l_level;</code></li>

            <li class="covered" data-hits="1164" data-linenumber="321">
              <span class="hits">1164</span>
              <code class="sql">        l_idx := l_rows.next(l_idx);</code></li>

            <li class="never" data-hits="" data-linenumber="322">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="212" data-linenumber="323">
              <span class="hits">212</span>
              <code class="sql">      exit when a_suite_data_cursor%NOTFOUND;</code></li>

            <li class="never" data-hits="" data-linenumber="324">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="325">
            <code class="sql"></code></li>

            <li class="covered" data-hits="212" data-linenumber="326">
              <span class="hits">212</span>
              <code class="sql">    reverse_list_order( a_suites );</code></li>

            <li class="never" data-hits="" data-linenumber="327">
            <code class="sql"></code></li>

            <li class="covered" data-hits="452" data-linenumber="328">
              <span class="hits">452</span>
              <code class="sql">    for i in 1 .. a_suites.count loop</code></li>

            <li class="covered" data-hits="240" data-linenumber="329">
              <span class="hits">240</span>
              <code class="sql">      a_suites( i ).set_rollback_type( a_suites( i ).get_rollback_type );</code></li>

            <li class="never" data-hits="" data-linenumber="330">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="212" data-linenumber="331">
              <span class="hits">212</span>
              <code class="sql">    close a_suite_data_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="332">
            <code class="sql">  end reconstruct_from_cache;</code></li>

            <li class="never" data-hits="" data-linenumber="333">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="334">
            <code class="sql">  function get_cached_suite_data(</code></li>

            <li class="never" data-hits="" data-linenumber="335">
            <code class="sql">    a_object_owner     varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="336">
            <code class="sql">    a_path             varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="337">
            <code class="sql">    a_object_name      varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="338">
            <code class="sql">    a_procedure_name   varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="339">
            <code class="sql">    a_skip_all_objects boolean  := false,</code></li>

            <li class="never" data-hits="" data-linenumber="340">
            <code class="sql">    a_random_seed      positive,</code></li>

            <li class="never" data-hits="" data-linenumber="341">
            <code class="sql">    a_tags             ut_varchar2_rows := null</code></li>

            <li class="never" data-hits="" data-linenumber="342">
            <code class="sql">  ) return t_cached_suites_cursor is</code></li>

            <li class="never" data-hits="" data-linenumber="343">
            <code class="sql">    l_unfiltered_rows  ut_suite_cache_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="344">
            <code class="sql">    l_result           t_cached_suites_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="345">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="212" data-linenumber="346">
              <span class="hits">212</span>
              <code class="sql">    l_unfiltered_rows := ut_suite_cache_manager.get_cached_suite_rows(</code></li>

            <li class="never" data-hits="" data-linenumber="347">
            <code class="sql">      a_object_owner,</code></li>

            <li class="never" data-hits="" data-linenumber="348">
            <code class="sql">      a_path,</code></li>

            <li class="never" data-hits="" data-linenumber="349">
            <code class="sql">      a_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="350">
            <code class="sql">      a_procedure_name,</code></li>

            <li class="never" data-hits="" data-linenumber="351">
            <code class="sql">      a_random_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="352">
            <code class="sql">      a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="353">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="212" data-linenumber="354">
              <span class="hits">212</span>
              <code class="sql">    if a_skip_all_objects then</code></li>

            <li class="covered" data-hits="212" data-linenumber="355">
              <span class="hits">212</span>
              <code class="sql">      open l_result for</code></li>

            <li class="covered" data-hits="1" data-linenumber="356">
              <span class="hits">1</span>
              <code class="sql">        select c.* from table(l_unfiltered_rows) c;</code></li>

            <li class="never" data-hits="" data-linenumber="357">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="358">
              <code class="sql">      open l_result for</code></li>

            <li class="missed" data-hits="0" data-linenumber="359">
              <code class="sql">        select c.* from table(l_unfiltered_rows) c</code></li>

            <li class="never" data-hits="" data-linenumber="360">
            <code class="sql">         where exists</code></li>

            <li class="never" data-hits="" data-linenumber="361">
            <code class="sql">           ( select 1</code></li>

            <li class="never" data-hits="" data-linenumber="362">
            <code class="sql">               from all_objects a</code></li>

            <li class="never" data-hits="" data-linenumber="363">
            <code class="sql">               where a.object_name = c.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="364">
            <code class="sql">                 and a.owner       = c.object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="365">
            <code class="sql">                 and a.object_type = &apos;PACKAGE&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="366">
            <code class="sql">           );</code></li>

            <li class="never" data-hits="" data-linenumber="367">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="368">
            <code class="sql"></code></li>

            <li class="covered" data-hits="212" data-linenumber="369">
              <span class="hits">212</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="370">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="371">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="372">
            <code class="sql">  function can_skip_all_objects_scan(</code></li>

            <li class="never" data-hits="" data-linenumber="373">
            <code class="sql">    a_owner_name         varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="374">
            <code class="sql">  ) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="375">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="474" data-linenumber="376">
              <span class="hits">474</span>
              <code class="sql">    return sys_context( &apos;userenv&apos;, &apos;current_schema&apos; ) = a_owner_name or ut_metadata.user_has_execute_any_proc() or ut_trigger_check.is_alive();</code></li>

            <li class="never" data-hits="" data-linenumber="377">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="378">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="379">
            <code class="sql">  procedure build_and_cache_suites(</code></li>

            <li class="never" data-hits="" data-linenumber="380">
            <code class="sql">    a_owner_name        varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="381">
            <code class="sql">    a_annotated_objects sys_refcursor</code></li>

            <li class="never" data-hits="" data-linenumber="382">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="383">
            <code class="sql">    l_annotated_objects  ut_annotated_objects;</code></li>

            <li class="never" data-hits="" data-linenumber="384">
            <code class="sql">    l_suite_items        ut_suite_items;</code></li>

            <li class="never" data-hits="" data-linenumber="385">
            <code class="sql"></code></li>

            <li class="covered" data-hits="356" data-linenumber="386">
              <span class="hits">356</span>
              <code class="sql">    l_bad_suitepath_obj ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="387">
            <code class="sql">    ex_string_too_small exception;</code></li>

            <li class="never" data-hits="" data-linenumber="388">
            <code class="sql">    pragma exception_init (ex_string_too_small,-06502);</code></li>

            <li class="never" data-hits="" data-linenumber="389">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="356" data-linenumber="390">
              <span class="hits">356</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;build_and_cache_suites - start&apos;);</code></li>

            <li class="covered" data-hits="366" data-linenumber="391">
              <span class="hits">366</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="366" data-linenumber="392">
              <span class="hits">366</span>
              <code class="sql">      fetch a_annotated_objects bulk collect into l_annotated_objects limit 10;</code></li>

            <li class="never" data-hits="" data-linenumber="393">
            <code class="sql"></code></li>

            <li class="covered" data-hits="640" data-linenumber="394">
              <span class="hits">640</span>
              <code class="sql">      for i in 1 .. l_annotated_objects.count loop</code></li>

            <li class="never" data-hits="" data-linenumber="395">
            <code class="sql">        begin</code></li>

            <li class="covered" data-hits="274" data-linenumber="396">
              <span class="hits">274</span>
              <code class="sql">          ut_suite_builder.create_suite_item_list( l_annotated_objects( i ), l_suite_items );</code></li>

            <li class="never" data-hits="" data-linenumber="397">
            <code class="sql">        exception</code></li>

            <li class="covered" data-hits="4" data-linenumber="398">
              <span class="hits">4</span>
              <code class="sql">          when ex_string_too_small then</code></li>

            <li class="covered" data-hits="2" data-linenumber="399">
              <span class="hits">2</span>
              <code class="sql">            ut_utils.append_to_list(l_bad_suitepath_obj,a_owner_name||&apos;.&apos;||l_annotated_objects( i ).object_name);</code></li>

            <li class="never" data-hits="" data-linenumber="400">
            <code class="sql">        end;</code></li>

            <li class="covered" data-hits="274" data-linenumber="401">
              <span class="hits">274</span>
              <code class="sql">        ut_suite_cache_manager.save_object_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="402">
            <code class="sql">          a_owner_name,</code></li>

            <li class="never" data-hits="" data-linenumber="403">
            <code class="sql">          l_annotated_objects( i ).object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="404">
            <code class="sql">          l_annotated_objects( i ).parse_time,</code></li>

            <li class="never" data-hits="" data-linenumber="405">
            <code class="sql">          l_suite_items</code></li>

            <li class="never" data-hits="" data-linenumber="406">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="407">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="366" data-linenumber="408">
              <span class="hits">366</span>
              <code class="sql">      exit when a_annotated_objects%notfound;</code></li>

            <li class="never" data-hits="" data-linenumber="409">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="356" data-linenumber="410">
              <span class="hits">356</span>
              <code class="sql">    close a_annotated_objects;</code></li>

            <li class="never" data-hits="" data-linenumber="411">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="412">
            <code class="sql">    --Check for any invalid suitepath objects</code></li>

            <li class="covered" data-hits="356" data-linenumber="413">
              <span class="hits">356</span>
              <code class="sql">    if l_bad_suitepath_obj.count &gt; 0 then</code></li>

            <li class="covered" data-hits="1" data-linenumber="414">
              <span class="hits">1</span>
              <code class="sql">      raise_application_error(</code></li>

            <li class="never" data-hits="" data-linenumber="415">
            <code class="sql">        ut_utils.gc_value_too_large,</code></li>

            <li class="never" data-hits="" data-linenumber="416">
            <code class="sql">        ut_utils.to_string(gc_suitpath_error_message||ut_utils.table_to_clob(l_bad_suitepath_obj,&apos;,&apos;))</code></li>

            <li class="never" data-hits="" data-linenumber="417">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="418">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="355" data-linenumber="419">
              <span class="hits">355</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;build_and_cache_suites - end&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="420">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="421">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="422">
            <code class="sql">  procedure refresh_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="423">
            <code class="sql">    a_owner_name         varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="424">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="425">
            <code class="sql">    l_annotations_cursor    sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="426">
            <code class="sql">    l_suite_cache_time      timestamp;</code></li>

            <li class="never" data-hits="" data-linenumber="427">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="302" data-linenumber="428">
              <span class="hits">302</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;refresh_cache - start&apos;);</code></li>

            <li class="covered" data-hits="302" data-linenumber="429">
              <span class="hits">302</span>
              <code class="sql">    l_suite_cache_time := ut_suite_cache_manager.get_schema_parse_time(a_owner_name);</code></li>

            <li class="covered" data-hits="302" data-linenumber="430">
              <span class="hits">302</span>
              <code class="sql">    l_annotations_cursor := ut_annotation_manager.get_annotated_objects(</code></li>

            <li class="never" data-hits="" data-linenumber="431">
            <code class="sql">      a_owner_name, &apos;PACKAGE&apos;, l_suite_cache_time</code></li>

            <li class="never" data-hits="" data-linenumber="432">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="433">
            <code class="sql"></code></li>

            <li class="covered" data-hits="302" data-linenumber="434">
              <span class="hits">302</span>
              <code class="sql">    build_and_cache_suites(a_owner_name, l_annotations_cursor);</code></li>

            <li class="never" data-hits="" data-linenumber="435">
            <code class="sql"></code></li>

            <li class="covered" data-hits="301" data-linenumber="436">
              <span class="hits">301</span>
              <code class="sql">    if can_skip_all_objects_scan(a_owner_name) or ut_metadata.is_object_visible( &apos;dba_objects&apos;) then</code></li>

            <li class="covered" data-hits="301" data-linenumber="437">
              <span class="hits">301</span>
              <code class="sql">      ut_suite_cache_manager.remove_missing_objs_from_cache( a_owner_name );</code></li>

            <li class="never" data-hits="" data-linenumber="438">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="439">
            <code class="sql"></code></li>

            <li class="covered" data-hits="301" data-linenumber="440">
              <span class="hits">301</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;refresh_cache - end&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="441">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="442">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="443">
            <code class="sql">  procedure add_suites_for_path(</code></li>

            <li class="never" data-hits="" data-linenumber="444">
            <code class="sql">    a_owner_name     varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="445">
            <code class="sql">    a_path           varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="446">
            <code class="sql">    a_object_name    varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="447">
            <code class="sql">    a_procedure_name varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="448">
            <code class="sql">    a_suites         in out nocopy ut_suite_items,</code></li>

            <li class="never" data-hits="" data-linenumber="449">
            <code class="sql">    a_random_seed    positive,</code></li>

            <li class="never" data-hits="" data-linenumber="450">
            <code class="sql">    a_tags           ut_varchar2_rows := null</code></li>

            <li class="never" data-hits="" data-linenumber="451">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="452">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="158" data-linenumber="453">
              <span class="hits">158</span>
              <code class="sql">    refresh_cache(a_owner_name);</code></li>

            <li class="never" data-hits="" data-linenumber="454">
            <code class="sql"></code></li>

            <li class="covered" data-hits="158" data-linenumber="455">
              <span class="hits">158</span>
              <code class="sql">    reconstruct_from_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="456">
            <code class="sql">      a_suites,</code></li>

            <li class="never" data-hits="" data-linenumber="457">
            <code class="sql">      get_cached_suite_data(</code></li>

            <li class="never" data-hits="" data-linenumber="458">
            <code class="sql">        a_owner_name,</code></li>

            <li class="never" data-hits="" data-linenumber="459">
            <code class="sql">        a_path,</code></li>

            <li class="never" data-hits="" data-linenumber="460">
            <code class="sql">        a_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="461">
            <code class="sql">        a_procedure_name,</code></li>

            <li class="never" data-hits="" data-linenumber="462">
            <code class="sql">        can_skip_all_objects_scan(a_owner_name),</code></li>

            <li class="never" data-hits="" data-linenumber="463">
            <code class="sql">        a_random_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="464">
            <code class="sql">        a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="465">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="466">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="467">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="468">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="469">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="470">
            <code class="sql">  -----------------------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="471">
            <code class="sql">  -----------------------------------------------</code></li>

            <li class="never" data-hits="" data-linenumber="472">
            <code class="sql">  -------------  Public definitions -------------</code></li>

            <li class="never" data-hits="" data-linenumber="473">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="474">
            <code class="sql">  function build_suites_from_annotations(</code></li>

            <li class="never" data-hits="" data-linenumber="475">
            <code class="sql">    a_owner_name        varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="476">
            <code class="sql">    a_annotated_objects sys_refcursor,</code></li>

            <li class="never" data-hits="" data-linenumber="477">
            <code class="sql">    a_path              varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="478">
            <code class="sql">    a_object_name       varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="479">
            <code class="sql">    a_procedure_name    varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="480">
            <code class="sql">    a_skip_all_objects  boolean := false</code></li>

            <li class="never" data-hits="" data-linenumber="481">
            <code class="sql">  ) return ut_suite_items is</code></li>

            <li class="covered" data-hits="54" data-linenumber="482">
              <span class="hits">54</span>
              <code class="sql">    l_suites             ut_suite_items := ut_suite_items();</code></li>

            <li class="never" data-hits="" data-linenumber="483">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="54" data-linenumber="484">
              <span class="hits">54</span>
              <code class="sql">    build_and_cache_suites(a_owner_name, a_annotated_objects);</code></li>

            <li class="never" data-hits="" data-linenumber="485">
            <code class="sql"></code></li>

            <li class="covered" data-hits="54" data-linenumber="486">
              <span class="hits">54</span>
              <code class="sql">    reconstruct_from_cache(</code></li>

            <li class="never" data-hits="" data-linenumber="487">
            <code class="sql">      l_suites,</code></li>

            <li class="never" data-hits="" data-linenumber="488">
            <code class="sql">      get_cached_suite_data(</code></li>

            <li class="never" data-hits="" data-linenumber="489">
            <code class="sql">        a_owner_name,</code></li>

            <li class="never" data-hits="" data-linenumber="490">
            <code class="sql">        a_path,</code></li>

            <li class="never" data-hits="" data-linenumber="491">
            <code class="sql">        a_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="492">
            <code class="sql">        a_procedure_name,</code></li>

            <li class="never" data-hits="" data-linenumber="493">
            <code class="sql">        a_skip_all_objects,</code></li>

            <li class="never" data-hits="" data-linenumber="494">
            <code class="sql">        null,</code></li>

            <li class="never" data-hits="" data-linenumber="495">
            <code class="sql">        null</code></li>

            <li class="never" data-hits="" data-linenumber="496">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="497">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="54" data-linenumber="498">
              <span class="hits">54</span>
              <code class="sql">    return l_suites;</code></li>

            <li class="never" data-hits="" data-linenumber="499">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="500">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="501">
            <code class="sql">  function get_schema_ut_packages(a_schema_names ut_varchar2_rows) return ut_object_names is</code></li>

            <li class="never" data-hits="" data-linenumber="502">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="246" data-linenumber="503">
              <span class="hits">246</span>
              <code class="sql">    for i in 1 .. a_schema_names.count loop</code></li>

            <li class="covered" data-hits="129" data-linenumber="504">
              <span class="hits">129</span>
              <code class="sql">      refresh_cache(a_schema_names(i));</code></li>

            <li class="never" data-hits="" data-linenumber="505">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="506">
            <code class="sql"></code></li>

            <li class="covered" data-hits="117" data-linenumber="507">
              <span class="hits">117</span>
              <code class="sql">    return ut_suite_cache_manager.get_cached_packages( a_schema_names );</code></li>

            <li class="never" data-hits="" data-linenumber="508">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="509">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="510">
            <code class="sql">  function get_schema_names(a_paths ut_varchar2_list) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="511">
            <code class="sql">    l_paths ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="512">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="115" data-linenumber="513">
              <span class="hits">115</span>
              <code class="sql">    l_paths := a_paths;</code></li>

            <li class="covered" data-hits="115" data-linenumber="514">
              <span class="hits">115</span>
              <code class="sql">    return resolve_schema_names(l_paths);</code></li>

            <li class="never" data-hits="" data-linenumber="515">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="516">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="517">
            <code class="sql">  function configure_execution_by_path(a_paths ut_varchar2_list, a_random_seed positive := null) return ut_suite_items is</code></li>

            <li class="covered" data-hits="32" data-linenumber="518">
              <span class="hits">32</span>
              <code class="sql">    l_suites             ut_suite_items := ut_suite_items();</code></li>

            <li class="never" data-hits="" data-linenumber="519">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="32" data-linenumber="520">
              <span class="hits">32</span>
              <code class="sql">    configure_execution_by_path(a_paths, l_suites );</code></li>

            <li class="covered" data-hits="30" data-linenumber="521">
              <span class="hits">30</span>
              <code class="sql">    return l_suites;</code></li>

            <li class="never" data-hits="" data-linenumber="522">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="523">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="524">
            <code class="sql">  procedure configure_execution_by_path(</code></li>

            <li class="never" data-hits="" data-linenumber="525">
            <code class="sql">    a_paths       ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="526">
            <code class="sql">    a_suites      out nocopy ut_suite_items,</code></li>

            <li class="never" data-hits="" data-linenumber="527">
            <code class="sql">    a_random_seed positive   := null,</code></li>

            <li class="never" data-hits="" data-linenumber="528">
            <code class="sql">    a_tags        ut_varchar2_rows := ut_varchar2_rows()</code></li>

            <li class="never" data-hits="" data-linenumber="529">
            <code class="sql">  ) is</code></li>

            <li class="covered" data-hits="148" data-linenumber="530">
              <span class="hits">148</span>
              <code class="sql">    l_paths              ut_varchar2_list := a_paths;</code></li>

            <li class="never" data-hits="" data-linenumber="531">
            <code class="sql">    l_path_items         t_path_items;</code></li>

            <li class="never" data-hits="" data-linenumber="532">
            <code class="sql">    l_path_item          t_path_item;</code></li>

            <li class="never" data-hits="" data-linenumber="533">
            <code class="sql">    l_schema             varchar2(4000);</code></li>

            <li class="covered" data-hits="148" data-linenumber="534">
              <span class="hits">148</span>
              <code class="sql">    l_suites_count       pls_integer := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="535">
            <code class="sql">    l_index              varchar2(4000 char);</code></li>

            <li class="never" data-hits="" data-linenumber="536">
            <code class="sql">    l_schema_paths       t_schema_paths;</code></li>

            <li class="never" data-hits="" data-linenumber="537">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="148" data-linenumber="538">
              <span class="hits">148</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;configure_execution_by_path - start&apos;);</code></li>

            <li class="covered" data-hits="148" data-linenumber="539">
              <span class="hits">148</span>
              <code class="sql">    a_suites := ut_suite_items();</code></li>

            <li class="never" data-hits="" data-linenumber="540">
            <code class="sql">    --resolve schema names from paths and group paths by schema name</code></li>

            <li class="covered" data-hits="148" data-linenumber="541">
              <span class="hits">148</span>
              <code class="sql">    resolve_schema_names(l_paths);</code></li>

            <li class="never" data-hits="" data-linenumber="542">
            <code class="sql"></code></li>

            <li class="covered" data-hits="147" data-linenumber="543">
              <span class="hits">147</span>
              <code class="sql">    l_schema_paths := group_paths_by_schema(l_paths);</code></li>

            <li class="never" data-hits="" data-linenumber="544">
            <code class="sql"></code></li>

            <li class="covered" data-hits="147" data-linenumber="545">
              <span class="hits">147</span>
              <code class="sql">    l_schema := l_schema_paths.first;</code></li>

            <li class="covered" data-hits="292" data-linenumber="546">
              <span class="hits">292</span>
              <code class="sql">    while l_schema is not null loop</code></li>

            <li class="covered" data-hits="147" data-linenumber="547">
              <span class="hits">147</span>
              <code class="sql">      l_path_items  := l_schema_paths(l_schema);</code></li>

            <li class="covered" data-hits="303" data-linenumber="548">
              <span class="hits">303</span>
              <code class="sql">      for i in 1 .. l_path_items.count loop</code></li>

            <li class="covered" data-hits="158" data-linenumber="549">
              <span class="hits">158</span>
              <code class="sql">        l_path_item := l_path_items(i);</code></li>

            <li class="covered" data-hits="158" data-linenumber="550">
              <span class="hits">158</span>
              <code class="sql">          add_suites_for_path(</code></li>

            <li class="never" data-hits="" data-linenumber="551">
            <code class="sql">            upper(l_schema),</code></li>

            <li class="never" data-hits="" data-linenumber="552">
            <code class="sql">            l_path_item.suite_path,</code></li>

            <li class="never" data-hits="" data-linenumber="553">
            <code class="sql">            l_path_item.object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="554">
            <code class="sql">            l_path_item.procedure_name,</code></li>

            <li class="never" data-hits="" data-linenumber="555">
            <code class="sql">            a_suites,</code></li>

            <li class="never" data-hits="" data-linenumber="556">
            <code class="sql">            a_random_seed,</code></li>

            <li class="never" data-hits="" data-linenumber="557">
            <code class="sql">            a_tags</code></li>

            <li class="never" data-hits="" data-linenumber="558">
            <code class="sql">          );</code></li>

            <li class="covered" data-hits="158" data-linenumber="559">
              <span class="hits">158</span>
              <code class="sql">        if a_suites.count = l_suites_count then</code></li>

            <li class="covered" data-hits="3" data-linenumber="560">
              <span class="hits">3</span>
              <code class="sql">          if l_path_item.suite_path is not null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="561">
              <code class="sql">            raise_application_error(ut_utils.gc_suite_package_not_found,&apos;No suite packages found for path &apos;||l_schema||&apos;:&apos;||l_path_item.suite_path|| &apos;.&apos;);</code></li>

            <li class="covered" data-hits="3" data-linenumber="562">
              <span class="hits">3</span>
              <code class="sql">          elsif l_path_item.procedure_name is not null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="563">
              <code class="sql">            raise_application_error(ut_utils.gc_suite_package_not_found,&apos;Suite test &apos;||l_schema||&apos;.&apos;||l_path_item.object_name|| &apos;.&apos;||l_path_item.procedure_name||&apos; does not exist&apos;);</code></li>

            <li class="covered" data-hits="3" data-linenumber="564">
              <span class="hits">3</span>
              <code class="sql">          elsif l_path_item.object_name is not null then</code></li>

            <li class="covered" data-hits="2" data-linenumber="565">
              <span class="hits">2</span>
              <code class="sql">            raise_application_error(ut_utils.gc_suite_package_not_found,&apos;Suite package &apos;||l_schema||&apos;.&apos;||l_path_item.object_name|| &apos; does not exist&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="566">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="567">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="156" data-linenumber="568">
              <span class="hits">156</span>
              <code class="sql">        l_index := a_suites.first;</code></li>

            <li class="covered" data-hits="156" data-linenumber="569">
              <span class="hits">156</span>
              <code class="sql">        l_suites_count := a_suites.count;</code></li>

            <li class="never" data-hits="" data-linenumber="570">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="145" data-linenumber="571">
              <span class="hits">145</span>
              <code class="sql">      l_schema := l_schema_paths.next(l_schema);</code></li>

            <li class="never" data-hits="" data-linenumber="572">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="573">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="574">
            <code class="sql">    --propagate rollback type to suite items after organizing suites into hierarchy</code></li>

            <li class="covered" data-hits="320" data-linenumber="575">
              <span class="hits">320</span>
              <code class="sql">    for i in 1 .. a_suites.count loop</code></li>

            <li class="covered" data-hits="175" data-linenumber="576">
              <span class="hits">175</span>
              <code class="sql">      a_suites(i).set_rollback_type( a_suites(i).get_rollback_type() );</code></li>

            <li class="never" data-hits="" data-linenumber="577">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="578">
            <code class="sql"></code></li>

            <li class="covered" data-hits="145" data-linenumber="579">
              <span class="hits">145</span>
              <code class="sql">    ut_event_manager.trigger_event(&apos;configure_execution_by_path - start&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="580">
            <code class="sql">  end configure_execution_by_path;</code></li>

            <li class="never" data-hits="" data-linenumber="581">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="582">
            <code class="sql">  function get_suites_info(</code></li>

            <li class="never" data-hits="" data-linenumber="583">
            <code class="sql">    a_owner_name     varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="584">
            <code class="sql">    a_package_name   varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="585">
            <code class="sql">  ) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="586">
            <code class="sql">    l_result         sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="587">
            <code class="sql">    l_all_suite_info ut_suite_items_info;</code></li>

            <li class="covered" data-hits="3" data-linenumber="588">
              <span class="hits">3</span>
              <code class="sql">    l_owner_name     varchar2(250) := ut_utils.qualified_sql_name(a_owner_name);</code></li>

            <li class="covered" data-hits="3" data-linenumber="589">
              <span class="hits">3</span>
              <code class="sql">    l_package_name   varchar2(250) := ut_utils.qualified_sql_name(a_package_name);</code></li>

            <li class="never" data-hits="" data-linenumber="590">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="591">
            <code class="sql"></code></li>

            <li class="covered" data-hits="3" data-linenumber="592">
              <span class="hits">3</span>
              <code class="sql">    refresh_cache(l_owner_name);</code></li>

            <li class="never" data-hits="" data-linenumber="593">
            <code class="sql"></code></li>

            <li class="covered" data-hits="3" data-linenumber="594">
              <span class="hits">3</span>
              <code class="sql">    l_all_suite_info := ut_suite_cache_manager.get_cached_suite_info( l_owner_name, l_package_name );</code></li>

            <li class="covered" data-hits="3" data-linenumber="595">
              <span class="hits">3</span>
              <code class="sql">    if can_skip_all_objects_scan( l_owner_name ) then</code></li>

            <li class="covered" data-hits="3" data-linenumber="596">
              <span class="hits">3</span>
              <code class="sql">      open l_result for</code></li>

            <li class="covered" data-hits="1" data-linenumber="597">
              <span class="hits">1</span>
              <code class="sql">        select value(c)</code></li>

            <li class="never" data-hits="" data-linenumber="598">
            <code class="sql">          from table(l_all_suite_info) c</code></li>

            <li class="never" data-hits="" data-linenumber="599">
            <code class="sql">         order by c.object_owner, c.object_name, c.item_line_no;</code></li>

            <li class="never" data-hits="" data-linenumber="600">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="601">
              <code class="sql">      open l_result for</code></li>

            <li class="missed" data-hits="0" data-linenumber="602">
              <code class="sql">        select value(c)</code></li>

            <li class="never" data-hits="" data-linenumber="603">
            <code class="sql">          from table(l_all_suite_info) c</code></li>

            <li class="never" data-hits="" data-linenumber="604">
            <code class="sql">         where exists</code></li>

            <li class="never" data-hits="" data-linenumber="605">
            <code class="sql">                 ( select 1</code></li>

            <li class="never" data-hits="" data-linenumber="606">
            <code class="sql">                     from all_objects a</code></li>

            <li class="never" data-hits="" data-linenumber="607">
            <code class="sql">                    where a.object_name = c.object_name</code></li>

            <li class="never" data-hits="" data-linenumber="608">
            <code class="sql">                      and a.owner       = c.object_owner</code></li>

            <li class="never" data-hits="" data-linenumber="609">
            <code class="sql">                      and a.object_type = &apos;PACKAGE&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="610">
            <code class="sql">                 )</code></li>

            <li class="never" data-hits="" data-linenumber="611">
            <code class="sql">         order by c.object_owner, c.object_name, c.item_line_no;</code></li>

            <li class="never" data-hits="" data-linenumber="612">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="3" data-linenumber="613">
              <span class="hits">3</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="614">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="615">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="616">
            <code class="sql">  function suite_item_exists(</code></li>

            <li class="never" data-hits="" data-linenumber="617">
            <code class="sql">    a_owner_name     varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="618">
            <code class="sql">    a_package_name   varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="619">
            <code class="sql">    a_procedure_name varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="620">
            <code class="sql">  ) return boolean is</code></li>

            <li class="covered" data-hits="12" data-linenumber="621">
              <span class="hits">12</span>
              <code class="sql">    l_count          integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="622">
            <code class="sql">    l_item_exists    boolean;</code></li>

            <li class="covered" data-hits="12" data-linenumber="623">
              <span class="hits">12</span>
              <code class="sql">    l_owner_name     varchar2(250) := upper(a_owner_name);</code></li>

            <li class="covered" data-hits="12" data-linenumber="624">
              <span class="hits">12</span>
              <code class="sql">    l_package_name   varchar2(250) := upper(a_package_name);</code></li>

            <li class="covered" data-hits="12" data-linenumber="625">
              <span class="hits">12</span>
              <code class="sql">    l_procedure_name varchar2(250) := upper(a_procedure_name);</code></li>

            <li class="never" data-hits="" data-linenumber="626">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="627">
            <code class="sql"></code></li>

            <li class="covered" data-hits="12" data-linenumber="628">
              <span class="hits">12</span>
              <code class="sql">    refresh_cache(l_owner_name);</code></li>

            <li class="covered" data-hits="12" data-linenumber="629">
              <span class="hits">12</span>
              <code class="sql">    l_item_exists := ut_suite_cache_manager.suite_item_exists( l_owner_name, l_package_name, l_procedure_name );</code></li>

            <li class="covered" data-hits="12" data-linenumber="630">
              <span class="hits">12</span>
              <code class="sql">    if not can_skip_all_objects_scan( l_owner_name ) then</code></li>

            <li class="missed" data-hits="0" data-linenumber="631">
              <code class="sql">      select count(1)</code></li>

            <li class="never" data-hits="" data-linenumber="632">
            <code class="sql">        into l_count</code></li>

            <li class="never" data-hits="" data-linenumber="633">
            <code class="sql">        from dual c</code></li>

            <li class="never" data-hits="" data-linenumber="634">
            <code class="sql">       where exists</code></li>

            <li class="never" data-hits="" data-linenumber="635">
            <code class="sql">         ( select 1</code></li>

            <li class="never" data-hits="" data-linenumber="636">
            <code class="sql">             from all_objects a</code></li>

            <li class="never" data-hits="" data-linenumber="637">
            <code class="sql">            where a.object_name = l_package_name</code></li>

            <li class="never" data-hits="" data-linenumber="638">
            <code class="sql">              and a.owner       = l_owner_name</code></li>

            <li class="never" data-hits="" data-linenumber="639">
            <code class="sql">              and a.object_type = &apos;PACKAGE&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="640">
            <code class="sql">         );</code></li>

            <li class="never" data-hits="" data-linenumber="641">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="642">
            <code class="sql"></code></li>

            <li class="covered" data-hits="12" data-linenumber="643">
              <span class="hits">12</span>
              <code class="sql">    return l_count &gt; 0 and l_item_exists;</code></li>

            <li class="never" data-hits="" data-linenumber="644">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="645">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="646">
            <code class="sql">end ut_suite_manager;</code></li>
</ol></pre></div>
    <div class="source_table" id="0E8DD0E531663A9A775D60E6239493E8"><div class="header"> <h3>UT3.UT_UTILS</h3><h4><span class="green">94.29 %</span> lines covered</h4><div> <b>350</b> relevant lines. <span class="green"><b>330</b> lines covered</span> (including <span class="yellow"><b>4</b> lines partially covered</span> ) and <span class="red"><b>20</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_utils is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  * Constants regex used to validate XML name</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  */</code></li>

            <li class="covered" data-hits="1" data-linenumber="22">
              <span class="hits">1</span>
              <code class="sql">  gc_invalid_first_xml_char  constant varchar2(50)  := &apos;[^_a-zA-Z]&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="23">
              <span class="hits">1</span>
              <code class="sql">  gc_invalid_xml_char        constant varchar2(50)  := &apos;[^_a-zA-Z0-9\.-]&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="24">
              <span class="hits">1</span>
              <code class="sql">  gc_full_valid_xml_name     constant varchar2(50)  := &apos;^([_a-zA-Z])([_a-zA-Z0-9\.-])*$&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  function surround_with(a_value varchar2, a_quote_char varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1516" data-linenumber="28">
              <span class="hits">1516</span>
              <code class="sql">    return case when a_quote_char is not null then a_quote_char||a_value||a_quote_char else a_value end;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  function test_result_to_char(a_test_result integer) return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    l_result varchar2(20);</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="21" data-linenumber="34">
              <span class="hits">21</span>
              <code class="sql">    if a_test_result = gc_success then</code></li>

            <li class="covered" data-hits="5" data-linenumber="35">
              <span class="hits">5</span>
              <code class="sql">      l_result := gc_success_char;</code></li>

            <li class="covered" data-hits="16" data-linenumber="36">
              <span class="hits">16</span>
              <code class="sql">    elsif a_test_result = gc_failure then</code></li>

            <li class="covered" data-hits="10" data-linenumber="37">
              <span class="hits">10</span>
              <code class="sql">      l_result := gc_failure_char;</code></li>

            <li class="covered" data-hits="6" data-linenumber="38">
              <span class="hits">6</span>
              <code class="sql">    elsif a_test_result = gc_error then</code></li>

            <li class="covered" data-hits="2" data-linenumber="39">
              <span class="hits">2</span>
              <code class="sql">      l_result := gc_error_char;</code></li>

            <li class="covered" data-hits="4" data-linenumber="40">
              <span class="hits">4</span>
              <code class="sql">    elsif a_test_result = gc_disabled then</code></li>

            <li class="covered" data-hits="2" data-linenumber="41">
              <span class="hits">2</span>
              <code class="sql">      l_result := gc_disabled_char;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="2" data-linenumber="43">
              <span class="hits">2</span>
              <code class="sql">      l_result := &apos;Unknown(&apos; || coalesce(to_char(a_test_result),&apos;NULL&apos;) || &apos;)&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    end if ;</code></li>

            <li class="covered" data-hits="21" data-linenumber="45">
              <span class="hits">21</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  end test_result_to_char;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  function to_test_result(a_test boolean) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1306" data-linenumber="52">
              <span class="hits">1306</span>
              <code class="sql">    if a_test then</code></li>

            <li class="covered" data-hits="621" data-linenumber="53">
              <span class="hits">621</span>
              <code class="sql">      l_result := gc_success;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="685" data-linenumber="55">
              <span class="hits">685</span>
              <code class="sql">      l_result := gc_failure;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="1306" data-linenumber="57">
              <span class="hits">1306</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  function gen_savepoint_name return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="321" data-linenumber="62">
              <span class="hits">321</span>
              <code class="sql">    return &apos;s&apos;||trim(to_char(ut_savepoint_seq.nextval,&apos;0000000000000000000000000000&apos;));</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  procedure debug_log(a_message varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">    $if $$ut_trace $then</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">      dbms_output.put_line(a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">    $else</code></li>

            <li class="covered" data-hits="5779" data-linenumber="70">
              <span class="hits">5779</span>
              <code class="sql">      null;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    $end</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  procedure debug_log(a_message clob) is</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">    l_varchars ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">    $if $$ut_trace $then</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">      l_varchars := clob_to_table(a_message);</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">      for i in 1..l_varchars.count loop</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">        dbms_output.put_line(l_varchars(i));</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">    $else</code></li>

            <li class="covered" data-hits="429" data-linenumber="83">
              <span class="hits">429</span>
              <code class="sql">      null;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">    $end</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  function to_string(</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    a_value varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">    a_quote_char varchar2 := &apos;&apos;&apos;&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">    a_max_output_len in number := gc_max_output_string_length</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">    l_result                  varchar2(32767);</code></li>

            <li class="covered" data-hits="1189" data-linenumber="93">
              <span class="hits">1189</span>
              <code class="sql">    c_length                  constant integer := coalesce( length( a_value ), 0 );</code></li>

            <li class="covered" data-hits="1189" data-linenumber="94">
              <span class="hits">1189</span>
              <code class="sql">    c_max_input_string_length constant integer := a_max_output_len - coalesce( length( a_quote_char ) * 2, 0 );</code></li>

            <li class="covered" data-hits="1189" data-linenumber="95">
              <span class="hits">1189</span>
              <code class="sql">    c_overflow_substr_len     constant integer := c_max_input_string_length - gc_more_data_string_len;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1189" data-linenumber="97">
              <span class="hits">1189</span>
              <code class="sql">    if c_length = 0 then</code></li>

            <li class="covered" data-hits="18" data-linenumber="98">
              <span class="hits">18</span>
              <code class="sql">      l_result := gc_null_string;</code></li>

            <li class="covered" data-hits="1171" data-linenumber="99">
              <span class="hits">1171</span>
              <code class="sql">    elsif c_length &lt;= c_max_input_string_length then</code></li>

            <li class="covered" data-hits="1166" data-linenumber="100">
              <span class="hits">1166</span>
              <code class="sql">      l_result := surround_with(a_value, a_quote_char);</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="5" data-linenumber="102">
              <span class="hits">5</span>
              <code class="sql">      l_result := surround_with(substr(a_value, 1, c_overflow_substr_len ), a_quote_char) || gc_more_data_string;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">    end if ;</code></li>

            <li class="covered" data-hits="1189" data-linenumber="104">
              <span class="hits">1189</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">  function to_string(</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">    a_value clob,</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">    a_quote_char varchar2 := &apos;&apos;&apos;&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">    a_max_output_len in number := gc_max_output_string_length</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">  ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">    l_result                  varchar2(32767);</code></li>

            <li class="covered" data-hits="355" data-linenumber="113">
              <span class="hits">355</span>
              <code class="sql">    c_length                  constant integer := coalesce(dbms_lob.getlength(a_value), 0);</code></li>

            <li class="covered" data-hits="355" data-linenumber="114">
              <span class="hits">355</span>
              <code class="sql">    c_max_input_string_length constant integer := a_max_output_len - coalesce( length( a_quote_char ) * 2, 0 );</code></li>

            <li class="covered" data-hits="355" data-linenumber="115">
              <span class="hits">355</span>
              <code class="sql">    c_overflow_substr_len     constant integer := c_max_input_string_length - gc_more_data_string_len;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="355" data-linenumber="117">
              <span class="hits">355</span>
              <code class="sql">    if a_value is null then</code></li>

            <li class="covered" data-hits="16" data-linenumber="118">
              <span class="hits">16</span>
              <code class="sql">      l_result := gc_null_string;</code></li>

            <li class="covered" data-hits="339" data-linenumber="119">
              <span class="hits">339</span>
              <code class="sql">    elsif c_length = 0 then</code></li>

            <li class="covered" data-hits="6" data-linenumber="120">
              <span class="hits">6</span>
              <code class="sql">      l_result := gc_empty_string;</code></li>

            <li class="covered" data-hits="333" data-linenumber="121">
              <span class="hits">333</span>
              <code class="sql">    elsif c_length &lt;= c_max_input_string_length then</code></li>

            <li class="covered" data-hits="315" data-linenumber="122">
              <span class="hits">315</span>
              <code class="sql">      l_result := surround_with(a_value,a_quote_char);</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="18" data-linenumber="124">
              <span class="hits">18</span>
              <code class="sql">      l_result := surround_with(dbms_lob.substr(a_value, c_overflow_substr_len), a_quote_char) || gc_more_data_string;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="355" data-linenumber="126">
              <span class="hits">355</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">  function to_string(</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">    a_value blob,</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">    a_quote_char varchar2 := &apos;&apos;&apos;&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">    a_max_output_len in number := gc_max_output_string_length</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">  ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">    l_result                  varchar2(32767);</code></li>

            <li class="covered" data-hits="34" data-linenumber="135">
              <span class="hits">34</span>
              <code class="sql">    c_length                  constant integer := coalesce(dbms_lob.getlength(a_value), 0);</code></li>

            <li class="covered" data-hits="34" data-linenumber="136">
              <span class="hits">34</span>
              <code class="sql">    c_max_input_string_length constant integer := a_max_output_len - coalesce( length( a_quote_char ) * 2, 0 );</code></li>

            <li class="covered" data-hits="34" data-linenumber="137">
              <span class="hits">34</span>
              <code class="sql">    c_overflow_substr_len     constant integer := c_max_input_string_length - gc_more_data_string_len;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="34" data-linenumber="139">
              <span class="hits">34</span>
              <code class="sql">    if a_value is null then</code></li>

            <li class="covered" data-hits="14" data-linenumber="140">
              <span class="hits">14</span>
              <code class="sql">      l_result := gc_null_string;</code></li>

            <li class="covered" data-hits="20" data-linenumber="141">
              <span class="hits">20</span>
              <code class="sql">    elsif c_length = 0 then</code></li>

            <li class="covered" data-hits="6" data-linenumber="142">
              <span class="hits">6</span>
              <code class="sql">      l_result := gc_empty_string;</code></li>

            <li class="covered" data-hits="14" data-linenumber="143">
              <span class="hits">14</span>
              <code class="sql">    elsif c_length &lt;= c_max_input_string_length then</code></li>

            <li class="covered" data-hits="12" data-linenumber="144">
              <span class="hits">12</span>
              <code class="sql">      l_result := surround_with(rawtohex(a_value),a_quote_char);</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="2" data-linenumber="146">
              <span class="hits">2</span>
              <code class="sql">      l_result := to_string( rawtohex(dbms_lob.substr(a_value, c_overflow_substr_len)) );</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">    end if ;</code></li>

            <li class="covered" data-hits="34" data-linenumber="148">
              <span class="hits">34</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  function to_string(a_value boolean) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="86" data-linenumber="153">
              <span class="hits">86</span>
              <code class="sql">    return case a_value when true then &apos;TRUE&apos; when false then &apos;FALSE&apos; else gc_null_string end;</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">  function to_string(a_value number) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="493" data-linenumber="158">
              <span class="hits">493</span>
              <code class="sql">    return coalesce(to_char(a_value,gc_number_format), gc_null_string);</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">  function to_string(a_value date) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="80" data-linenumber="163">
              <span class="hits">80</span>
              <code class="sql">    return coalesce(to_char(a_value,gc_date_format), gc_null_string);</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">  function to_string(a_value timestamp_unconstrained) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="479" data-linenumber="168">
              <span class="hits">479</span>
              <code class="sql">    return coalesce(to_char(a_value,gc_timestamp_format), gc_null_string);</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">  function to_string(a_value timestamp_tz_unconstrained) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="748" data-linenumber="173">
              <span class="hits">748</span>
              <code class="sql">    return coalesce(to_char(a_value,gc_timestamp_tz_format), gc_null_string);</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">  function to_string(a_value timestamp_ltz_unconstrained) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="86" data-linenumber="178">
              <span class="hits">86</span>
              <code class="sql">    return coalesce(to_char(a_value,gc_timestamp_format), gc_null_string);</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">  function to_string(a_value yminterval_unconstrained) return varchar2 IS</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="72" data-linenumber="183">
              <span class="hits">72</span>
              <code class="sql">    return coalesce(to_char(a_value), gc_null_string);</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">  function to_string(a_value dsinterval_unconstrained) return varchar2 IS</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="72" data-linenumber="188">
              <span class="hits">72</span>
              <code class="sql">    return coalesce(to_char(a_value), gc_null_string);</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">  function boolean_to_int(a_value boolean) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9853" data-linenumber="194">
              <span class="hits">9853</span>
              <code class="sql">    return case a_value when true then 1 when false then 0 end;</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">  function int_to_boolean(a_value integer) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4412" data-linenumber="199">
              <span class="hits">4412</span>
              <code class="sql">    return case a_value when 1 then true when 0 then false end;</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql">  function string_to_table(a_string varchar2, a_delimiter varchar2:= chr(10), a_skip_leading_delimiter varchar2 := &apos;N&apos;) return ut_varchar2_list is</code></li>

            <li class="covered" data-hits="20813" data-linenumber="203">
              <span class="hits">20813</span>
              <code class="sql">    l_offset                 integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">    l_delimiter_position     integer;</code></li>

            <li class="covered" data-hits="20813" data-linenumber="205">
              <span class="hits">20813</span>
              <code class="sql">    l_skip_leading_delimiter boolean := coalesce(a_skip_leading_delimiter = &apos;Y&apos;,false);</code></li>

            <li class="covered" data-hits="20813" data-linenumber="206">
              <span class="hits">20813</span>
              <code class="sql">    l_result                 ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="20813" data-linenumber="208">
              <span class="hits">20813</span>
              <code class="sql">    if a_string is null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="209">
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="20813" data-linenumber="211">
              <span class="hits">20813</span>
              <code class="sql">    if a_delimiter is null then</code></li>

            <li class="covered" data-hits="2" data-linenumber="212">
              <span class="hits">2</span>
              <code class="sql">      return ut_varchar2_list(a_string);</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql"></code></li>

            <li class="covered" data-hits="27082" data-linenumber="215">
              <span class="hits">27082</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="27082" data-linenumber="216">
              <span class="hits">27082</span>
              <code class="sql">      l_delimiter_position := instr(a_string, a_delimiter, l_offset);</code></li>

            <li class="covered" data-hits="27082" data-linenumber="217">
              <span class="hits">27082</span>
              <code class="sql">      if not (l_delimiter_position = 1 and l_skip_leading_delimiter) then</code></li>

            <li class="covered" data-hits="27081" data-linenumber="218">
              <span class="hits">27081</span>
              <code class="sql">        l_result.extend;</code></li>

            <li class="covered" data-hits="27081" data-linenumber="219">
              <span class="hits">27081</span>
              <code class="sql">        if l_delimiter_position &gt; 0 then</code></li>

            <li class="covered" data-hits="6270" data-linenumber="220">
              <span class="hits">6270</span>
              <code class="sql">          l_result(l_result.last) := substr(a_string, l_offset, l_delimiter_position - l_offset);</code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="20811" data-linenumber="222">
              <span class="hits">20811</span>
              <code class="sql">          l_result(l_result.last) := substr(a_string, l_offset);</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="27082" data-linenumber="225">
              <span class="hits">27082</span>
              <code class="sql">      exit when l_delimiter_position = 0;</code></li>

            <li class="covered" data-hits="6271" data-linenumber="226">
              <span class="hits">6271</span>
              <code class="sql">      l_offset := l_delimiter_position + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="20811" data-linenumber="228">
              <span class="hits">20811</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">  function clob_to_table(a_clob clob, a_max_amount integer := 8191, a_delimiter varchar2:= chr(10)) return ut_varchar2_list is</code></li>

            <li class="covered" data-hits="18302" data-linenumber="232">
              <span class="hits">18302</span>
              <code class="sql">    l_offset         integer := 1;</code></li>

            <li class="covered" data-hits="18302" data-linenumber="233">
              <span class="hits">18302</span>
              <code class="sql">    l_length         integer := dbms_lob.getlength(a_clob);</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql">    l_amount         integer;</code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">    l_buffer         varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">    l_last_line      varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">    l_string_results ut_varchar2_list;</code></li>

            <li class="covered" data-hits="18302" data-linenumber="238">
              <span class="hits">18302</span>
              <code class="sql">    l_results        ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">    l_has_last_line  boolean;</code></li>

            <li class="covered" data-hits="18302" data-linenumber="240">
              <span class="hits">18302</span>
              <code class="sql">    l_skip_leading_delimiter varchar2(1) := &apos;N&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="36615" data-linenumber="242">
              <span class="hits">36615</span>
              <code class="sql">    while l_offset &lt;= l_length loop</code></li>

            <li class="covered" data-hits="18313" data-linenumber="243">
              <span class="hits">18313</span>
              <code class="sql">      l_amount := a_max_amount - coalesce( length(l_last_line), 0 );</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql">--      dbms_lob.read(a_clob, l_amount, l_offset, l_buffer);</code></li>

            <li class="covered" data-hits="18313" data-linenumber="245">
              <span class="hits">18313</span>
              <code class="sql">      l_buffer := substr(a_clob, l_offset, l_amount);</code></li>

            <li class="covered" data-hits="18313" data-linenumber="246">
              <span class="hits">18313</span>
              <code class="sql">      l_amount := length(l_buffer);</code></li>

            <li class="covered" data-hits="18313" data-linenumber="247">
              <span class="hits">18313</span>
              <code class="sql">      l_offset := l_offset + l_amount;</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql"></code></li>

            <li class="covered" data-hits="18313" data-linenumber="249">
              <span class="hits">18313</span>
              <code class="sql">      l_string_results := string_to_table( l_last_line || l_buffer, a_delimiter, l_skip_leading_delimiter );</code></li>

            <li class="covered" data-hits="42495" data-linenumber="250">
              <span class="hits">42495</span>
              <code class="sql">      for i in 1 .. l_string_results.count loop</code></li>

            <li class="never" data-hits="" data-linenumber="251">
            <code class="sql">        --if a split of lines was not done or not at the last line</code></li>

            <li class="covered" data-hits="24182" data-linenumber="252">
              <span class="hits">24182</span>
              <code class="sql">        if l_string_results.count = 1 or i &lt; l_string_results.count then</code></li>

            <li class="covered" data-hits="23630" data-linenumber="253">
              <span class="hits">23630</span>
              <code class="sql">          l_results.extend;</code></li>

            <li class="covered" data-hits="23630" data-linenumber="254">
              <span class="hits">23630</span>
              <code class="sql">          l_results(l_results.last) := l_string_results(i);</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">      --check if we need to append the last line to the next element</code></li>

            <li class="covered" data-hits="18313" data-linenumber="259">
              <span class="hits">18313</span>
              <code class="sql">      if l_string_results.count = 1 then</code></li>

            <li class="covered" data-hits="17761" data-linenumber="260">
              <span class="hits">17761</span>
              <code class="sql">        l_has_last_line := false;</code></li>

            <li class="covered" data-hits="17761" data-linenumber="261">
              <span class="hits">17761</span>
              <code class="sql">        l_last_line := null;</code></li>

            <li class="covered" data-hits="552" data-linenumber="262">
              <span class="hits">552</span>
              <code class="sql">      elsif l_string_results.count &gt; 1 then</code></li>

            <li class="covered" data-hits="552" data-linenumber="263">
              <span class="hits">552</span>
              <code class="sql">        l_has_last_line := true;</code></li>

            <li class="covered" data-hits="552" data-linenumber="264">
              <span class="hits">552</span>
              <code class="sql">        l_last_line := l_string_results(l_string_results.count);</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="266">
            <code class="sql"></code></li>

            <li class="covered" data-hits="18313" data-linenumber="267">
              <span class="hits">18313</span>
              <code class="sql">      l_skip_leading_delimiter := &apos;Y&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="268">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="18302" data-linenumber="269">
              <span class="hits">18302</span>
              <code class="sql">    if l_has_last_line then</code></li>

            <li class="covered" data-hits="545" data-linenumber="270">
              <span class="hits">545</span>
              <code class="sql">      l_results.extend;</code></li>

            <li class="covered" data-hits="545" data-linenumber="271">
              <span class="hits">545</span>
              <code class="sql">      l_results(l_results.last) := l_last_line;</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="18302" data-linenumber="273">
              <span class="hits">18302</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="276">
            <code class="sql">  function table_to_clob(a_text_table ut_varchar2_list, a_delimiter varchar2:= chr(10)) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">    l_result     clob;</code></li>

            <li class="covered" data-hits="1018" data-linenumber="278">
              <span class="hits">1018</span>
              <code class="sql">    l_table_rows integer := coalesce(cardinality(a_text_table),0);</code></li>

            <li class="never" data-hits="" data-linenumber="279">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="22014" data-linenumber="280">
              <span class="hits">22014</span>
              <code class="sql">    for i in 1 .. l_table_rows loop</code></li>

            <li class="covered" data-hits="20996" data-linenumber="281">
              <span class="hits">20996</span>
              <code class="sql">      if i &lt; l_table_rows then</code></li>

            <li class="covered" data-hits="20013" data-linenumber="282">
              <span class="hits">20013</span>
              <code class="sql">        append_to_clob(l_result, a_text_table(i)||a_delimiter);</code></li>

            <li class="never" data-hits="" data-linenumber="283">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="983" data-linenumber="284">
              <span class="hits">983</span>
              <code class="sql">        append_to_clob(l_result, a_text_table(i));</code></li>

            <li class="never" data-hits="" data-linenumber="285">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="286">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="1018" data-linenumber="287">
              <span class="hits">1018</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="288">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="289">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">  function table_to_clob(a_text_table ut_varchar2_rows, a_delimiter varchar2:= chr(10)) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="291">
            <code class="sql">    l_result     clob;</code></li>

            <li class="covered" data-hits="18" data-linenumber="292">
              <span class="hits">18</span>
              <code class="sql">    l_table_rows integer := coalesce(cardinality(a_text_table),0);</code></li>

            <li class="never" data-hits="" data-linenumber="293">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="28" data-linenumber="294">
              <span class="hits">28</span>
              <code class="sql">    for i in 1 .. l_table_rows loop</code></li>

            <li class="covered" data-hits="10" data-linenumber="295">
              <span class="hits">10</span>
              <code class="sql">      if i &lt; l_table_rows then</code></li>

            <li class="covered" data-hits="3" data-linenumber="296">
              <span class="hits">3</span>
              <code class="sql">        append_to_clob(l_result, a_text_table(i)||a_delimiter);</code></li>

            <li class="never" data-hits="" data-linenumber="297">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="7" data-linenumber="298">
              <span class="hits">7</span>
              <code class="sql">        append_to_clob(l_result, a_text_table(i));</code></li>

            <li class="never" data-hits="" data-linenumber="299">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="300">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="18" data-linenumber="301">
              <span class="hits">18</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="302">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="303">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="304">
            <code class="sql">  function table_to_clob(a_integer_table ut_integer_list, a_delimiter varchar2:= chr(10)) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="305">
            <code class="sql">    l_result     clob;</code></li>

            <li class="covered" data-hits="16" data-linenumber="306">
              <span class="hits">16</span>
              <code class="sql">    l_table_rows integer := coalesce(cardinality(a_integer_table),0);</code></li>

            <li class="never" data-hits="" data-linenumber="307">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="39" data-linenumber="308">
              <span class="hits">39</span>
              <code class="sql">    for i in 1 .. l_table_rows loop</code></li>

            <li class="covered" data-hits="23" data-linenumber="309">
              <span class="hits">23</span>
              <code class="sql">      if i &lt; l_table_rows then</code></li>

            <li class="covered" data-hits="7" data-linenumber="310">
              <span class="hits">7</span>
              <code class="sql">        append_to_clob(l_result, a_integer_table(i)||a_delimiter);</code></li>

            <li class="never" data-hits="" data-linenumber="311">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="16" data-linenumber="312">
              <span class="hits">16</span>
              <code class="sql">        append_to_clob(l_result, a_integer_table(i));</code></li>

            <li class="never" data-hits="" data-linenumber="313">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="314">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="16" data-linenumber="315">
              <span class="hits">16</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="317">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="318">
            <code class="sql">  function time_diff(a_start_time timestamp with time zone, a_end_time timestamp with time zone) return number is</code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="424" data-linenumber="320">
              <span class="hits">424</span>
              <code class="sql">    return</code></li>

            <li class="never" data-hits="" data-linenumber="321">
            <code class="sql">      extract(day from(a_end_time - a_start_time)) * 24 * 60 * 60 +</code></li>

            <li class="never" data-hits="" data-linenumber="322">
            <code class="sql">      extract(hour from(a_end_time - a_start_time)) * 60 * 60 +</code></li>

            <li class="never" data-hits="" data-linenumber="323">
            <code class="sql">      extract(minute from(a_end_time - a_start_time)) * 60 +</code></li>

            <li class="never" data-hits="" data-linenumber="324">
            <code class="sql">      extract(second from(a_end_time - a_start_time));</code></li>

            <li class="never" data-hits="" data-linenumber="325">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="326">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="327">
            <code class="sql">  function indent_lines(a_text varchar2, a_indent_size integer := 4, a_include_first_line boolean := false) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="328">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="82" data-linenumber="329">
              <span class="hits">82</span>
              <code class="sql">    if a_include_first_line then</code></li>

            <li class="covered" data-hits="82" data-linenumber="330">
              <span class="hits">82</span>
              <code class="sql">      return rtrim(lpad( &apos; &apos;, a_indent_size ) || replace( a_text, chr(10), chr(10) || lpad( &apos; &apos;, a_indent_size ) ));</code></li>

            <li class="never" data-hits="" data-linenumber="331">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="332">
              <code class="sql">      return rtrim(replace( a_text, chr(10), chr(10) || lpad( &apos; &apos;, a_indent_size ) ));</code></li>

            <li class="never" data-hits="" data-linenumber="333">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="334">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="335">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="336">
            <code class="sql">  function get_utplsql_objects_list return ut_object_names is</code></li>

            <li class="never" data-hits="" data-linenumber="337">
            <code class="sql">    l_result ut_object_names;</code></li>

            <li class="never" data-hits="" data-linenumber="338">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="339">
              <code class="sql">    select distinct ut_object_name(sys_context(&apos;userenv&apos;,&apos;current_user&apos;), o.object_name)</code></li>

            <li class="never" data-hits="" data-linenumber="340">
            <code class="sql">      bulk collect into l_result</code></li>

            <li class="never" data-hits="" data-linenumber="341">
            <code class="sql">      from user_objects o</code></li>

            <li class="never" data-hits="" data-linenumber="342">
            <code class="sql">     where o.object_name = &apos;UT&apos; or object_name like &apos;UT\_%&apos; escape &apos;\&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="343">
            <code class="sql">       and o.object_type &lt;&gt; &apos;SYNONYM&apos;;</code></li>

            <li class="missed" data-hits="0" data-linenumber="344">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="345">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="346">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="347">
            <code class="sql">  procedure append_to_list(a_list in out nocopy ut_varchar2_list, a_item varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="348">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1028" data-linenumber="349">
              <span class="hits">1028</span>
              <code class="sql">    if a_item is not null then</code></li>

            <li class="covered" data-hits="169" data-linenumber="350">
              <span class="hits">169</span>
              <code class="sql">      if a_list is null then</code></li>

            <li class="covered" data-hits="6" data-linenumber="351">
              <span class="hits">6</span>
              <code class="sql">        a_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="352">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="169" data-linenumber="353">
              <span class="hits">169</span>
              <code class="sql">      a_list.extend;</code></li>

            <li class="covered" data-hits="169" data-linenumber="354">
              <span class="hits">169</span>
              <code class="sql">      a_list(a_list.last) := a_item;</code></li>

            <li class="never" data-hits="" data-linenumber="355">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="356">
            <code class="sql">  end append_to_list;</code></li>

            <li class="never" data-hits="" data-linenumber="357">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="358">
            <code class="sql">  procedure append_to_list(a_list in out nocopy ut_varchar2_rows, a_items ut_varchar2_rows) is</code></li>

            <li class="never" data-hits="" data-linenumber="359">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="570" data-linenumber="360">
              <span class="hits">570</span>
              <code class="sql">    if a_items is not null then</code></li>

            <li class="covered" data-hits="570" data-linenumber="361">
              <span class="hits">570</span>
              <code class="sql">      if a_list is null then</code></li>

            <li class="covered" data-hits="17" data-linenumber="362">
              <span class="hits">17</span>
              <code class="sql">        a_list := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="363">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="13651" data-linenumber="364">
              <span class="hits">13651</span>
              <code class="sql">      for i in 1 .. a_items.count loop</code></li>

            <li class="covered" data-hits="13081" data-linenumber="365">
              <span class="hits">13081</span>
              <code class="sql">        a_list.extend;</code></li>

            <li class="covered" data-hits="13081" data-linenumber="366">
              <span class="hits">13081</span>
              <code class="sql">        a_list(a_list.last) := a_items(i);</code></li>

            <li class="never" data-hits="" data-linenumber="367">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="368">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="369">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="370">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="371">
            <code class="sql">  procedure append_to_list(a_list in out nocopy ut_varchar2_rows, a_item clob) is</code></li>

            <li class="never" data-hits="" data-linenumber="372">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="479" data-linenumber="373">
              <span class="hits">479</span>
              <code class="sql">    append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="374">
            <code class="sql">      a_list,</code></li>

            <li class="never" data-hits="" data-linenumber="375">
            <code class="sql">      convert_collection(</code></li>

            <li class="never" data-hits="" data-linenumber="376">
            <code class="sql">        clob_to_table( a_item, ut_utils.gc_max_storage_varchar2_len )</code></li>

            <li class="never" data-hits="" data-linenumber="377">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="378">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="379">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="380">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="381">
            <code class="sql">  procedure append_to_list(a_list in out nocopy ut_varchar2_rows, a_item varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="382">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="13264" data-linenumber="383">
              <span class="hits">13264</span>
              <code class="sql">    if a_item is not null then</code></li>

            <li class="covered" data-hits="13264" data-linenumber="384">
              <span class="hits">13264</span>
              <code class="sql">      if a_list is null then</code></li>

            <li class="covered" data-hits="30" data-linenumber="385">
              <span class="hits">30</span>
              <code class="sql">        a_list := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="386">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="13264" data-linenumber="387">
              <span class="hits">13264</span>
              <code class="sql">      if length(a_item) &gt; gc_max_storage_varchar2_len then</code></li>

            <li class="missed" data-hits="0" data-linenumber="388">
              <code class="sql">        append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="389">
            <code class="sql">          a_list,</code></li>

            <li class="never" data-hits="" data-linenumber="390">
            <code class="sql">          ut_utils.convert_collection(</code></li>

            <li class="never" data-hits="" data-linenumber="391">
            <code class="sql">            ut_utils.clob_to_table( a_item, gc_max_storage_varchar2_len )</code></li>

            <li class="never" data-hits="" data-linenumber="392">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="393">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="394">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="13264" data-linenumber="395">
              <span class="hits">13264</span>
              <code class="sql">        a_list.extend;</code></li>

            <li class="covered" data-hits="13264" data-linenumber="396">
              <span class="hits">13264</span>
              <code class="sql">        a_list(a_list.last) := a_item;</code></li>

            <li class="never" data-hits="" data-linenumber="397">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="398">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="399">
            <code class="sql">  end append_to_list;</code></li>

            <li class="never" data-hits="" data-linenumber="400">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="401">
            <code class="sql">  procedure append_to_clob(a_src_clob in out nocopy clob, a_clob_table t_clob_tab, a_delimiter varchar2:= chr(10)) is</code></li>

            <li class="never" data-hits="" data-linenumber="402">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="127" data-linenumber="403">
              <span class="hits">127</span>
              <code class="sql">    if a_clob_table is not null and cardinality(a_clob_table) &gt; 0 then</code></li>

            <li class="covered" data-hits="104" data-linenumber="404">
              <span class="hits">104</span>
              <code class="sql">      if a_src_clob is null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="405">
              <code class="sql">        dbms_lob.createtemporary(a_src_clob, true);</code></li>

            <li class="never" data-hits="" data-linenumber="406">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="433" data-linenumber="407">
              <span class="hits">433</span>
              <code class="sql">      for i in 1 .. a_clob_table.count loop</code></li>

            <li class="covered" data-hits="329" data-linenumber="408">
              <span class="hits">329</span>
              <code class="sql">        dbms_lob.append(a_src_clob,a_clob_table(i));</code></li>

            <li class="covered" data-hits="329" data-linenumber="409">
              <span class="hits">329</span>
              <code class="sql">        if i &lt; a_clob_table.count then</code></li>

            <li class="covered" data-hits="225" data-linenumber="410">
              <span class="hits">225</span>
              <code class="sql">          append_to_clob(a_src_clob,a_delimiter);</code></li>

            <li class="never" data-hits="" data-linenumber="411">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="412">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="413">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="414">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="415">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="416">
            <code class="sql">  procedure append_to_clob(a_src_clob in out nocopy clob, a_new_data clob) is</code></li>

            <li class="never" data-hits="" data-linenumber="417">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1421" data-linenumber="418">
              <span class="hits">1421</span>
              <code class="sql">    if a_new_data is not null and dbms_lob.getlength(a_new_data) &gt; 0 then</code></li>

            <li class="covered" data-hits="1300" data-linenumber="419">
              <span class="hits">1300</span>
              <code class="sql">      if a_src_clob is null then</code></li>

            <li class="covered" data-hits="1018" data-linenumber="420">
              <span class="hits">1018</span>
              <code class="sql">        dbms_lob.createtemporary(a_src_clob, true);</code></li>

            <li class="never" data-hits="" data-linenumber="421">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="1300" data-linenumber="422">
              <span class="hits">1300</span>
              <code class="sql">      dbms_lob.append(a_src_clob, a_new_data);</code></li>

            <li class="never" data-hits="" data-linenumber="423">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="424">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="425">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="426">
            <code class="sql">  procedure append_to_clob(a_src_clob in out nocopy clob, a_new_data varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="427">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="40854" data-linenumber="428">
              <span class="hits">40854</span>
              <code class="sql">    if a_new_data is not null then</code></li>

            <li class="covered" data-hits="40852" data-linenumber="429">
              <span class="hits">40852</span>
              <code class="sql">      if a_src_clob is null then</code></li>

            <li class="covered" data-hits="1673" data-linenumber="430">
              <span class="hits">1673</span>
              <code class="sql">        dbms_lob.createtemporary(a_src_clob, true);</code></li>

            <li class="never" data-hits="" data-linenumber="431">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="40852" data-linenumber="432">
              <span class="hits">40852</span>
              <code class="sql">      dbms_lob.writeappend(a_src_clob, dbms_lob.getlength(a_new_data), a_new_data);</code></li>

            <li class="never" data-hits="" data-linenumber="433">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="434">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="435">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="436">
            <code class="sql">  function convert_collection(a_collection ut_varchar2_list) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="437">
            <code class="sql">    l_result ut_varchar2_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="438">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1064" data-linenumber="439">
              <span class="hits">1064</span>
              <code class="sql">    if a_collection is not null then</code></li>

            <li class="covered" data-hits="1064" data-linenumber="440">
              <span class="hits">1064</span>
              <code class="sql">      l_result := ut_varchar2_rows();</code></li>

            <li class="covered" data-hits="5588" data-linenumber="441">
              <span class="hits">5588</span>
              <code class="sql">      for i in 1 .. a_collection.count loop</code></li>

            <li class="covered" data-hits="4524" data-linenumber="442">
              <span class="hits">4524</span>
              <code class="sql">        l_result.extend();</code></li>

            <li class="covered" data-hits="4524" data-linenumber="443">
              <span class="hits">4524</span>
              <code class="sql">        l_result(i) := substr(a_collection(i),1,gc_max_storage_varchar2_len);</code></li>

            <li class="never" data-hits="" data-linenumber="444">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="445">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="1064" data-linenumber="446">
              <span class="hits">1064</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="447">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="448">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="449">
            <code class="sql">  function to_xpath(a_list varchar2, a_ancestors varchar2 := &apos;/*/&apos;) return varchar2 is</code></li>

            <li class="missed" data-hits="0" data-linenumber="450">
              <code class="sql">    l_xpath varchar2(32767) := a_list;</code></li>

            <li class="never" data-hits="" data-linenumber="451">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="452">
              <code class="sql">    l_xpath := to_xpath( clob_to_table(a_clob=&gt;a_list, a_delimiter=&gt;&apos;,&apos;), a_ancestors);</code></li>

            <li class="missed" data-hits="0" data-linenumber="453">
              <code class="sql">    return l_xpath;</code></li>

            <li class="never" data-hits="" data-linenumber="454">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="455">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="456">
            <code class="sql">  function to_xpath(a_list ut_varchar2_list, a_ancestors varchar2 := &apos;/*/&apos;) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="457">
            <code class="sql">    l_xpath varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="458">
            <code class="sql">    l_item  varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="459">
            <code class="sql">    l_iter  integer;</code></li>

            <li class="never" data-hits="" data-linenumber="460">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="165" data-linenumber="461">
              <span class="hits">165</span>
              <code class="sql">    if a_list is not null then</code></li>

            <li class="covered" data-hits="165" data-linenumber="462">
              <span class="hits">165</span>
              <code class="sql">      l_iter := a_list.first;</code></li>

            <li class="covered" data-hits="464" data-linenumber="463">
              <span class="hits">464</span>
              <code class="sql">      while l_iter is not null loop</code></li>

            <li class="covered" data-hits="299" data-linenumber="464">
              <span class="hits">299</span>
              <code class="sql">        l_item := trim(a_list(l_iter));</code></li>

            <li class="covered" data-hits="299" data-linenumber="465">
              <span class="hits">299</span>
              <code class="sql">        if l_item is not null then</code></li>

            <li class="covered" data-hits="299" data-linenumber="466">
              <span class="hits">299</span>
              <code class="sql">          if l_item like &apos;%,%&apos; then</code></li>

            <li class="missed" data-hits="0" data-linenumber="467">
              <code class="sql">            l_xpath := l_xpath || to_xpath( l_item, a_ancestors ) || &apos;|&apos;;</code></li>

            <li class="covered" data-hits="299" data-linenumber="468">
              <span class="hits">299</span>
              <code class="sql">          elsif l_item like &apos;/%&apos; then</code></li>

            <li class="missed" data-hits="0" data-linenumber="469">
              <code class="sql">            l_xpath := l_xpath || l_item || &apos;|&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="470">
            <code class="sql">          else</code></li>

            <li class="covered" data-hits="299" data-linenumber="471">
              <span class="hits">299</span>
              <code class="sql">            l_xpath := l_xpath || a_ancestors || l_item || &apos;|&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="472">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="473">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="299" data-linenumber="474">
              <span class="hits">299</span>
              <code class="sql">        l_iter := a_list.next(l_iter);</code></li>

            <li class="never" data-hits="" data-linenumber="475">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="165" data-linenumber="476">
              <span class="hits">165</span>
              <code class="sql">      l_xpath := rtrim(l_xpath,&apos;,|&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="477">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="165" data-linenumber="478">
              <span class="hits">165</span>
              <code class="sql">    return l_xpath;</code></li>

            <li class="never" data-hits="" data-linenumber="479">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="480">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="481">
            <code class="sql">  procedure cleanup_session_temp_tables is</code></li>

            <li class="never" data-hits="" data-linenumber="482">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="114" data-linenumber="483">
              <span class="hits">114</span>
              <code class="sql">    execute immediate &apos;truncate table dbmspcc_blocks&apos;;</code></li>

            <li class="covered" data-hits="114" data-linenumber="484">
              <span class="hits">114</span>
              <code class="sql">    execute immediate &apos;truncate table dbmspcc_units&apos;;</code></li>

            <li class="covered" data-hits="114" data-linenumber="485">
              <span class="hits">114</span>
              <code class="sql">    execute immediate &apos;truncate table dbmspcc_runs&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="486">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="487">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="488">
            <code class="sql">  function to_version(a_version_no varchar2) return t_version is</code></li>

            <li class="never" data-hits="" data-linenumber="489">
            <code class="sql">    l_result             t_version;</code></li>

            <li class="covered" data-hits="32" data-linenumber="490">
              <span class="hits">32</span>
              <code class="sql">    c_version_part_regex constant varchar2(20) := &apos;[0-9]+&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="491">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="492">
            <code class="sql"></code></li>

            <li class="covered" data-hits="32" data-linenumber="493">
              <span class="hits">32</span>
              <code class="sql">    if regexp_like(a_version_no,&apos;v?([0-9]+(\.|$)){1,4}&apos;) then</code></li>

            <li class="covered" data-hits="30" data-linenumber="494">
              <span class="hits">30</span>
              <code class="sql">      l_result.major  := regexp_substr(a_version_no, c_version_part_regex, 1, 1);</code></li>

            <li class="covered" data-hits="30" data-linenumber="495">
              <span class="hits">30</span>
              <code class="sql">      l_result.minor  := regexp_substr(a_version_no, c_version_part_regex, 1, 2);</code></li>

            <li class="covered" data-hits="30" data-linenumber="496">
              <span class="hits">30</span>
              <code class="sql">      l_result.bugfix := regexp_substr(a_version_no, c_version_part_regex, 1, 3);</code></li>

            <li class="covered" data-hits="30" data-linenumber="497">
              <span class="hits">30</span>
              <code class="sql">      l_result.build  := regexp_substr(a_version_no, c_version_part_regex, 1, 4);</code></li>

            <li class="never" data-hits="" data-linenumber="498">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="2" data-linenumber="499">
              <span class="hits">2</span>
              <code class="sql">      raise_application_error(gc_invalid_version_no, &apos;Version string &quot;&apos;||a_version_no||&apos;&quot; is not a valid version&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="500">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="30" data-linenumber="501">
              <span class="hits">30</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="502">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="503">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="504">
            <code class="sql">  procedure save_dbms_output_to_cache is</code></li>

            <li class="never" data-hits="" data-linenumber="505">
            <code class="sql">    l_status number;</code></li>

            <li class="never" data-hits="" data-linenumber="506">
            <code class="sql">    l_line   varchar2(32767);</code></li>

            <li class="covered" data-hits="116" data-linenumber="507">
              <span class="hits">116</span>
              <code class="sql">    l_offset integer := 0;</code></li>

            <li class="covered" data-hits="116" data-linenumber="508">
              <span class="hits">116</span>
              <code class="sql">    l_lines  ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="covered" data-hits="116" data-linenumber="509">
              <span class="hits">116</span>
              <code class="sql">    c_lines_limit constant integer := 100;</code></li>

            <li class="never" data-hits="" data-linenumber="510">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="511">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="512">
            <code class="sql">    procedure flush_lines(a_lines ut_varchar2_rows, a_offset integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="513">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="119" data-linenumber="514">
              <span class="hits">119</span>
              <code class="sql">      if a_lines is not empty then</code></li>

            <li class="covered" data-hits="4" data-linenumber="515">
              <span class="hits">4</span>
              <code class="sql">        insert into ut_dbms_output_cache (seq_no,text)</code></li>

            <li class="never" data-hits="" data-linenumber="516">
            <code class="sql">          select rownum+a_offset, column_value</code></li>

            <li class="never" data-hits="" data-linenumber="517">
            <code class="sql">          from table(a_lines);</code></li>

            <li class="never" data-hits="" data-linenumber="518">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="519">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="520">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="419" data-linenumber="521">
              <span class="hits">419</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="419" data-linenumber="522">
              <span class="hits">419</span>
              <code class="sql">      dbms_output.get_line(line =&gt; l_line, status =&gt; l_status);</code></li>

            <li class="covered" data-hits="419" data-linenumber="523">
              <span class="hits">419</span>
              <code class="sql">      exit when l_status = 1;</code></li>

            <li class="covered" data-hits="303" data-linenumber="524">
              <span class="hits">303</span>
              <code class="sql">      l_lines := l_lines multiset union all ut_utils.convert_collection(ut_utils.clob_to_table(l_line||chr(7),4000));</code></li>

            <li class="covered" data-hits="303" data-linenumber="525">
              <span class="hits">303</span>
              <code class="sql">      if l_lines.count &gt; c_lines_limit then</code></li>

            <li class="covered" data-hits="3" data-linenumber="526">
              <span class="hits">3</span>
              <code class="sql">        flush_lines(l_lines, l_offset);</code></li>

            <li class="covered" data-hits="3" data-linenumber="527">
              <span class="hits">3</span>
              <code class="sql">        l_offset := l_offset + l_lines.count;</code></li>

            <li class="covered" data-hits="3" data-linenumber="528">
              <span class="hits">3</span>
              <code class="sql">        l_lines.delete;</code></li>

            <li class="never" data-hits="" data-linenumber="529">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="530">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="116" data-linenumber="531">
              <span class="hits">116</span>
              <code class="sql">    flush_lines(l_lines, l_offset);</code></li>

            <li class="covered" data-hits="116" data-linenumber="532">
              <span class="hits">116</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="533">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="534">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="535">
            <code class="sql">  procedure read_cache_to_dbms_output is</code></li>

            <li class="never" data-hits="" data-linenumber="536">
            <code class="sql">    l_lines_data sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="537">
            <code class="sql">    l_lines  ut_varchar2_rows;</code></li>

            <li class="covered" data-hits="116" data-linenumber="538">
              <span class="hits">116</span>
              <code class="sql">    c_lines_limit constant integer := 10000;</code></li>

            <li class="never" data-hits="" data-linenumber="539">
            <code class="sql">    pragma autonomous_transaction;</code></li>

            <li class="never" data-hits="" data-linenumber="540">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="541">
              <span class="hits">116</span>
              <code class="sql">    open l_lines_data for select text from ut_dbms_output_cache order by seq_no;</code></li>

            <li class="covered" data-hits="116" data-linenumber="542">
              <span class="hits">116</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="116" data-linenumber="543">
              <span class="hits">116</span>
              <code class="sql">      fetch l_lines_data bulk collect into l_lines limit c_lines_limit;</code></li>

            <li class="covered" data-hits="421" data-linenumber="544">
              <span class="hits">421</span>
              <code class="sql">      for i in 1 .. l_lines.count loop</code></li>

            <li class="covered" data-hits="305" data-linenumber="545">
              <span class="hits">305</span>
              <code class="sql">        if substr(l_lines(i),-1) = chr(7) then</code></li>

            <li class="covered" data-hits="303" data-linenumber="546">
              <span class="hits">303</span>
              <code class="sql">          dbms_output.put_line(rtrim(l_lines(i),chr(7)));</code></li>

            <li class="never" data-hits="" data-linenumber="547">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="2" data-linenumber="548">
              <span class="hits">2</span>
              <code class="sql">          dbms_output.put(l_lines(i));</code></li>

            <li class="never" data-hits="" data-linenumber="549">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="550">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="116" data-linenumber="551">
              <span class="hits">116</span>
              <code class="sql">      exit when l_lines_data%notfound;</code></li>

            <li class="never" data-hits="" data-linenumber="552">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="116" data-linenumber="553">
              <span class="hits">116</span>
              <code class="sql">    execute immediate &apos;truncate table ut_dbms_output_cache&apos;;</code></li>

            <li class="covered" data-hits="116" data-linenumber="554">
              <span class="hits">116</span>
              <code class="sql">    commit;</code></li>

            <li class="never" data-hits="" data-linenumber="555">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="556">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="557">
            <code class="sql">  function ut_owner return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="558">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1428" data-linenumber="559">
              <span class="hits">1428</span>
              <code class="sql">    return sys_context(&apos;userenv&apos;,&apos;current_schema&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="560">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="561">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="562">
            <code class="sql">  function scale_cardinality(a_cardinality natural) return natural is</code></li>

            <li class="never" data-hits="" data-linenumber="563">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="396" data-linenumber="564">
              <span class="hits">396</span>
              <code class="sql">    return case when a_cardinality &gt; 0 then trunc(power(10,(floor(log(10,a_cardinality))+1))/3) else 1 end;</code></li>

            <li class="never" data-hits="" data-linenumber="565">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="566">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="567">
            <code class="sql">  function build_depreciation_warning(a_old_syntax varchar2, a_new_syntax varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="568">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="23" data-linenumber="569">
              <span class="hits">23</span>
              <code class="sql">    return &apos;The syntax: &quot;&apos;||a_old_syntax||&apos;&quot; is deprecated.&apos; ||chr(10)||</code></li>

            <li class="never" data-hits="" data-linenumber="570">
            <code class="sql">           &apos;Please use the new syntax: &quot;&apos;||a_new_syntax||&apos;&quot;.&apos; ||chr(10)||</code></li>

            <li class="never" data-hits="" data-linenumber="571">
            <code class="sql">           &apos;The deprecated syntax will not be supported in future releases.&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="572">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="573">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="574">
            <code class="sql">  function to_xml_number_format(a_value number) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="575">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="90" data-linenumber="576">
              <span class="hits">90</span>
              <code class="sql">    return to_char(a_value, gc_number_format, &apos;NLS_NUMERIC_CHARACTERS=&apos;&apos;. &apos;&apos;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="577">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="578">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="579">
            <code class="sql">  function get_xml_header(a_encoding varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="580">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="38" data-linenumber="581">
              <span class="hits">38</span>
              <code class="sql">    return</code></li>

            <li class="never" data-hits="" data-linenumber="582">
            <code class="sql">      &apos;&lt;?xml version=&quot;1.0&quot;&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="583">
              <span class="hits">1</span>
              <code class="sql">      ||case</code></li>

            <li class="covered" data-hits="1" data-linenumber="584">
              <span class="hits">1</span>
              <code class="sql">          when a_encoding is not null</code></li>

            <li class="never" data-hits="" data-linenumber="585">
            <code class="sql">          then &apos; encoding=&quot;&apos;||upper(a_encoding)||&apos;&quot;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="586">
            <code class="sql">        end</code></li>

            <li class="never" data-hits="" data-linenumber="587">
            <code class="sql">      ||&apos;?&gt;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="588">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="589">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="590">
            <code class="sql">  function trim_list_elements(a_list ut_varchar2_list, a_regexp_to_trim varchar2 default &apos;[:space:]&apos;) return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="591">
            <code class="sql">    l_trimmed_list ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="592">
            <code class="sql">    l_index integer;</code></li>

            <li class="never" data-hits="" data-linenumber="593">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="800" data-linenumber="594">
              <span class="hits">800</span>
              <code class="sql">    if a_list is not null then</code></li>

            <li class="covered" data-hits="799" data-linenumber="595">
              <span class="hits">799</span>
              <code class="sql">      l_trimmed_list := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="799" data-linenumber="596">
              <span class="hits">799</span>
              <code class="sql">      l_index := a_list.first;</code></li>

            <li class="never" data-hits="" data-linenumber="597">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1734" data-linenumber="598">
              <span class="hits">1734</span>
              <code class="sql">      while (l_index is not null) loop</code></li>

            <li class="covered" data-hits="935" data-linenumber="599">
              <span class="hits">935</span>
              <code class="sql">        l_trimmed_list.extend;</code></li>

            <li class="covered" data-hits="935" data-linenumber="600">
              <span class="hits">935</span>
              <code class="sql">        l_trimmed_list(l_trimmed_list.count) := regexp_replace(a_list(l_index), &apos;(^[&apos;||a_regexp_to_trim||&apos;]*)|([&apos;||a_regexp_to_trim||&apos;]*$)&apos;);</code></li>

            <li class="covered" data-hits="935" data-linenumber="601">
              <span class="hits">935</span>
              <code class="sql">        l_index := a_list.next(l_index);</code></li>

            <li class="never" data-hits="" data-linenumber="602">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="603">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="604">
            <code class="sql"></code></li>

            <li class="covered" data-hits="800" data-linenumber="605">
              <span class="hits">800</span>
              <code class="sql">    return l_trimmed_list;</code></li>

            <li class="never" data-hits="" data-linenumber="606">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="607">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="608">
            <code class="sql">  function filter_list(a_list in ut_varchar2_list, a_regexp_filter in varchar2) return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="609">
            <code class="sql">    l_filtered_list ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="610">
            <code class="sql">    l_index integer;</code></li>

            <li class="never" data-hits="" data-linenumber="611">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="770" data-linenumber="612">
              <span class="hits">770</span>
              <code class="sql">    if a_list is not null then</code></li>

            <li class="covered" data-hits="769" data-linenumber="613">
              <span class="hits">769</span>
              <code class="sql">      l_filtered_list := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="769" data-linenumber="614">
              <span class="hits">769</span>
              <code class="sql">      l_index := a_list.first;</code></li>

            <li class="covered" data-hits="1651" data-linenumber="615">
              <span class="hits">1651</span>
              <code class="sql">      while (l_index is not null) loop</code></li>

            <li class="covered" data-hits="882" data-linenumber="616">
              <span class="hits">882</span>
              <code class="sql">        if regexp_like(a_list(l_index), a_regexp_filter) then</code></li>

            <li class="covered" data-hits="875" data-linenumber="617">
              <span class="hits">875</span>
              <code class="sql">          l_filtered_list.extend;</code></li>

            <li class="covered" data-hits="875" data-linenumber="618">
              <span class="hits">875</span>
              <code class="sql">          l_filtered_list(l_filtered_list.count) := a_list(l_index);</code></li>

            <li class="never" data-hits="" data-linenumber="619">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="882" data-linenumber="620">
              <span class="hits">882</span>
              <code class="sql">        l_index := a_list.next(l_index);</code></li>

            <li class="never" data-hits="" data-linenumber="621">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="622">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="623">
            <code class="sql"></code></li>

            <li class="covered" data-hits="770" data-linenumber="624">
              <span class="hits">770</span>
              <code class="sql">    return l_filtered_list;</code></li>

            <li class="never" data-hits="" data-linenumber="625">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="626">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="627">
            <code class="sql">  function xmlgen_escaped_string(a_string in varchar2) return varchar2 is</code></li>

            <li class="missed" data-hits="0" data-linenumber="628">
              <code class="sql">    l_result varchar2(4000) := a_string;</code></li>

            <li class="missed" data-hits="0" data-linenumber="629">
              <code class="sql">    l_sql varchar2(32767) := q&apos;!select q&apos;[!&apos;||a_string||q&apos;!]&apos; as &quot;!&apos;||a_string||&apos;&quot; from dual&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="630">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="631">
              <code class="sql">    if a_string is not null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="632">
              <code class="sql">      select extract(dbms_xmlgen.getxmltype(l_sql),&apos;/*/*/*&apos;).getRootElement()</code></li>

            <li class="never" data-hits="" data-linenumber="633">
            <code class="sql">      into l_result</code></li>

            <li class="never" data-hits="" data-linenumber="634">
            <code class="sql">      from dual;</code></li>

            <li class="never" data-hits="" data-linenumber="635">
            <code class="sql">    end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="636">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="637">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="638">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="639">
            <code class="sql">  function replace_multiline_comments(a_source clob) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="640">
            <code class="sql">    l_result                  clob;</code></li>

            <li class="covered" data-hits="558" data-linenumber="641">
              <span class="hits">558</span>
              <code class="sql">    l_ml_comment_start        binary_integer := 1;</code></li>

            <li class="covered" data-hits="558" data-linenumber="642">
              <span class="hits">558</span>
              <code class="sql">    l_comment_start           binary_integer := 1;</code></li>

            <li class="covered" data-hits="558" data-linenumber="643">
              <span class="hits">558</span>
              <code class="sql">    l_text_start              binary_integer := 1;</code></li>

            <li class="covered" data-hits="558" data-linenumber="644">
              <span class="hits">558</span>
              <code class="sql">    l_escaped_text_start      binary_integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="645">
            <code class="sql">    l_escaped_text_end_char   varchar2(1 char);</code></li>

            <li class="covered" data-hits="558" data-linenumber="646">
              <span class="hits">558</span>
              <code class="sql">    l_end                     binary_integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="647">
            <code class="sql">    l_ml_comment              clob;</code></li>

            <li class="never" data-hits="" data-linenumber="648">
            <code class="sql">    l_newlines_count          binary_integer;</code></li>

            <li class="covered" data-hits="558" data-linenumber="649">
              <span class="hits">558</span>
              <code class="sql">    l_offset                  binary_integer := 1;</code></li>

            <li class="covered" data-hits="558" data-linenumber="650">
              <span class="hits">558</span>
              <code class="sql">    l_length                  binary_integer := coalesce(dbms_lob.getlength(a_source), 0);</code></li>

            <li class="never" data-hits="" data-linenumber="651">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="558" data-linenumber="652">
              <span class="hits">558</span>
              <code class="sql">    l_ml_comment_start := instr(a_source,&apos;/*&apos;);</code></li>

            <li class="covered" data-hits="558" data-linenumber="653">
              <span class="hits">558</span>
              <code class="sql">    l_comment_start := instr(a_source,&apos;--&apos;);</code></li>

            <li class="covered" data-hits="558" data-linenumber="654">
              <span class="hits">558</span>
              <code class="sql">    l_text_start := instr(a_source,&apos;&apos;&apos;&apos;);</code></li>

            <li class="covered" data-hits="558" data-linenumber="655">
              <span class="hits">558</span>
              <code class="sql">    l_escaped_text_start := instr(a_source,q&apos;[q&apos;]&apos;);</code></li>

            <li class="covered" data-hits="739" data-linenumber="656">
              <span class="hits">739</span>
              <code class="sql">    while l_offset &gt; 0 and l_ml_comment_start &gt; 0 loop</code></li>

            <li class="never" data-hits="" data-linenumber="657">
            <code class="sql"></code></li>

            <li class="covered" data-hits="181" data-linenumber="658">
              <span class="hits">181</span>
              <code class="sql">      if l_ml_comment_start &gt; 0 and (l_ml_comment_start &lt; l_comment_start or l_comment_start = 0)</code></li>

            <li class="covered" data-hits="1" data-linenumber="659">
              <span class="hits">1</span>
              <code class="sql">        and (l_ml_comment_start &lt; l_text_start or l_text_start = 0)and (l_ml_comment_start &lt; l_escaped_text_start or l_escaped_text_start = 0)</code></li>

            <li class="never" data-hits="" data-linenumber="660">
            <code class="sql">      then</code></li>

            <li class="covered" data-hits="13" data-linenumber="661">
              <span class="hits">13</span>
              <code class="sql">        l_end := instr(a_source,&apos;*/&apos;,l_ml_comment_start+2);</code></li>

            <li class="covered" data-hits="13" data-linenumber="662">
              <span class="hits">13</span>
              <code class="sql">        append_to_clob(l_result, dbms_lob.substr(a_source, l_ml_comment_start-l_offset, l_offset));</code></li>

            <li class="covered" data-hits="13" data-linenumber="663">
              <span class="hits">13</span>
              <code class="sql">        if l_end &gt; 0 then</code></li>

            <li class="covered" data-hits="13" data-linenumber="664">
              <span class="hits">13</span>
              <code class="sql">          l_ml_comment     := substr(a_source, l_ml_comment_start, l_end-l_ml_comment_start);</code></li>

            <li class="covered" data-hits="13" data-linenumber="665">
              <span class="hits">13</span>
              <code class="sql">          l_newlines_count := length( l_ml_comment ) - length( translate( l_ml_comment, &apos;a&apos;||chr(10), &apos;a&apos;) );</code></li>

            <li class="covered" data-hits="13" data-linenumber="666">
              <span class="hits">13</span>
              <code class="sql">          if l_newlines_count &gt; 0 then</code></li>

            <li class="covered" data-hits="6" data-linenumber="667">
              <span class="hits">6</span>
              <code class="sql">            append_to_clob(l_result, lpad( chr(10), l_newlines_count, chr(10) ) );</code></li>

            <li class="never" data-hits="" data-linenumber="668">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="13" data-linenumber="669">
              <span class="hits">13</span>
              <code class="sql">          l_end := l_end + 2;</code></li>

            <li class="never" data-hits="" data-linenumber="670">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="671">
            <code class="sql">      else</code></li>

            <li class="never" data-hits="" data-linenumber="672">
            <code class="sql"></code></li>

            <li class="covered" data-hits="168" data-linenumber="673">
              <span class="hits">168</span>
              <code class="sql">        if l_comment_start &gt; 0 and (l_comment_start &lt; l_ml_comment_start or l_ml_comment_start = 0)</code></li>

            <li class="covered" data-hits="1" data-linenumber="674">
              <span class="hits">1</span>
              <code class="sql">           and (l_comment_start &lt; l_text_start or l_text_start = 0) and (l_comment_start &lt; l_escaped_text_start or l_escaped_text_start = 0)</code></li>

            <li class="never" data-hits="" data-linenumber="675">
            <code class="sql">        then</code></li>

            <li class="covered" data-hits="163" data-linenumber="676">
              <span class="hits">163</span>
              <code class="sql">          l_end := instr(a_source,chr(10),l_comment_start+2);</code></li>

            <li class="covered" data-hits="163" data-linenumber="677">
              <span class="hits">163</span>
              <code class="sql">          if l_end &gt; 0 then</code></li>

            <li class="covered" data-hits="163" data-linenumber="678">
              <span class="hits">163</span>
              <code class="sql">            l_end := l_end + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="679">
            <code class="sql">          end if;</code></li>

            <li class="partcov" data-hits="5" data-blocks="2/3" data-linenumber="680">
                <span class="blocks">2/3</span>
              <span class="hits">5</span>
              <code class="sql">        elsif l_text_start &gt; 0 and (l_text_start &lt; l_ml_comment_start or l_ml_comment_start = 0)</code></li>

            <li class="covered" data-hits="1" data-linenumber="681">
              <span class="hits">1</span>
              <code class="sql">              and (l_text_start &lt; l_comment_start or l_comment_start = 0) and (l_text_start &lt; l_escaped_text_start or l_escaped_text_start = 0)</code></li>

            <li class="never" data-hits="" data-linenumber="682">
            <code class="sql">        then</code></li>

            <li class="covered" data-hits="3" data-linenumber="683">
              <span class="hits">3</span>
              <code class="sql">          l_end := instr(a_source,q&apos;[&apos;]&apos;,l_text_start+1);</code></li>

            <li class="never" data-hits="" data-linenumber="684">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="685">
            <code class="sql">          --skip double quotes while searching for end of quoted text</code></li>

            <li class="covered" data-hits="3" data-linenumber="686">
              <span class="hits">3</span>
              <code class="sql">          while l_end &gt; 0 and l_end = instr(a_source,q&apos;[&apos;&apos;]&apos;,l_text_start+1) loop</code></li>

            <li class="missed" data-hits="0" data-linenumber="687">
              <code class="sql">            l_end := instr(a_source,q&apos;[&apos;]&apos;,l_end+1);</code></li>

            <li class="never" data-hits="" data-linenumber="688">
            <code class="sql">          end loop;</code></li>

            <li class="covered" data-hits="3" data-linenumber="689">
              <span class="hits">3</span>
              <code class="sql">          if l_end &gt; 0 then</code></li>

            <li class="covered" data-hits="3" data-linenumber="690">
              <span class="hits">3</span>
              <code class="sql">            l_end := l_end + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="691">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="692">
            <code class="sql"></code></li>

            <li class="partcov" data-hits="2" data-blocks="2/3" data-linenumber="693">
                <span class="blocks">2/3</span>
              <span class="hits">2</span>
              <code class="sql">        elsif l_escaped_text_start &gt; 0 and (l_escaped_text_start &lt; l_ml_comment_start or l_ml_comment_start = 0)</code></li>

            <li class="partcov" data-hits="1" data-blocks="3/4" data-linenumber="694">
                <span class="blocks">3/4</span>
              <span class="hits">1</span>
              <code class="sql">              and (l_escaped_text_start &lt; l_comment_start or l_comment_start = 0) and (l_escaped_text_start &lt; l_text_start or l_text_start = 0)</code></li>

            <li class="never" data-hits="" data-linenumber="695">
            <code class="sql">        then</code></li>

            <li class="never" data-hits="" data-linenumber="696">
            <code class="sql">          --translate char &quot;[&quot; from the start of quoted text  &quot;q&apos;[someting]&apos;&quot; into &quot;]&quot;</code></li>

            <li class="covered" data-hits="2" data-linenumber="697">
              <span class="hits">2</span>
              <code class="sql">          l_escaped_text_end_char := translate( substr(a_source, l_escaped_text_start + 2, 1), &apos;[{(&lt;&apos;, &apos;]})&gt;&apos;);</code></li>

            <li class="covered" data-hits="2" data-linenumber="698">
              <span class="hits">2</span>
              <code class="sql">          l_end := instr(a_source,l_escaped_text_end_char||&apos;&apos;&apos;&apos;,l_escaped_text_start + 3 );</code></li>

            <li class="covered" data-hits="2" data-linenumber="699">
              <span class="hits">2</span>
              <code class="sql">          if l_end &gt; 0 then</code></li>

            <li class="covered" data-hits="2" data-linenumber="700">
              <span class="hits">2</span>
              <code class="sql">            l_end := l_end + 2;</code></li>

            <li class="never" data-hits="" data-linenumber="701">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="702">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="703">
            <code class="sql"></code></li>

            <li class="covered" data-hits="168" data-linenumber="704">
              <span class="hits">168</span>
              <code class="sql">        if l_end = 0 then</code></li>

            <li class="missed" data-hits="0" data-linenumber="705">
              <code class="sql">          append_to_clob(l_result, substr(a_source, l_offset, l_length-l_offset));</code></li>

            <li class="never" data-hits="" data-linenumber="706">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="168" data-linenumber="707">
              <span class="hits">168</span>
              <code class="sql">          append_to_clob(l_result, substr(a_source, l_offset, l_end-l_offset));</code></li>

            <li class="never" data-hits="" data-linenumber="708">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="709">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="181" data-linenumber="710">
              <span class="hits">181</span>
              <code class="sql">      l_offset := l_end;</code></li>

            <li class="covered" data-hits="181" data-linenumber="711">
              <span class="hits">181</span>
              <code class="sql">      if l_offset &gt;= l_ml_comment_start then</code></li>

            <li class="covered" data-hits="19" data-linenumber="712">
              <span class="hits">19</span>
              <code class="sql">        l_ml_comment_start := instr(a_source,&apos;/*&apos;,l_offset);</code></li>

            <li class="never" data-hits="" data-linenumber="713">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="181" data-linenumber="714">
              <span class="hits">181</span>
              <code class="sql">      if l_offset &gt;= l_comment_start then</code></li>

            <li class="covered" data-hits="167" data-linenumber="715">
              <span class="hits">167</span>
              <code class="sql">        l_comment_start := instr(a_source,&apos;--&apos;,l_offset);</code></li>

            <li class="never" data-hits="" data-linenumber="716">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="181" data-linenumber="717">
              <span class="hits">181</span>
              <code class="sql">      if l_offset &gt;= l_text_start then</code></li>

            <li class="covered" data-hits="166" data-linenumber="718">
              <span class="hits">166</span>
              <code class="sql">        l_text_start := instr(a_source,&apos;&apos;&apos;&apos;,l_offset);</code></li>

            <li class="never" data-hits="" data-linenumber="719">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="181" data-linenumber="720">
              <span class="hits">181</span>
              <code class="sql">      if l_offset &gt;= l_escaped_text_start then</code></li>

            <li class="covered" data-hits="171" data-linenumber="721">
              <span class="hits">171</span>
              <code class="sql">        l_escaped_text_start := instr(a_source,q&apos;[q&apos;]&apos;,l_offset);</code></li>

            <li class="never" data-hits="" data-linenumber="722">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="723">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="558" data-linenumber="724">
              <span class="hits">558</span>
              <code class="sql">    append_to_clob(l_result, substr(a_source, l_end));</code></li>

            <li class="covered" data-hits="558" data-linenumber="725">
              <span class="hits">558</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="726">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="727">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="728">
            <code class="sql">  function get_child_reporters(a_for_reporters ut_reporters_info := null) return ut_reporters_info is</code></li>

            <li class="covered" data-hits="4" data-linenumber="729">
              <span class="hits">4</span>
              <code class="sql">    l_for_reporters ut_reporters_info := a_for_reporters;</code></li>

            <li class="never" data-hits="" data-linenumber="730">
            <code class="sql">    l_results       ut_reporters_info;</code></li>

            <li class="never" data-hits="" data-linenumber="731">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="732">
              <span class="hits">4</span>
              <code class="sql">    if l_for_reporters is null then</code></li>

            <li class="covered" data-hits="1" data-linenumber="733">
              <span class="hits">1</span>
              <code class="sql">      l_for_reporters := ut_reporters_info(ut_reporter_info(&apos;UT_REPORTER_BASE&apos;,&apos;N&apos;,&apos;N&apos;,&apos;N&apos;));</code></li>

            <li class="never" data-hits="" data-linenumber="734">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="735">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="736">
              <span class="hits">4</span>
              <code class="sql">    select /*+ cardinality(f 10) */</code></li>

            <li class="never" data-hits="" data-linenumber="737">
            <code class="sql">      ut_reporter_info(</code></li>

            <li class="never" data-hits="" data-linenumber="738">
            <code class="sql">        object_name =&gt; t.type_name,</code></li>

            <li class="never" data-hits="" data-linenumber="739">
            <code class="sql">        is_output_reporter =&gt;</code></li>

            <li class="never" data-hits="" data-linenumber="740">
            <code class="sql">          case</code></li>

            <li class="never" data-hits="" data-linenumber="741">
            <code class="sql">            when f.is_output_reporter = &apos;Y&apos; or t.type_name = &apos;UT_OUTPUT_REPORTER_BASE&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="742">
            <code class="sql">            then &apos;Y&apos; else &apos;N&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="743">
            <code class="sql">          end,</code></li>

            <li class="never" data-hits="" data-linenumber="744">
            <code class="sql">        is_instantiable =&gt; case when t.instantiable = &apos;YES&apos; then &apos;Y&apos; else &apos;N&apos; end,</code></li>

            <li class="never" data-hits="" data-linenumber="745">
            <code class="sql">        is_final =&gt; case when t.final = &apos;YES&apos; then &apos;Y&apos; else &apos;N&apos; end</code></li>

            <li class="never" data-hits="" data-linenumber="746">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="747">
            <code class="sql">    bulk collect into l_results</code></li>

            <li class="never" data-hits="" data-linenumber="748">
            <code class="sql">    from user_types t</code></li>

            <li class="never" data-hits="" data-linenumber="749">
            <code class="sql">    join (select * from table(l_for_reporters) where is_final = &apos;N&apos; ) f</code></li>

            <li class="never" data-hits="" data-linenumber="750">
            <code class="sql">      on f.object_name = supertype_name;</code></li>

            <li class="never" data-hits="" data-linenumber="751">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="752">
              <span class="hits">4</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="753">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="754">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="755">
            <code class="sql">  function remove_error_from_stack(a_error_stack varchar2, a_ora_code number) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="756">
            <code class="sql">    l_caller_stack_line          varchar2(4000);</code></li>

            <li class="covered" data-hits="4" data-linenumber="757">
              <span class="hits">4</span>
              <code class="sql">    l_ora_search_pattern         varchar2(500) := &apos;^ORA&apos;||a_ora_code||&apos;: (.*)$&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="758">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="759">
              <span class="hits">4</span>
              <code class="sql">   l_caller_stack_line := regexp_replace(srcstr     =&gt; a_error_stack</code></li>

            <li class="never" data-hits="" data-linenumber="760">
            <code class="sql">                          ,pattern    =&gt; l_ora_search_pattern</code></li>

            <li class="never" data-hits="" data-linenumber="761">
            <code class="sql">                          ,replacestr =&gt; null</code></li>

            <li class="never" data-hits="" data-linenumber="762">
            <code class="sql">                          ,position   =&gt; 1</code></li>

            <li class="never" data-hits="" data-linenumber="763">
            <code class="sql">                          ,occurrence =&gt; 1</code></li>

            <li class="never" data-hits="" data-linenumber="764">
            <code class="sql">                          ,modifier   =&gt; &apos;m&apos;);</code></li>

            <li class="covered" data-hits="4" data-linenumber="765">
              <span class="hits">4</span>
              <code class="sql">   return l_caller_stack_line;</code></li>

            <li class="never" data-hits="" data-linenumber="766">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="767">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="768">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="769">
            <code class="sql">  * Change string into unicode to match xmlgen format _00&lt;unicode&gt;_</code></li>

            <li class="never" data-hits="" data-linenumber="770">
            <code class="sql">  * https://docs.oracle.com/en/database/oracle/oracle-database/12.2/adxdb/generation-of-XML-data-from-relational-data.html#GUID-5BE09A7D-80D8-4734-B9AF-4A61F27FA9B2</code></li>

            <li class="never" data-hits="" data-linenumber="771">
            <code class="sql">  * secion v3.1.8.3169-develop</code></li>

            <li class="never" data-hits="" data-linenumber="772">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="773">
            <code class="sql">  function char_to_xmlgen_unicode(a_character varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="774">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="20" data-linenumber="775">
              <span class="hits">20</span>
              <code class="sql">    return &apos;_x00&apos;||rawtohex(utl_raw.cast_to_raw(a_character))||&apos;_&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="776">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="777">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="778">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="779">
            <code class="sql">  * Build valid XML column name as element names can contain letters, digits, hyphens, underscores, and periods</code></li>

            <li class="never" data-hits="" data-linenumber="780">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="781">
            <code class="sql">  function build_valid_xml_name(a_preprocessed_name varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="782">
            <code class="sql">    l_post_processed varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="783">
            <code class="sql">  begin</code></li>

            <li class="partcov" data-hits="92" data-blocks="1/2" data-linenumber="784">
                <span class="blocks">1/2</span>
              <span class="hits">92</span>
              <code class="sql">    for i in (select regexp_substr( a_preprocessed_name ,&apos;(.{1})&apos;, 1, level, null, 1 ) AS string_char,level level_no</code></li>

            <li class="never" data-hits="" data-linenumber="785">
            <code class="sql">              from   dual connect by level &lt;= regexp_count(a_preprocessed_name, &apos;(.{1})&apos;))</code></li>

            <li class="never" data-hits="" data-linenumber="786">
            <code class="sql">    loop</code></li>

            <li class="covered" data-hits="60" data-linenumber="787">
              <span class="hits">60</span>
              <code class="sql">      if i.level_no = 1 and regexp_like(i.string_char,gc_invalid_first_xml_char) then</code></li>

            <li class="covered" data-hits="16" data-linenumber="788">
              <span class="hits">16</span>
              <code class="sql">        l_post_processed := l_post_processed || char_to_xmlgen_unicode(i.string_char);</code></li>

            <li class="covered" data-hits="44" data-linenumber="789">
              <span class="hits">44</span>
              <code class="sql">      elsif regexp_like(i.string_char,gc_invalid_xml_char) then</code></li>

            <li class="covered" data-hits="4" data-linenumber="790">
              <span class="hits">4</span>
              <code class="sql">        l_post_processed := l_post_processed || char_to_xmlgen_unicode(i.string_char);</code></li>

            <li class="never" data-hits="" data-linenumber="791">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="40" data-linenumber="792">
              <span class="hits">40</span>
              <code class="sql">        l_post_processed := l_post_processed || i.string_char;</code></li>

            <li class="never" data-hits="" data-linenumber="793">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="794">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="16" data-linenumber="795">
              <span class="hits">16</span>
              <code class="sql">    return l_post_processed;</code></li>

            <li class="never" data-hits="" data-linenumber="796">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="797">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="798">
            <code class="sql">  function get_valid_xml_name(a_name varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="799">
            <code class="sql">    l_valid_name varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="800">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1226" data-linenumber="801">
              <span class="hits">1226</span>
              <code class="sql">    if regexp_like(a_name,gc_full_valid_xml_name) then</code></li>

            <li class="covered" data-hits="1210" data-linenumber="802">
              <span class="hits">1210</span>
              <code class="sql">      l_valid_name := a_name;</code></li>

            <li class="never" data-hits="" data-linenumber="803">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="16" data-linenumber="804">
              <span class="hits">16</span>
              <code class="sql">      l_valid_name := build_valid_xml_name(a_name);</code></li>

            <li class="never" data-hits="" data-linenumber="805">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="1226" data-linenumber="806">
              <span class="hits">1226</span>
              <code class="sql">    return l_valid_name;</code></li>

            <li class="never" data-hits="" data-linenumber="807">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="808">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="809">
            <code class="sql">  function to_cdata(a_lines ut_varchar2_rows) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="810">
            <code class="sql">    l_results ut_varchar2_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="811">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="812">
              <span class="hits">29</span>
              <code class="sql">    if a_lines is not empty then</code></li>

            <li class="covered" data-hits="29" data-linenumber="813">
              <span class="hits">29</span>
              <code class="sql">      ut_utils.append_to_list( l_results, gc_cdata_start_tag);</code></li>

            <li class="covered" data-hits="80" data-linenumber="814">
              <span class="hits">80</span>
              <code class="sql">      for i in 1 .. a_lines.count loop</code></li>

            <li class="covered" data-hits="51" data-linenumber="815">
              <span class="hits">51</span>
              <code class="sql">        ut_utils.append_to_list( l_results, replace( a_lines(i), gc_cdata_end_tag, gc_cdata_end_tag_wrap ) );</code></li>

            <li class="never" data-hits="" data-linenumber="816">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="29" data-linenumber="817">
              <span class="hits">29</span>
              <code class="sql">      ut_utils.append_to_list( l_results, gc_cdata_end_tag);</code></li>

            <li class="never" data-hits="" data-linenumber="818">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="819">
              <code class="sql">      l_results := a_lines;</code></li>

            <li class="never" data-hits="" data-linenumber="820">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="29" data-linenumber="821">
              <span class="hits">29</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="822">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="823">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="824">
            <code class="sql">  function to_cdata(a_clob clob) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="825">
            <code class="sql">    l_result clob;</code></li>

            <li class="never" data-hits="" data-linenumber="826">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="827">
              <span class="hits">9</span>
              <code class="sql">    if a_clob is not null and a_clob != empty_clob() then</code></li>

            <li class="covered" data-hits="9" data-linenumber="828">
              <span class="hits">9</span>
              <code class="sql">      l_result := replace( a_clob, gc_cdata_end_tag, gc_cdata_end_tag_wrap );</code></li>

            <li class="never" data-hits="" data-linenumber="829">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="830">
              <code class="sql">      l_result := a_clob;</code></li>

            <li class="never" data-hits="" data-linenumber="831">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="9" data-linenumber="832">
              <span class="hits">9</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="833">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="834">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="835">
            <code class="sql">  function add_prefix(a_list ut_varchar2_list, a_prefix varchar2, a_connector varchar2 := &apos;/&apos;) return ut_varchar2_list is</code></li>

            <li class="covered" data-hits="73" data-linenumber="836">
              <span class="hits">73</span>
              <code class="sql">    l_result ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="837">
            <code class="sql">    l_idx binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="838">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="73" data-linenumber="839">
              <span class="hits">73</span>
              <code class="sql">    if a_prefix is not null then</code></li>

            <li class="covered" data-hits="65" data-linenumber="840">
              <span class="hits">65</span>
              <code class="sql">      l_idx := a_list.first;</code></li>

            <li class="covered" data-hits="69" data-linenumber="841">
              <span class="hits">69</span>
              <code class="sql">      while l_idx is not null loop</code></li>

            <li class="covered" data-hits="4" data-linenumber="842">
              <span class="hits">4</span>
              <code class="sql">        l_result.extend;</code></li>

            <li class="covered" data-hits="4" data-linenumber="843">
              <span class="hits">4</span>
              <code class="sql">        l_result(l_idx) := add_prefix(a_list(l_idx), a_prefix, a_connector);</code></li>

            <li class="covered" data-hits="4" data-linenumber="844">
              <span class="hits">4</span>
              <code class="sql">        l_idx := a_list.next(l_idx);</code></li>

            <li class="never" data-hits="" data-linenumber="845">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="846">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="73" data-linenumber="847">
              <span class="hits">73</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="848">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="849">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="850">
            <code class="sql">  function add_prefix(a_item varchar2, a_prefix varchar2, a_connector varchar2 := &apos;/&apos;) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="851">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="852">
              <span class="hits">4</span>
              <code class="sql">    return a_prefix||a_connector||trim(leading a_connector from a_item);</code></li>

            <li class="never" data-hits="" data-linenumber="853">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="854">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="855">
            <code class="sql">  function strip_prefix(a_item varchar2, a_prefix varchar2, a_connector varchar2 := &apos;/&apos;) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="856">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="380" data-linenumber="857">
              <span class="hits">380</span>
              <code class="sql">    return regexp_replace(a_item,a_prefix||a_connector);</code></li>

            <li class="never" data-hits="" data-linenumber="858">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="859">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="860">
            <code class="sql">  function get_hash(a_data raw, a_hash_type binary_integer := dbms_crypto.hash_sh1) return t_hash is</code></li>

            <li class="never" data-hits="" data-linenumber="861">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="390" data-linenumber="862">
              <span class="hits">390</span>
              <code class="sql">    return dbms_crypto.hash(a_data, a_hash_type);</code></li>

            <li class="never" data-hits="" data-linenumber="863">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="864">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="865">
            <code class="sql">  function get_hash(a_data clob, a_hash_type binary_integer := dbms_crypto.hash_sh1) return t_hash is</code></li>

            <li class="never" data-hits="" data-linenumber="866">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="48" data-linenumber="867">
              <span class="hits">48</span>
              <code class="sql">    return dbms_crypto.hash(a_data, a_hash_type);</code></li>

            <li class="never" data-hits="" data-linenumber="868">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="869">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="870">
            <code class="sql">  function qualified_sql_name(a_name varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="871">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1580" data-linenumber="872">
              <span class="hits">1580</span>
              <code class="sql">    return</code></li>

            <li class="covered" data-hits="1" data-linenumber="873">
              <span class="hits">1</span>
              <code class="sql">        case</code></li>

            <li class="covered" data-hits="1" data-linenumber="874">
              <span class="hits">1</span>
              <code class="sql">          when a_name is not null</code></li>

            <li class="never" data-hits="" data-linenumber="875">
            <code class="sql">          then sys.dbms_assert.qualified_sql_name(a_name)</code></li>

            <li class="never" data-hits="" data-linenumber="876">
            <code class="sql">        end;</code></li>

            <li class="never" data-hits="" data-linenumber="877">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="878">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="879">
            <code class="sql">end ut_utils;</code></li>
</ol></pre></div>
    <div class="source_table" id="20F30C11E199428082CD2ACCF68D11B4"><div class="header"> <h3>UT3.UT_COMPOUND_DATA_HELPER</h3><h4><span class="green">99.09 %</span> lines covered</h4><div> <b>220</b> relevant lines. <span class="green"><b>218</b> lines covered</span> (including <span class="yellow"><b>1</b> lines partially covered</span> ) and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_compound_data_helper is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  g_diff_count        integer;</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  type t_type_name_map is table of varchar2(128) index by binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  type t_types_no_length is table of varchar2(128) index by varchar2(128);</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  g_type_name_map           t_type_name_map;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  g_anytype_name_map        t_type_name_map;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  g_type_no_length_map      t_types_no_length;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="26">
              <span class="hits">1</span>
              <code class="sql">  g_compare_sql_template varchar2(4000) :=</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">    with exp as (</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">      select</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">        ucd.*,</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">        {:duplicate_number:} dup_no</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">      from (</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">        select</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">          ucd.item_data</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">          ,x.data_id data_id</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">          ,position + x.item_no item_no</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">          {:columns:}</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">        from ut_compound_data_tmp x,</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">          xmltable(&apos;/ROWSET/ROW&apos; passing x.item_data columns</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">            item_data xmltype path &apos;*&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">            ,position for ordinality</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">            {:xml_to_columns:} ) ucd</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">          where data_id = :exp_guid</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">          ) ucd</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    )</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    , act as (</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">      select</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">        ucd.*,</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">        {:duplicate_number:} dup_no</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">      from (</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">        select</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">          ucd.item_data</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">          ,x.data_id data_id</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">          ,position + x.item_no item_no</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">          {:columns:}</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">        from ut_compound_data_tmp x,</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">          xmltable(&apos;/ROWSET/ROW&apos; passing x.item_data columns</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">            item_data xmltype path &apos;*&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">            ,position for ordinality</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">            {:xml_to_columns:} ) ucd</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">          where data_id = :act_guid</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">          ) ucd</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    )</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    select</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">      a.item_data as act_item_data,</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">      a.data_id act_data_id,</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">      e.item_data as exp_item_data,</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">      e.data_id exp_data_id,</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">      {:item_no:} as item_no,</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">      nvl(e.dup_no,a.dup_no) dup_no</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    from act a {:join_type:} exp e on ( {:join_condition:} )</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    where {:where_condition:}]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  function get_columns_diff(</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">    a_expected ut_cursor_column_tab,</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">    a_actual ut_cursor_column_tab,</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">    a_order_enforced boolean := false</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  ) return tt_column_diffs is</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">    l_results        tt_column_diffs;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="158" data-linenumber="81">
              <span class="hits">158</span>
              <code class="sql">    execute immediate q&apos;[with</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">          expected_cols as (</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">            select display_path exp_column_name,column_position exp_col_pos,</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">                   replace(column_type_name,&apos;VARCHAR2&apos;,&apos;CHAR&apos;) exp_col_type_compare, column_type_name exp_col_type</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">              from table(:a_expected)</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">              where parent_name is null and hierarchy_level = 1 and column_name is not null</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">          ),</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">          actual_cols as (</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">            select display_path act_column_name,column_position act_col_pos,</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">                   replace(column_type_name,&apos;VARCHAR2&apos;,&apos;CHAR&apos;) act_col_type_compare, column_type_name act_col_type</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">              from table(:a_actual)</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">              where parent_name is null and hierarchy_level = 1 and column_name is not null</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">          ),</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">          joined_cols as (</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">            select e.*,a.*]&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="96">
              <span class="hits">1</span>
              <code class="sql">              || case when a_order_enforced then &apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">                   row_number() over(partition by case when a.act_col_pos + e.exp_col_pos is not null then 1 end order by a.act_col_pos) a_pos_nn,</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">                   row_number() over(partition by case when a.act_col_pos + e.exp_col_pos is not null then 1 end order by e.exp_col_pos) e_pos_nn&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">                else</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">                  null</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">                end ||q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">              from expected_cols e</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">              full outer join actual_cols a</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">                on e.exp_column_name = a.act_column_name</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">          select case</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">                   when exp_col_pos is null and act_col_pos is not null then &apos;+&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">                   when exp_col_pos is not null and act_col_pos is null then &apos;-&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">                   when exp_col_type_compare != act_col_type_compare then &apos;t&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">                   else &apos;p&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">                 end as diff_type,</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">                 exp_column_name, exp_col_type, exp_col_pos,</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">                 act_column_name, act_col_type, act_col_pos</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">            from joined_cols</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">                 --column is unexpected (extra) or missing</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">           where act_col_pos is null or exp_col_pos is null</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">              --column type is not matching (except CHAR/VARCHAR2)</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">              or act_col_type_compare != exp_col_type_compare]&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="119">
              <span class="hits">1</span>
              <code class="sql">              || case when a_order_enforced then q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">              --column position is not matching (both when excluded extra/missing columns as well as when they are included)</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">              or (a_pos_nn != e_pos_nn and exp_col_pos != act_col_pos)]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">              else</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">                null</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">              end ||q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">           order by exp_col_pos, act_col_pos]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">      bulk collect into l_results using a_expected, a_actual;</code></li>

            <li class="covered" data-hits="158" data-linenumber="127">
              <span class="hits">158</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">  function generate_not_equal_stmt(</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">    a_data_info ut_cursor_column, a_pk_table ut_varchar2_list</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  ) return varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">  is</code></li>

            <li class="covered" data-hits="418" data-linenumber="134">
              <span class="hits">418</span>
              <code class="sql">    l_pk_tab ut_varchar2_list := coalesce(a_pk_table,ut_varchar2_list());</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">    l_index integer;</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">    l_sql_stmt varchar2(32767);</code></li>

            <li class="covered" data-hits="418" data-linenumber="137">
              <span class="hits">418</span>
              <code class="sql">    l_exists boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="418" data-linenumber="139">
              <span class="hits">418</span>
              <code class="sql">    l_index := l_pk_tab.first;</code></li>

            <li class="covered" data-hits="418" data-linenumber="140">
              <span class="hits">418</span>
              <code class="sql">    if l_pk_tab.count &gt; 0 then</code></li>

            <li class="covered" data-hits="129" data-linenumber="141">
              <span class="hits">129</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="129" data-linenumber="142">
              <span class="hits">129</span>
              <code class="sql">        if a_data_info.access_path = l_pk_tab(l_index) then</code></li>

            <li class="covered" data-hits="39" data-linenumber="143">
              <span class="hits">39</span>
              <code class="sql">          l_exists := true;</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="129" data-linenumber="145">
              <span class="hits">129</span>
              <code class="sql">        exit when l_index = l_pk_tab.count or (a_data_info.access_path = l_pk_tab(l_index));</code></li>

            <li class="covered" data-hits="11" data-linenumber="146">
              <span class="hits">11</span>
              <code class="sql">        l_index := a_pk_table.next(l_index);</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="418" data-linenumber="149">
              <span class="hits">418</span>
              <code class="sql">    if not(l_exists) then</code></li>

            <li class="covered" data-hits="379" data-linenumber="150">
              <span class="hits">379</span>
              <code class="sql">      l_sql_stmt := &apos; (decode(a.&apos;||a_data_info.transformed_name||&apos;,&apos;||&apos; e.&apos;||a_data_info.transformed_name||&apos;,1,0) = 0)&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="418" data-linenumber="152">
              <span class="hits">418</span>
              <code class="sql">    return l_sql_stmt;</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">  function generate_join_by_stmt(</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">    a_data_info ut_cursor_column, a_pk_table ut_varchar2_list</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">  ) return varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">  is</code></li>

            <li class="covered" data-hits="418" data-linenumber="159">
              <span class="hits">418</span>
              <code class="sql">    l_pk_tab ut_varchar2_list := coalesce(a_pk_table,ut_varchar2_list());</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">    l_index integer;</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">    l_sql_stmt varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="418" data-linenumber="163">
              <span class="hits">418</span>
              <code class="sql">    if l_pk_tab.count &lt;&gt; 0 then</code></li>

            <li class="covered" data-hits="118" data-linenumber="164">
              <span class="hits">118</span>
              <code class="sql">    l_index:= l_pk_tab.first;</code></li>

            <li class="covered" data-hits="129" data-linenumber="165">
              <span class="hits">129</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="129" data-linenumber="166">
              <span class="hits">129</span>
              <code class="sql">      if l_pk_tab(l_index) in (a_data_info.access_path, a_data_info.parent_name)  then</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">        --When then table is nested and join is on whole table</code></li>

            <li class="covered" data-hits="44" data-linenumber="168">
              <span class="hits">44</span>
              <code class="sql">        l_sql_stmt := l_sql_stmt ||&apos; a.&apos;||a_data_info.transformed_name||q&apos;[ = ]&apos;||&apos; e.&apos;||a_data_info.transformed_name;</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="129" data-linenumber="170">
              <span class="hits">129</span>
              <code class="sql">      exit when (a_data_info.access_path = l_pk_tab(l_index)) or l_index = l_pk_tab.count;</code></li>

            <li class="covered" data-hits="11" data-linenumber="171">
              <span class="hits">11</span>
              <code class="sql">      l_index := l_pk_tab.next(l_index);</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="418" data-linenumber="174">
              <span class="hits">418</span>
              <code class="sql">    return l_sql_stmt;</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">  function generate_equal_sql(a_col_name in varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="418" data-linenumber="179">
              <span class="hits">418</span>
              <code class="sql">    return &apos; decode(a.&apos;||a_col_name||&apos;,&apos;||&apos; e.&apos;||a_col_name||&apos;,1,0) = 1 &apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">  function generate_partition_stmt(</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">    a_data_info ut_cursor_column, a_pk_table in ut_varchar2_list, a_alias varchar2 := &apos;ucd.&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">  ) return varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">  is</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">    l_index integer;</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">    l_sql_stmt varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="418" data-linenumber="189">
              <span class="hits">418</span>
              <code class="sql">    if a_pk_table is not empty then</code></li>

            <li class="covered" data-hits="118" data-linenumber="190">
              <span class="hits">118</span>
              <code class="sql">      l_index:= a_pk_table.first;</code></li>

            <li class="covered" data-hits="129" data-linenumber="191">
              <span class="hits">129</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="129" data-linenumber="192">
              <span class="hits">129</span>
              <code class="sql">        if a_pk_table(l_index) in (a_data_info.access_path, a_data_info.parent_name) then</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">          --When then table is nested and join is on whole table</code></li>

            <li class="covered" data-hits="44" data-linenumber="194">
              <span class="hits">44</span>
              <code class="sql">          l_sql_stmt := l_sql_stmt ||a_alias||a_data_info.transformed_name;</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="129" data-linenumber="196">
              <span class="hits">129</span>
              <code class="sql">        exit when (a_data_info.access_path = a_pk_table(l_index)) or l_index = a_pk_table.count;</code></li>

            <li class="covered" data-hits="11" data-linenumber="197">
              <span class="hits">11</span>
              <code class="sql">        l_index := a_pk_table.next(l_index);</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="300" data-linenumber="200">
              <span class="hits">300</span>
              <code class="sql">      l_sql_stmt := a_alias||a_data_info.transformed_name;</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="418" data-linenumber="202">
              <span class="hits">418</span>
              <code class="sql">    return l_sql_stmt;</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql">  function generate_select_stmt(a_data_info ut_cursor_column, a_alias varchar2 := &apos;ucd.&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">  return varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">  is</code></li>

            <li class="covered" data-hits="418" data-linenumber="208">
              <span class="hits">418</span>
              <code class="sql">    l_alias varchar2(10) := a_alias;</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">    l_col_syntax varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="418" data-linenumber="211">
              <span class="hits">418</span>
              <code class="sql">    if a_data_info.is_sql_diffable = 0 then</code></li>

            <li class="covered" data-hits="11" data-linenumber="212">
              <span class="hits">11</span>
              <code class="sql">      l_col_syntax :=  &apos;ut_utils.get_hash(&apos;||l_alias||a_data_info.transformed_name||&apos;.getClobVal()) as &apos;||a_data_info.transformed_name ;</code></li>

            <li class="covered" data-hits="407" data-linenumber="213">
              <span class="hits">407</span>
              <code class="sql">    elsif a_data_info.is_sql_diffable = 1  and a_data_info.column_type = &apos;DATE&apos; then</code></li>

            <li class="covered" data-hits="4" data-linenumber="214">
              <span class="hits">4</span>
              <code class="sql">      l_col_syntax :=  &apos;to_date(&apos;||l_alias||a_data_info.transformed_name||&apos;) as &apos;|| a_data_info.transformed_name;</code></li>

            <li class="covered" data-hits="403" data-linenumber="215">
              <span class="hits">403</span>
              <code class="sql">    elsif  a_data_info.is_sql_diffable = 1  and a_data_info.column_type in (&apos;TIMESTAMP&apos;) then</code></li>

            <li class="covered" data-hits="5" data-linenumber="216">
              <span class="hits">5</span>
              <code class="sql">      l_col_syntax :=  &apos;to_timestamp(&apos;||l_alias||a_data_info.transformed_name||&apos;,&apos;&apos;&apos;||ut_utils.gc_timestamp_format||&apos;&apos;&apos;) as &apos;|| a_data_info.transformed_name;</code></li>

            <li class="covered" data-hits="398" data-linenumber="217">
              <span class="hits">398</span>
              <code class="sql">    elsif a_data_info.is_sql_diffable = 1  and a_data_info.column_type in (&apos;TIMESTAMP WITH TIME ZONE&apos;) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="218">
              <span class="hits">1</span>
              <code class="sql">      l_col_syntax :=  &apos;to_timestamp_tz(&apos;||l_alias||a_data_info.transformed_name||&apos;,&apos;&apos;&apos;||ut_utils.gc_timestamp_tz_format||&apos;&apos;&apos;) as &apos;|| a_data_info.transformed_name;</code></li>

            <li class="covered" data-hits="397" data-linenumber="219">
              <span class="hits">397</span>
              <code class="sql">    elsif a_data_info.is_sql_diffable = 1  and a_data_info.column_type in (&apos;TIMESTAMP WITH LOCAL TIME ZONE&apos;) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="220">
              <span class="hits">1</span>
              <code class="sql">      l_col_syntax :=  &apos; cast( to_timestamp_tz(&apos;||l_alias||a_data_info.transformed_name||&apos;,&apos;&apos;&apos;||ut_utils.gc_timestamp_tz_format||&apos;&apos;&apos;) AS TIMESTAMP WITH LOCAL TIME ZONE) as &apos;|| a_data_info.transformed_name;</code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="396" data-linenumber="222">
              <span class="hits">396</span>
              <code class="sql">      l_col_syntax :=  l_alias||a_data_info.transformed_name||&apos; as &apos;|| a_data_info.transformed_name;</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="418" data-linenumber="224">
              <span class="hits">418</span>
              <code class="sql">    return l_col_syntax;</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">  function generate_xmltab_stmt(a_data_info ut_cursor_column) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">    l_col_type varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="418" data-linenumber="230">
              <span class="hits">418</span>
              <code class="sql">    if a_data_info.is_sql_diffable = 0 then</code></li>

            <li class="covered" data-hits="11" data-linenumber="231">
              <span class="hits">11</span>
              <code class="sql">      l_col_type := &apos;XMLTYPE&apos;;</code></li>

            <li class="covered" data-hits="407" data-linenumber="232">
              <span class="hits">407</span>
              <code class="sql">    elsif  a_data_info.is_sql_diffable = 1  and a_data_info.column_type in (&apos;DATE&apos;,&apos;TIMESTAMP&apos;,&apos;TIMESTAMP WITH TIME ZONE&apos;,</code></li>

            <li class="covered" data-hits="1" data-linenumber="233">
              <span class="hits">1</span>
              <code class="sql">      &apos;TIMESTAMP WITH LOCAL TIME ZONE&apos;) then</code></li>

            <li class="covered" data-hits="11" data-linenumber="234">
              <span class="hits">11</span>
              <code class="sql">      l_col_type := &apos;VARCHAR2(50)&apos;;</code></li>

            <li class="covered" data-hits="396" data-linenumber="235">
              <span class="hits">396</span>
              <code class="sql">    elsif  a_data_info.is_sql_diffable = 1  and type_no_length(a_data_info.column_type) then</code></li>

            <li class="covered" data-hits="9" data-linenumber="236">
              <span class="hits">9</span>
              <code class="sql">      l_col_type := a_data_info.column_type;</code></li>

            <li class="covered" data-hits="387" data-linenumber="237">
              <span class="hits">387</span>
              <code class="sql">    elsif a_data_info.is_sql_diffable = 1  and a_data_info.column_type in (&apos;VARCHAR2&apos;,&apos;CHAR&apos;) then</code></li>

            <li class="covered" data-hits="211" data-linenumber="238">
              <span class="hits">211</span>
              <code class="sql">      l_col_type := &apos;VARCHAR2(&apos;||greatest(a_data_info.column_len,4000)||&apos;)&apos;;</code></li>

            <li class="covered" data-hits="176" data-linenumber="239">
              <span class="hits">176</span>
              <code class="sql">    elsif a_data_info.is_sql_diffable = 1 and a_data_info.column_type in (&apos;NUMBER&apos;) then</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">      --We cannot use a precision and scale as dbms_sql.describe_columns3 return precision 0 for dual table</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql">      -- there is also no need for that as we not process data but only read and compare as they are stored</code></li>

            <li class="covered" data-hits="169" data-linenumber="242">
              <span class="hits">169</span>
              <code class="sql">      l_col_type := a_data_info.column_type;</code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="7" data-linenumber="244">
              <span class="hits">7</span>
              <code class="sql">      l_col_type := a_data_info.column_type</code></li>

            <li class="covered" data-hits="1" data-linenumber="245">
              <span class="hits">1</span>
              <code class="sql">        ||case when a_data_info.column_len is not null</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql">          then &apos;(&apos;||a_data_info.column_len||&apos;)&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">          else null</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">          end;</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="418" data-linenumber="250">
              <span class="hits">418</span>
              <code class="sql">    return  a_data_info.transformed_name||&apos; &apos;||l_col_type||q&apos;[ PATH &apos;]&apos;||a_data_info.access_path||q&apos;[&apos;]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="251">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql">  procedure gen_sql_pieces_out_of_cursor(</code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">    a_data_info   ut_cursor_column_tab,</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql">    a_pk_table    ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">    a_unordered   boolean,</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">    a_xml_stmt    out nocopy clob,</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">    a_select_stmt out nocopy clob,</code></li>

            <li class="never" data-hits="" data-linenumber="259">
            <code class="sql">    a_partition_stmt out nocopy clob,</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">    a_join_by_stmt out nocopy clob,</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql">    a_not_equal_stmt out nocopy clob</code></li>

            <li class="never" data-hits="" data-linenumber="262">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql">    l_partition_tmp clob;</code></li>

            <li class="covered" data-hits="173" data-linenumber="264">
              <span class="hits">173</span>
              <code class="sql">    l_xmltab_list    ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="173" data-linenumber="265">
              <span class="hits">173</span>
              <code class="sql">    l_select_list    ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="173" data-linenumber="266">
              <span class="hits">173</span>
              <code class="sql">    l_partition_list ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="173" data-linenumber="267">
              <span class="hits">173</span>
              <code class="sql">    l_equal_list     ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="173" data-linenumber="268">
              <span class="hits">173</span>
              <code class="sql">    l_join_by_list   ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="173" data-linenumber="269">
              <span class="hits">173</span>
              <code class="sql">    l_not_equal_list ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="270">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">    procedure add_element_to_list(a_list in out ut_varchar2_list, a_list_element in varchar2)</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">    is</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="2508" data-linenumber="274">
              <span class="hits">2508</span>
              <code class="sql">      if a_list_element is not null then</code></li>

            <li class="covered" data-hits="2021" data-linenumber="275">
              <span class="hits">2021</span>
              <code class="sql">        a_list.extend;</code></li>

            <li class="covered" data-hits="2021" data-linenumber="276">
              <span class="hits">2021</span>
              <code class="sql">        a_list(a_list.last) := a_list_element;</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="278">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="279">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="280">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="281">
              <span class="hits">173</span>
              <code class="sql">    if a_data_info is not empty then</code></li>

            <li class="covered" data-hits="627" data-linenumber="282">
              <span class="hits">627</span>
              <code class="sql">      for i in 1..a_data_info.count loop</code></li>

            <li class="covered" data-hits="464" data-linenumber="283">
              <span class="hits">464</span>
              <code class="sql">        if a_data_info(i).has_nested_col = 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql">          --Get XMLTABLE column list</code></li>

            <li class="covered" data-hits="418" data-linenumber="285">
              <span class="hits">418</span>
              <code class="sql">          add_element_to_list(l_xmltab_list,generate_xmltab_stmt(a_data_info(i)));</code></li>

            <li class="never" data-hits="" data-linenumber="286">
            <code class="sql">          --Get Select statment list of columns</code></li>

            <li class="covered" data-hits="418" data-linenumber="287">
              <span class="hits">418</span>
              <code class="sql">          add_element_to_list(l_select_list, generate_select_stmt(a_data_info(i)));</code></li>

            <li class="never" data-hits="" data-linenumber="288">
            <code class="sql">          --Get columns by which we partition</code></li>

            <li class="covered" data-hits="418" data-linenumber="289">
              <span class="hits">418</span>
              <code class="sql">          add_element_to_list(l_partition_list,generate_partition_stmt(a_data_info(i), a_pk_table));</code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">          --Get equal statement</code></li>

            <li class="covered" data-hits="418" data-linenumber="291">
              <span class="hits">418</span>
              <code class="sql">          add_element_to_list(l_equal_list,generate_equal_sql(a_data_info(i).transformed_name));</code></li>

            <li class="never" data-hits="" data-linenumber="292">
            <code class="sql">          --Generate join by stmt</code></li>

            <li class="covered" data-hits="418" data-linenumber="293">
              <span class="hits">418</span>
              <code class="sql">          add_element_to_list(l_join_by_list,generate_join_by_stmt(a_data_info(i), a_pk_table));</code></li>

            <li class="never" data-hits="" data-linenumber="294">
            <code class="sql">          --Generate not equal stmt</code></li>

            <li class="covered" data-hits="418" data-linenumber="295">
              <span class="hits">418</span>
              <code class="sql">          add_element_to_list(l_not_equal_list,generate_not_equal_stmt(a_data_info(i), a_pk_table));</code></li>

            <li class="never" data-hits="" data-linenumber="296">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="297">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="298">
            <code class="sql"></code></li>

            <li class="covered" data-hits="163" data-linenumber="299">
              <span class="hits">163</span>
              <code class="sql">      a_xml_stmt    := nullif(&apos;,&apos;||ut_utils.table_to_clob(l_xmltab_list, &apos; , &apos;),&apos;,&apos;);</code></li>

            <li class="covered" data-hits="163" data-linenumber="300">
              <span class="hits">163</span>
              <code class="sql">      a_select_stmt := nullif(&apos;,&apos;||ut_utils.table_to_clob(l_select_list, &apos; , &apos;),&apos;,&apos;);</code></li>

            <li class="covered" data-hits="163" data-linenumber="301">
              <span class="hits">163</span>
              <code class="sql">      l_partition_tmp := ut_utils.table_to_clob(l_partition_list, &apos; , &apos;);</code></li>

            <li class="covered" data-hits="163" data-linenumber="302">
              <span class="hits">163</span>
              <code class="sql">      ut_utils.append_to_clob(a_partition_stmt,&apos; row_number() over (partition by &apos;||l_partition_tmp||&apos; order by &apos;||l_partition_tmp||&apos; ) &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="303">
            <code class="sql"></code></li>

            <li class="covered" data-hits="163" data-linenumber="304">
              <span class="hits">163</span>
              <code class="sql">      if a_pk_table.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="305">
            <code class="sql">        -- If key defined do the join or these and where on diffrences</code></li>

            <li class="covered" data-hits="34" data-linenumber="306">
              <span class="hits">34</span>
              <code class="sql">        a_join_by_stmt := ut_utils.table_to_clob(l_join_by_list, &apos; and &apos;);</code></li>

            <li class="covered" data-hits="129" data-linenumber="307">
              <span class="hits">129</span>
              <code class="sql">      elsif a_unordered then</code></li>

            <li class="never" data-hits="" data-linenumber="308">
            <code class="sql">        -- If no key defined do the join on all columns</code></li>

            <li class="covered" data-hits="27" data-linenumber="309">
              <span class="hits">27</span>
              <code class="sql">        a_join_by_stmt := &apos; e.dup_no = a.dup_no and &apos;||ut_utils.table_to_clob(l_equal_list, &apos; and &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="310">
            <code class="sql">      else</code></li>

            <li class="never" data-hits="" data-linenumber="311">
            <code class="sql">        -- Else join on rownumber</code></li>

            <li class="covered" data-hits="102" data-linenumber="312">
              <span class="hits">102</span>
              <code class="sql">        a_join_by_stmt := &apos;a.item_no = e.item_no &apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="313">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="163" data-linenumber="314">
              <span class="hits">163</span>
              <code class="sql">      a_not_equal_stmt := ut_utils.table_to_clob(l_not_equal_list, &apos; or &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="315">
            <code class="sql">    else</code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql">      --Partition by piece when no data</code></li>

            <li class="covered" data-hits="10" data-linenumber="317">
              <span class="hits">10</span>
              <code class="sql">      ut_utils.append_to_clob(a_partition_stmt,&apos; 1  &apos;);</code></li>

            <li class="covered" data-hits="10" data-linenumber="318">
              <span class="hits">10</span>
              <code class="sql">      a_join_by_stmt := &apos;a.item_no = e.item_no &apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="320">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="321">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="322">
            <code class="sql">  function gen_compare_sql(</code></li>

            <li class="never" data-hits="" data-linenumber="323">
            <code class="sql">    a_other ut_data_value_refcursor,</code></li>

            <li class="never" data-hits="" data-linenumber="324">
            <code class="sql">    a_join_by_list ut_varchar2_list,</code></li>

            <li class="never" data-hits="" data-linenumber="325">
            <code class="sql">    a_unordered boolean,</code></li>

            <li class="never" data-hits="" data-linenumber="326">
            <code class="sql">    a_inclusion_type boolean,</code></li>

            <li class="never" data-hits="" data-linenumber="327">
            <code class="sql">    a_is_negated boolean</code></li>

            <li class="never" data-hits="" data-linenumber="328">
            <code class="sql">  ) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="329">
            <code class="sql">    l_compare_sql    clob;</code></li>

            <li class="never" data-hits="" data-linenumber="330">
            <code class="sql">    l_xmltable_stmt  clob;</code></li>

            <li class="never" data-hits="" data-linenumber="331">
            <code class="sql">    l_select_stmt    clob;</code></li>

            <li class="never" data-hits="" data-linenumber="332">
            <code class="sql">    l_partition_stmt clob;</code></li>

            <li class="never" data-hits="" data-linenumber="333">
            <code class="sql">    l_join_on_stmt   clob;</code></li>

            <li class="never" data-hits="" data-linenumber="334">
            <code class="sql">    l_not_equal_stmt clob;</code></li>

            <li class="never" data-hits="" data-linenumber="335">
            <code class="sql">    l_where_stmt     clob;</code></li>

            <li class="never" data-hits="" data-linenumber="336">
            <code class="sql">    l_join_by_list   ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="337">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="338">
            <code class="sql">    function get_join_type(a_inclusion_compare in boolean,a_negated in boolean) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="339">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="340">
              <span class="hits">173</span>
              <code class="sql">     return</code></li>

            <li class="covered" data-hits="1" data-linenumber="341">
              <span class="hits">1</span>
              <code class="sql">       case</code></li>

            <li class="covered" data-hits="1" data-linenumber="342">
              <span class="hits">1</span>
              <code class="sql">         when a_inclusion_compare and not(a_negated) then &apos; right outer join &apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="343">
              <span class="hits">1</span>
              <code class="sql">         when a_inclusion_compare and a_negated then &apos; inner join &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="344">
            <code class="sql">         else &apos; full outer join &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="345">
            <code class="sql">       end;</code></li>

            <li class="never" data-hits="" data-linenumber="346">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="347">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="348">
            <code class="sql">    function get_item_no(a_unordered boolean) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="349">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="350">
              <span class="hits">173</span>
              <code class="sql">      return</code></li>

            <li class="covered" data-hits="1" data-linenumber="351">
              <span class="hits">1</span>
              <code class="sql">        case</code></li>

            <li class="covered" data-hits="1" data-linenumber="352">
              <span class="hits">1</span>
              <code class="sql">          when a_unordered then &apos;row_number() over ( order by nvl(e.item_no,a.item_no))&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="353">
            <code class="sql">          else &apos;nvl(e.item_no,a.item_no) &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="354">
            <code class="sql">        end;</code></li>

            <li class="never" data-hits="" data-linenumber="355">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="356">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="357">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="358">
            <code class="sql">      /**</code></li>

            <li class="never" data-hits="" data-linenumber="359">
            <code class="sql">      * We already estabilished cursor equality so now we add anydata root if we compare anydata</code></li>

            <li class="never" data-hits="" data-linenumber="360">
            <code class="sql">      * to join by.</code></li>

            <li class="never" data-hits="" data-linenumber="361">
            <code class="sql">      */</code></li>

            <li class="covered" data-hits="173" data-linenumber="362">
              <span class="hits">173</span>
              <code class="sql">    l_join_by_list :=</code></li>

            <li class="covered" data-hits="1" data-linenumber="363">
              <span class="hits">1</span>
              <code class="sql">      case</code></li>

            <li class="covered" data-hits="1" data-linenumber="364">
              <span class="hits">1</span>
              <code class="sql">        when a_other is of (ut_data_value_anydata) then ut_utils.add_prefix(a_join_by_list, a_other.cursor_details.get_root)</code></li>

            <li class="never" data-hits="" data-linenumber="365">
            <code class="sql">        else a_join_by_list</code></li>

            <li class="never" data-hits="" data-linenumber="366">
            <code class="sql">      end;</code></li>

            <li class="never" data-hits="" data-linenumber="367">
            <code class="sql"></code></li>

            <li class="covered" data-hits="173" data-linenumber="368">
              <span class="hits">173</span>
              <code class="sql">    dbms_lob.createtemporary(l_compare_sql, true);</code></li>

            <li class="never" data-hits="" data-linenumber="369">
            <code class="sql">    --Initiate a SQL template with placeholders</code></li>

            <li class="covered" data-hits="173" data-linenumber="370">
              <span class="hits">173</span>
              <code class="sql">    ut_utils.append_to_clob(l_compare_sql, g_compare_sql_template);</code></li>

            <li class="never" data-hits="" data-linenumber="371">
            <code class="sql">    --Generate a pieceso of dynamic SQL that will substitute placeholders</code></li>

            <li class="covered" data-hits="173" data-linenumber="372">
              <span class="hits">173</span>
              <code class="sql">    gen_sql_pieces_out_of_cursor(</code></li>

            <li class="never" data-hits="" data-linenumber="373">
            <code class="sql">      a_other.cursor_details.cursor_columns_info, l_join_by_list, a_unordered,</code></li>

            <li class="never" data-hits="" data-linenumber="374">
            <code class="sql">      l_xmltable_stmt, l_select_stmt, l_partition_stmt, l_join_on_stmt,</code></li>

            <li class="never" data-hits="" data-linenumber="375">
            <code class="sql">      l_not_equal_stmt</code></li>

            <li class="never" data-hits="" data-linenumber="376">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="377">
            <code class="sql"></code></li>

            <li class="covered" data-hits="173" data-linenumber="378">
              <span class="hits">173</span>
              <code class="sql">    l_compare_sql := replace(l_compare_sql,&apos;{:duplicate_number:}&apos;,l_partition_stmt);</code></li>

            <li class="covered" data-hits="173" data-linenumber="379">
              <span class="hits">173</span>
              <code class="sql">    l_compare_sql := replace(l_compare_sql,&apos;{:columns:}&apos;,l_select_stmt);</code></li>

            <li class="covered" data-hits="173" data-linenumber="380">
              <span class="hits">173</span>
              <code class="sql">    l_compare_sql := replace(l_compare_sql,&apos;{:xml_to_columns:}&apos;,l_xmltable_stmt);</code></li>

            <li class="covered" data-hits="173" data-linenumber="381">
              <span class="hits">173</span>
              <code class="sql">    l_compare_sql := replace(l_compare_sql,&apos;{:item_no:}&apos;,get_item_no(a_unordered));</code></li>

            <li class="covered" data-hits="173" data-linenumber="382">
              <span class="hits">173</span>
              <code class="sql">    l_compare_sql := replace(l_compare_sql,&apos;{:join_type:}&apos;,get_join_type(a_inclusion_type,a_is_negated));</code></li>

            <li class="covered" data-hits="173" data-linenumber="383">
              <span class="hits">173</span>
              <code class="sql">    l_compare_sql := replace(l_compare_sql,&apos;{:join_condition:}&apos;,l_join_on_stmt);</code></li>

            <li class="never" data-hits="" data-linenumber="384">
            <code class="sql"></code></li>

            <li class="covered" data-hits="173" data-linenumber="385">
              <span class="hits">173</span>
              <code class="sql">    if l_not_equal_stmt is not null and ((l_join_by_list.count &gt; 0 and not a_is_negated) or (not a_unordered)) then</code></li>

            <li class="covered" data-hits="130" data-linenumber="386">
              <span class="hits">130</span>
              <code class="sql">        ut_utils.append_to_clob(l_where_stmt,&apos; ( &apos;||l_not_equal_stmt||&apos; ) or &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="387">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="388">
            <code class="sql">    --If its inclusion we expect a actual set to fully match and have no extra elements over expected</code></li>

            <li class="covered" data-hits="173" data-linenumber="389">
              <span class="hits">173</span>
              <code class="sql">    if a_inclusion_type then</code></li>

            <li class="covered" data-hits="20" data-linenumber="390">
              <span class="hits">20</span>
              <code class="sql">      ut_utils.append_to_clob(l_where_stmt,case when a_is_negated then &apos; 1 = 1 &apos; else &apos; ( a.data_id is null ) &apos; end);</code></li>

            <li class="never" data-hits="" data-linenumber="391">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="153" data-linenumber="392">
              <span class="hits">153</span>
              <code class="sql">      ut_utils.append_to_clob(l_where_stmt,&apos; (a.data_id is null or e.data_id is null) &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="393">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="394">
            <code class="sql"></code></li>

            <li class="covered" data-hits="173" data-linenumber="395">
              <span class="hits">173</span>
              <code class="sql">    l_compare_sql := replace(l_compare_sql,&apos;{:where_condition:}&apos;,l_where_stmt);</code></li>

            <li class="covered" data-hits="173" data-linenumber="396">
              <span class="hits">173</span>
              <code class="sql">    return l_compare_sql;</code></li>

            <li class="never" data-hits="" data-linenumber="397">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="398">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="399">
            <code class="sql">  function get_column_extract_path(a_cursor_info ut_cursor_column_tab) return ut_varchar2_list is</code></li>

            <li class="covered" data-hits="110" data-linenumber="400">
              <span class="hits">110</span>
              <code class="sql">    l_column_list ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="401">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="394" data-linenumber="402">
              <span class="hits">394</span>
              <code class="sql">    for i in 1..a_cursor_info.count loop</code></li>

            <li class="covered" data-hits="284" data-linenumber="403">
              <span class="hits">284</span>
              <code class="sql">      l_column_list.extend;</code></li>

            <li class="covered" data-hits="284" data-linenumber="404">
              <span class="hits">284</span>
              <code class="sql">      l_column_list(l_column_list.last) := a_cursor_info(i).access_path;</code></li>

            <li class="never" data-hits="" data-linenumber="405">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="110" data-linenumber="406">
              <span class="hits">110</span>
              <code class="sql">    return l_column_list;</code></li>

            <li class="never" data-hits="" data-linenumber="407">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="408">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="409">
            <code class="sql">  function get_rows_diff_by_sql(</code></li>

            <li class="never" data-hits="" data-linenumber="410">
            <code class="sql">    a_act_cursor_info ut_cursor_column_tab, a_exp_cursor_info ut_cursor_column_tab,</code></li>

            <li class="never" data-hits="" data-linenumber="411">
            <code class="sql">    a_expected_dataset_guid raw, a_actual_dataset_guid raw, a_diff_id raw,</code></li>

            <li class="never" data-hits="" data-linenumber="412">
            <code class="sql">    a_join_by_list ut_varchar2_list, a_unordered boolean, a_enforce_column_order boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="413">
            <code class="sql">    a_extract_path varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="414">
            <code class="sql">  ) return tt_row_diffs is</code></li>

            <li class="covered" data-hits="55" data-linenumber="415">
              <span class="hits">55</span>
              <code class="sql">    l_act_extract_xpath  varchar2(32767):= ut_utils.to_xpath(get_column_extract_path(a_act_cursor_info));</code></li>

            <li class="covered" data-hits="55" data-linenumber="416">
              <span class="hits">55</span>
              <code class="sql">    l_exp_extract_xpath  varchar2(32767):= ut_utils.to_xpath(get_column_extract_path(a_exp_cursor_info));</code></li>

            <li class="covered" data-hits="55" data-linenumber="417">
              <span class="hits">55</span>
              <code class="sql">    l_join_xpath     varchar2(32767) := ut_utils.to_xpath(a_join_by_list);</code></li>

            <li class="never" data-hits="" data-linenumber="418">
            <code class="sql">    l_results        tt_row_diffs;</code></li>

            <li class="never" data-hits="" data-linenumber="419">
            <code class="sql">    l_sql            varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="420">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="55" data-linenumber="421">
              <span class="hits">55</span>
              <code class="sql">    l_sql := q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="422">
            <code class="sql">    with exp as (</code></li>

            <li class="never" data-hits="" data-linenumber="423">
            <code class="sql">      select</code></li>

            <li class="never" data-hits="" data-linenumber="424">
            <code class="sql">          exp_item_data, exp_data_id, item_no rn, rownum col_no, pk_value,</code></li>

            <li class="never" data-hits="" data-linenumber="425">
            <code class="sql">          s.column_value col, s.column_value.getRootElement() col_name,</code></li>

            <li class="never" data-hits="" data-linenumber="426">
            <code class="sql">          nvl(s.column_value.getclobval(),empty_clob()) col_val</code></li>

            <li class="never" data-hits="" data-linenumber="427">
            <code class="sql">        from (</code></li>

            <li class="never" data-hits="" data-linenumber="428">
            <code class="sql">          select</code></li>

            <li class="never" data-hits="" data-linenumber="429">
            <code class="sql">              exp_data_id, extract( ucd.exp_item_data, :column_path ) exp_item_data, item_no,</code></li>

            <li class="never" data-hits="" data-linenumber="430">
            <code class="sql">              replace( extract( ucd.exp_item_data, :join_by ).getclobval(), chr(10) ) pk_value</code></li>

            <li class="never" data-hits="" data-linenumber="431">
            <code class="sql">            from ut_compound_data_diff_tmp  ucd</code></li>

            <li class="never" data-hits="" data-linenumber="432">
            <code class="sql">           where diff_id = :diff_id</code></li>

            <li class="never" data-hits="" data-linenumber="433">
            <code class="sql">             and ucd.exp_data_id = :self_guid</code></li>

            <li class="never" data-hits="" data-linenumber="434">
            <code class="sql">          ) i,</code></li>

            <li class="never" data-hits="" data-linenumber="435">
            <code class="sql">          table( xmlsequence( extract(i.exp_item_data,:extract_path) ) ) s</code></li>

            <li class="never" data-hits="" data-linenumber="436">
            <code class="sql">    ),</code></li>

            <li class="never" data-hits="" data-linenumber="437">
            <code class="sql">    act as (</code></li>

            <li class="never" data-hits="" data-linenumber="438">
            <code class="sql">      select</code></li>

            <li class="never" data-hits="" data-linenumber="439">
            <code class="sql">          act_item_data, act_data_id, item_no rn, rownum col_no, pk_value,</code></li>

            <li class="never" data-hits="" data-linenumber="440">
            <code class="sql">          s.column_value col, s.column_value.getRootElement() col_name,</code></li>

            <li class="never" data-hits="" data-linenumber="441">
            <code class="sql">          nvl(s.column_value.getclobval(),empty_clob()) col_val</code></li>

            <li class="never" data-hits="" data-linenumber="442">
            <code class="sql">        from (</code></li>

            <li class="never" data-hits="" data-linenumber="443">
            <code class="sql">          select</code></li>

            <li class="never" data-hits="" data-linenumber="444">
            <code class="sql">              act_data_id, extract( ucd.act_item_data, :column_path ) act_item_data, item_no,</code></li>

            <li class="never" data-hits="" data-linenumber="445">
            <code class="sql">              replace( extract( ucd.act_item_data, :join_by ).getclobval(), chr(10) ) pk_value</code></li>

            <li class="never" data-hits="" data-linenumber="446">
            <code class="sql">            from ut_compound_data_diff_tmp  ucd</code></li>

            <li class="never" data-hits="" data-linenumber="447">
            <code class="sql">           where diff_id = :diff_id</code></li>

            <li class="never" data-hits="" data-linenumber="448">
            <code class="sql">             and ucd.act_data_id = :other_guid</code></li>

            <li class="never" data-hits="" data-linenumber="449">
            <code class="sql">          ) i,</code></li>

            <li class="never" data-hits="" data-linenumber="450">
            <code class="sql">          table( xmlsequence( extract(i.act_item_data,:extract_path) ) ) s</code></li>

            <li class="never" data-hits="" data-linenumber="451">
            <code class="sql">    )</code></li>

            <li class="never" data-hits="" data-linenumber="452">
            <code class="sql">    select rn, diff_type, diffed_row, pk_value pk_value</code></li>

            <li class="never" data-hits="" data-linenumber="453">
            <code class="sql">    from (</code></li>

            <li class="never" data-hits="" data-linenumber="454">
            <code class="sql">      select rn, diff_type, diffed_row, pk_value,</code></li>

            <li class="never" data-hits="" data-linenumber="455">
            <code class="sql">             case when diff_type = &apos;Actual:&apos; then 1 else 2 end rnk,</code></li>

            <li class="never" data-hits="" data-linenumber="456">
            <code class="sql">             1 final_order,</code></li>

            <li class="never" data-hits="" data-linenumber="457">
            <code class="sql">             col_name</code></li>

            <li class="never" data-hits="" data-linenumber="458">
            <code class="sql">      from ( ]&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="459">
              <span class="hits">1</span>
              <code class="sql">        || case when a_unordered then q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="460">
            <code class="sql">        select rn, diff_type, xmlserialize(content data_item no indent) diffed_row, pk_value, col_name</code></li>

            <li class="never" data-hits="" data-linenumber="461">
            <code class="sql">          from (</code></li>

            <li class="never" data-hits="" data-linenumber="462">
            <code class="sql">            select nvl(exp.rn, act.rn) rn,</code></li>

            <li class="never" data-hits="" data-linenumber="463">
            <code class="sql">                   nvl(exp.pk_value, act.pk_value) pk_value,</code></li>

            <li class="never" data-hits="" data-linenumber="464">
            <code class="sql">                   exp.col exp_item,</code></li>

            <li class="never" data-hits="" data-linenumber="465">
            <code class="sql">                   act.col act_item,</code></li>

            <li class="never" data-hits="" data-linenumber="466">
            <code class="sql">                   nvl(exp.col_name,act.col_name) col_name</code></li>

            <li class="never" data-hits="" data-linenumber="467">
            <code class="sql">              from exp</code></li>

            <li class="never" data-hits="" data-linenumber="468">
            <code class="sql">              join act</code></li>

            <li class="never" data-hits="" data-linenumber="469">
            <code class="sql">                on exp.rn = act.rn and exp.col_name = act.col_name</code></li>

            <li class="never" data-hits="" data-linenumber="470">
            <code class="sql">             where dbms_lob.compare(exp.col_val, act.col_val) != 0</code></li>

            <li class="never" data-hits="" data-linenumber="471">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="472">
            <code class="sql">        unpivot ( data_item for diff_type in (exp_item as &apos;Expected:&apos;, act_item as &apos;Actual:&apos;) ) ]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="473">
            <code class="sql">        else q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="474">
            <code class="sql">        select rn, diff_type, xmlserialize(content data_item no indent) diffed_row, null pk_value, col_name</code></li>

            <li class="never" data-hits="" data-linenumber="475">
            <code class="sql">          from (</code></li>

            <li class="never" data-hits="" data-linenumber="476">
            <code class="sql">            select nvl(exp.rn, act.rn) rn,</code></li>

            <li class="never" data-hits="" data-linenumber="477">
            <code class="sql">                   xmlagg(exp.col order by exp.col_no) exp_item,</code></li>

            <li class="never" data-hits="" data-linenumber="478">
            <code class="sql">                   xmlagg(act.col order by act.col_no) act_item,</code></li>

            <li class="never" data-hits="" data-linenumber="479">
            <code class="sql">                   max(nvl(exp.col_name,act.col_name)) col_name</code></li>

            <li class="never" data-hits="" data-linenumber="480">
            <code class="sql">              from exp exp</code></li>

            <li class="never" data-hits="" data-linenumber="481">
            <code class="sql">              join act act</code></li>

            <li class="never" data-hits="" data-linenumber="482">
            <code class="sql">                on exp.rn = act.rn and exp.col_name = act.col_name</code></li>

            <li class="never" data-hits="" data-linenumber="483">
            <code class="sql">             where dbms_lob.compare(exp.col_val, act.col_val) != 0</code></li>

            <li class="never" data-hits="" data-linenumber="484">
            <code class="sql">             group by (exp.rn, act.rn)</code></li>

            <li class="never" data-hits="" data-linenumber="485">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="486">
            <code class="sql">        unpivot ( data_item for diff_type in (exp_item as &apos;Expected:&apos;, act_item as &apos;Actual:&apos;) ) ]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="487">
            <code class="sql">        end ||q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="488">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="489">
            <code class="sql">      union all</code></li>

            <li class="never" data-hits="" data-linenumber="490">
            <code class="sql">      select</code></li>

            <li class="never" data-hits="" data-linenumber="491">
            <code class="sql">          item_no as rn,</code></li>

            <li class="never" data-hits="" data-linenumber="492">
            <code class="sql">          case when exp_data_id is null then &apos;Extra:&apos; else &apos;Missing:&apos; end as diff_type,</code></li>

            <li class="never" data-hits="" data-linenumber="493">
            <code class="sql">          xmlserialize(</code></li>

            <li class="never" data-hits="" data-linenumber="494">
            <code class="sql">            content (</code></li>

            <li class="never" data-hits="" data-linenumber="495">
            <code class="sql">              extract( (case when exp_data_id is null then act_item_data else exp_item_data end),&apos;/*/*&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="496">
            <code class="sql">            ) no indent</code></li>

            <li class="never" data-hits="" data-linenumber="497">
            <code class="sql">          ) diffed_row,</code></li>

            <li class="never" data-hits="" data-linenumber="498">
            <code class="sql">          nvl2(</code></li>

            <li class="never" data-hits="" data-linenumber="499">
            <code class="sql">            :join_by,</code></li>

            <li class="never" data-hits="" data-linenumber="500">
            <code class="sql">            replace(</code></li>

            <li class="never" data-hits="" data-linenumber="501">
            <code class="sql">              extract( case when exp_data_id is null then act_item_data else exp_item_data end, :join_by ).getclobval(),</code></li>

            <li class="never" data-hits="" data-linenumber="502">
            <code class="sql">              chr(10)</code></li>

            <li class="never" data-hits="" data-linenumber="503">
            <code class="sql">            ),</code></li>

            <li class="never" data-hits="" data-linenumber="504">
            <code class="sql">            null</code></li>

            <li class="never" data-hits="" data-linenumber="505">
            <code class="sql">          ) pk_value,</code></li>

            <li class="never" data-hits="" data-linenumber="506">
            <code class="sql">          case when exp_data_id is null then 1 else 2 end rnk,</code></li>

            <li class="never" data-hits="" data-linenumber="507">
            <code class="sql">          2 final_order,</code></li>

            <li class="never" data-hits="" data-linenumber="508">
            <code class="sql">          null col_name</code></li>

            <li class="never" data-hits="" data-linenumber="509">
            <code class="sql">        from ut_compound_data_diff_tmp i</code></li>

            <li class="never" data-hits="" data-linenumber="510">
            <code class="sql">       where diff_id = :diff_id</code></li>

            <li class="never" data-hits="" data-linenumber="511">
            <code class="sql">         and act_data_id is null or exp_data_id is null</code></li>

            <li class="never" data-hits="" data-linenumber="512">
            <code class="sql">   )</code></li>

            <li class="never" data-hits="" data-linenumber="513">
            <code class="sql">   order by final_order,]&apos;</code></li>

            <li class="partcov" data-hits="1" data-blocks="5/6" data-linenumber="514">
                <span class="blocks">5/6</span>
              <span class="hits">1</span>
              <code class="sql">    ||case when a_enforce_column_order or (not(a_enforce_column_order) and not(a_unordered)) then</code></li>

            <li class="never" data-hits="" data-linenumber="515">
            <code class="sql">     q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="516">
            <code class="sql">         case when final_order = 1 then rn else rnk end,</code></li>

            <li class="never" data-hits="" data-linenumber="517">
            <code class="sql">         case when final_order = 1 then rnk else rn end</code></li>

            <li class="never" data-hits="" data-linenumber="518">
            <code class="sql">     ]&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="519">
              <span class="hits">1</span>
              <code class="sql">      when a_unordered then</code></li>

            <li class="never" data-hits="" data-linenumber="520">
            <code class="sql">     q&apos;[</code></li>

            <li class="never" data-hits="" data-linenumber="521">
            <code class="sql">         case when final_order = 1 then col_name else to_char(rnk) end,</code></li>

            <li class="never" data-hits="" data-linenumber="522">
            <code class="sql">         case when final_order = 1 then to_char(rn) else col_name end,</code></li>

            <li class="never" data-hits="" data-linenumber="523">
            <code class="sql">         case when final_order = 1 then to_char(rnk) else col_name end</code></li>

            <li class="never" data-hits="" data-linenumber="524">
            <code class="sql">     ]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="525">
            <code class="sql">   else</code></li>

            <li class="never" data-hits="" data-linenumber="526">
            <code class="sql">     null</code></li>

            <li class="never" data-hits="" data-linenumber="527">
            <code class="sql">   end;</code></li>

            <li class="covered" data-hits="55" data-linenumber="528">
              <span class="hits">55</span>
              <code class="sql">   execute immediate l_sql</code></li>

            <li class="never" data-hits="" data-linenumber="529">
            <code class="sql">   bulk collect into l_results</code></li>

            <li class="never" data-hits="" data-linenumber="530">
            <code class="sql">    using l_exp_extract_xpath, l_join_xpath, a_diff_id, a_expected_dataset_guid,a_extract_path,</code></li>

            <li class="never" data-hits="" data-linenumber="531">
            <code class="sql">          l_act_extract_xpath, l_join_xpath, a_diff_id, a_actual_dataset_guid,a_extract_path,</code></li>

            <li class="never" data-hits="" data-linenumber="532">
            <code class="sql">          l_join_xpath, l_join_xpath, a_diff_id;</code></li>

            <li class="covered" data-hits="55" data-linenumber="533">
              <span class="hits">55</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="534">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="535">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="536">
            <code class="sql">  function get_fixed_size_hash(a_string varchar2, a_base integer :=0,a_size integer := 9999999) return number is</code></li>

            <li class="never" data-hits="" data-linenumber="537">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="383" data-linenumber="538">
              <span class="hits">383</span>
              <code class="sql">    return dbms_utility.get_hash_value(a_string,a_base,a_size);</code></li>

            <li class="never" data-hits="" data-linenumber="539">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="540">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="541">
            <code class="sql">  procedure insert_diffs_result(a_diff_tab t_diff_tab, a_diff_id raw) is</code></li>

            <li class="never" data-hits="" data-linenumber="542">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="543">
              <span class="hits">173</span>
              <code class="sql">    forall idx in 1..a_diff_tab.count save exceptions</code></li>

            <li class="never" data-hits="" data-linenumber="544">
            <code class="sql">    insert into ut_compound_data_diff_tmp</code></li>

            <li class="never" data-hits="" data-linenumber="545">
            <code class="sql">    ( diff_id, act_item_data, act_data_id, exp_item_data, exp_data_id, item_no, duplicate_no )</code></li>

            <li class="never" data-hits="" data-linenumber="546">
            <code class="sql">    values</code></li>

            <li class="never" data-hits="" data-linenumber="547">
            <code class="sql">    (a_diff_id,</code></li>

            <li class="never" data-hits="" data-linenumber="548">
            <code class="sql">    xmlelement( name &quot;ROW&quot;, a_diff_tab(idx).act_item_data), a_diff_tab(idx).act_data_id,</code></li>

            <li class="never" data-hits="" data-linenumber="549">
            <code class="sql">    xmlelement( name &quot;ROW&quot;, a_diff_tab(idx).exp_item_data), a_diff_tab(idx).exp_data_id,</code></li>

            <li class="never" data-hits="" data-linenumber="550">
            <code class="sql">    a_diff_tab(idx).item_no, a_diff_tab(idx).dup_no);</code></li>

            <li class="never" data-hits="" data-linenumber="551">
            <code class="sql">  exception</code></li>

            <li class="missed" data-hits="0" data-linenumber="552">
              <code class="sql">    when ut_utils.ex_failure_for_all then</code></li>

            <li class="missed" data-hits="0" data-linenumber="553">
              <code class="sql">      raise_application_error(ut_utils.gc_dml_for_all,&apos;Failure to insert a diff tmp data.&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="554">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="555">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="556">
            <code class="sql">  procedure set_rows_diff(a_rows_diff integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="557">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="558">
              <span class="hits">173</span>
              <code class="sql">    g_diff_count := a_rows_diff;</code></li>

            <li class="never" data-hits="" data-linenumber="559">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="560">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="561">
            <code class="sql">  procedure cleanup_diff is</code></li>

            <li class="never" data-hits="" data-linenumber="562">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="570" data-linenumber="563">
              <span class="hits">570</span>
              <code class="sql">    g_diff_count := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="564">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="565">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="566">
            <code class="sql">  function get_rows_diff_count return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="567">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="161" data-linenumber="568">
              <span class="hits">161</span>
              <code class="sql">    return g_diff_count;</code></li>

            <li class="never" data-hits="" data-linenumber="569">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="570">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="571">
            <code class="sql">  function is_sql_compare_allowed(a_type_name varchar2)</code></li>

            <li class="never" data-hits="" data-linenumber="572">
            <code class="sql">  return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="573">
            <code class="sql">    l_assert boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="574">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="575">
            <code class="sql">    --clob/blob/xmltype/object/nestedcursor/nestedtable</code></li>

            <li class="covered" data-hits="1107" data-linenumber="576">
              <span class="hits">1107</span>
              <code class="sql">    if a_type_name IN (g_type_name_map(dbms_sql.blob_type),</code></li>

            <li class="covered" data-hits="1" data-linenumber="577">
              <span class="hits">1</span>
              <code class="sql">                       g_type_name_map(dbms_sql.clob_type),</code></li>

            <li class="covered" data-hits="1" data-linenumber="578">
              <span class="hits">1</span>
              <code class="sql">                       g_type_name_map(dbms_sql.long_type),</code></li>

            <li class="covered" data-hits="1" data-linenumber="579">
              <span class="hits">1</span>
              <code class="sql">                       g_type_name_map(dbms_sql.long_raw_type),</code></li>

            <li class="covered" data-hits="1" data-linenumber="580">
              <span class="hits">1</span>
              <code class="sql">                       g_type_name_map(dbms_sql.bfile_type),</code></li>

            <li class="covered" data-hits="1" data-linenumber="581">
              <span class="hits">1</span>
              <code class="sql">                       g_anytype_name_map(dbms_types.typecode_namedcollection))</code></li>

            <li class="never" data-hits="" data-linenumber="582">
            <code class="sql">    then</code></li>

            <li class="covered" data-hits="18" data-linenumber="583">
              <span class="hits">18</span>
              <code class="sql">      l_assert := false;</code></li>

            <li class="never" data-hits="" data-linenumber="584">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="1089" data-linenumber="585">
              <span class="hits">1089</span>
              <code class="sql">      l_assert := true;</code></li>

            <li class="never" data-hits="" data-linenumber="586">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="1107" data-linenumber="587">
              <span class="hits">1107</span>
              <code class="sql">    return l_assert;</code></li>

            <li class="never" data-hits="" data-linenumber="588">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="589">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="590">
            <code class="sql">  function get_column_type_desc(a_type_code in integer, a_dbms_sql_desc in boolean)</code></li>

            <li class="never" data-hits="" data-linenumber="591">
            <code class="sql">  return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="592">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1226" data-linenumber="593">
              <span class="hits">1226</span>
              <code class="sql">   return</code></li>

            <li class="covered" data-hits="1" data-linenumber="594">
              <span class="hits">1</span>
              <code class="sql">     case</code></li>

            <li class="covered" data-hits="1" data-linenumber="595">
              <span class="hits">1</span>
              <code class="sql">       when a_dbms_sql_desc then g_type_name_map(a_type_code)</code></li>

            <li class="never" data-hits="" data-linenumber="596">
            <code class="sql">       else g_anytype_name_map(a_type_code)</code></li>

            <li class="never" data-hits="" data-linenumber="597">
            <code class="sql">     end;</code></li>

            <li class="never" data-hits="" data-linenumber="598">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="599">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="600">
            <code class="sql">  function get_compare_cursor(a_diff_cursor_text in clob,a_self_id raw, a_other_id raw) return sys_refcursor is</code></li>

            <li class="never" data-hits="" data-linenumber="601">
            <code class="sql">    l_diff_cursor sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="602">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="603">
              <span class="hits">173</span>
              <code class="sql">    open l_diff_cursor for a_diff_cursor_text using a_self_id, a_other_id;</code></li>

            <li class="covered" data-hits="173" data-linenumber="604">
              <span class="hits">173</span>
              <code class="sql">    return l_diff_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="605">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="606">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="607">
            <code class="sql">  function create_err_cursor_msg(a_error_stack varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="608">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="609">
              <span class="hits">4</span>
              <code class="sql">    return &apos;SQL exception thrown when fetching data from cursor:&apos;||</code></li>

            <li class="never" data-hits="" data-linenumber="610">
            <code class="sql">      ut_utils.remove_error_from_stack(sqlerrm,ut_utils.gc_xml_processing)||chr(10)||</code></li>

            <li class="never" data-hits="" data-linenumber="611">
            <code class="sql">      ut_expectation_processor.who_called_expectation(a_error_stack)||chr(10)||</code></li>

            <li class="never" data-hits="" data-linenumber="612">
            <code class="sql">      &apos;Check the query and data for errors.&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="613">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="614">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="615">
            <code class="sql">  procedure save_cursor_data_for_diff(a_data_id raw, a_set_id integer, a_xml xmltype) is</code></li>

            <li class="never" data-hits="" data-linenumber="616">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="363" data-linenumber="617">
              <span class="hits">363</span>
              <code class="sql">    insert into ut_compound_data_tmp (data_id, item_no, item_data) values (a_data_id, a_set_id, a_xml);</code></li>

            <li class="never" data-hits="" data-linenumber="618">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="619">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="620">
            <code class="sql">  function get_row_data_as_xml(a_data_id raw, a_max_rows integer) return ut_utils.t_clob_tab is</code></li>

            <li class="never" data-hits="" data-linenumber="621">
            <code class="sql">    l_results       ut_utils.t_clob_tab;</code></li>

            <li class="never" data-hits="" data-linenumber="622">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="50" data-linenumber="623">
              <span class="hits">50</span>
              <code class="sql">    select xmlserialize( content ucd.item_data no indent)</code></li>

            <li class="never" data-hits="" data-linenumber="624">
            <code class="sql">      bulk collect into l_results</code></li>

            <li class="never" data-hits="" data-linenumber="625">
            <code class="sql">      from ut_compound_data_tmp tmp</code></li>

            <li class="never" data-hits="" data-linenumber="626">
            <code class="sql">        ,xmltable ( &apos;/ROWSET&apos; passing tmp.item_data</code></li>

            <li class="never" data-hits="" data-linenumber="627">
            <code class="sql">           columns item_data xmltype PATH &apos;*&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="628">
            <code class="sql">         ) ucd</code></li>

            <li class="never" data-hits="" data-linenumber="629">
            <code class="sql">     where tmp.data_id = a_data_id</code></li>

            <li class="never" data-hits="" data-linenumber="630">
            <code class="sql">           and rownum &lt;= a_max_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="631">
            <code class="sql"></code></li>

            <li class="covered" data-hits="50" data-linenumber="632">
              <span class="hits">50</span>
              <code class="sql">    return l_results;</code></li>

            <li class="never" data-hits="" data-linenumber="633">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="634">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="635">
            <code class="sql">  function type_no_length ( a_type_name varchar2) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="636">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="396" data-linenumber="637">
              <span class="hits">396</span>
              <code class="sql">    return case</code></li>

            <li class="covered" data-hits="1" data-linenumber="638">
              <span class="hits">1</span>
              <code class="sql">      when g_type_no_length_map.exists(a_type_name) then</code></li>

            <li class="never" data-hits="" data-linenumber="639">
            <code class="sql">        true</code></li>

            <li class="never" data-hits="" data-linenumber="640">
            <code class="sql">      else</code></li>

            <li class="never" data-hits="" data-linenumber="641">
            <code class="sql">        false</code></li>

            <li class="never" data-hits="" data-linenumber="642">
            <code class="sql">      end;</code></li>

            <li class="never" data-hits="" data-linenumber="643">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="644">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="645">
            <code class="sql">  function compare_json_data(a_act_json_data ut_json_leaf_tab,a_exp_json_data ut_json_leaf_tab) return tt_json_diff_tab is</code></li>

            <li class="covered" data-hits="10" data-linenumber="646">
              <span class="hits">10</span>
              <code class="sql">    l_result_diff tt_json_diff_tab := tt_json_diff_tab();</code></li>

            <li class="never" data-hits="" data-linenumber="647">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="648">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="649">
              <span class="hits">10</span>
              <code class="sql">    with</code></li>

            <li class="never" data-hits="" data-linenumber="650">
            <code class="sql">      differences as (</code></li>

            <li class="never" data-hits="" data-linenumber="651">
            <code class="sql">        select case</code></li>

            <li class="never" data-hits="" data-linenumber="652">
            <code class="sql">                 when (a.element_name is null or e.element_name is null) then gc_json_missing</code></li>

            <li class="never" data-hits="" data-linenumber="653">
            <code class="sql">                 when a.json_type != e.json_type then gc_json_type</code></li>

            <li class="never" data-hits="" data-linenumber="654">
            <code class="sql">                 when (decode(a.element_value,e.element_value,1,0) = 0) then gc_json_notequal</code></li>

            <li class="never" data-hits="" data-linenumber="655">
            <code class="sql">                 else gc_json_unknown</code></li>

            <li class="never" data-hits="" data-linenumber="656">
            <code class="sql">               end  as difference_type,</code></li>

            <li class="never" data-hits="" data-linenumber="657">
            <code class="sql">               case</code></li>

            <li class="never" data-hits="" data-linenumber="658">
            <code class="sql">                 when (a.element_name is null or e.element_name is null) then 1</code></li>

            <li class="never" data-hits="" data-linenumber="659">
            <code class="sql">                 when a.json_type != e.json_type then 2</code></li>

            <li class="never" data-hits="" data-linenumber="660">
            <code class="sql">                 when (decode(a.element_value,e.element_value,1,0) = 0) then 3</code></li>

            <li class="never" data-hits="" data-linenumber="661">
            <code class="sql">                 else 4</code></li>

            <li class="never" data-hits="" data-linenumber="662">
            <code class="sql">               end  as order_by_type,</code></li>

            <li class="never" data-hits="" data-linenumber="663">
            <code class="sql">               a.element_name as act_element_name,</code></li>

            <li class="never" data-hits="" data-linenumber="664">
            <code class="sql">               a.element_value as act_element_value,</code></li>

            <li class="never" data-hits="" data-linenumber="665">
            <code class="sql">               a.hierarchy_level as act_hierarchy_level,</code></li>

            <li class="never" data-hits="" data-linenumber="666">
            <code class="sql">               a.index_position as act_index_position,</code></li>

            <li class="never" data-hits="" data-linenumber="667">
            <code class="sql">               a.json_type as act_json_type,</code></li>

            <li class="never" data-hits="" data-linenumber="668">
            <code class="sql">               a.access_path as act_access_path,</code></li>

            <li class="never" data-hits="" data-linenumber="669">
            <code class="sql">               a.parent_name as act_par_name,</code></li>

            <li class="never" data-hits="" data-linenumber="670">
            <code class="sql">               a.parent_path as act_parent_path,</code></li>

            <li class="never" data-hits="" data-linenumber="671">
            <code class="sql">               e.element_name as exp_element_name,</code></li>

            <li class="never" data-hits="" data-linenumber="672">
            <code class="sql">               e.element_value as exp_element_value,</code></li>

            <li class="never" data-hits="" data-linenumber="673">
            <code class="sql">               e.hierarchy_level as exp_hierarchy_level,</code></li>

            <li class="never" data-hits="" data-linenumber="674">
            <code class="sql">               e.index_position as exp_index_position,</code></li>

            <li class="never" data-hits="" data-linenumber="675">
            <code class="sql">               e.json_type as exp_json_type,</code></li>

            <li class="never" data-hits="" data-linenumber="676">
            <code class="sql">               e.access_path as exp_access_path,</code></li>

            <li class="never" data-hits="" data-linenumber="677">
            <code class="sql">               e.parent_name as exp_par_name,</code></li>

            <li class="never" data-hits="" data-linenumber="678">
            <code class="sql">               e.parent_path as exp_parent_path</code></li>

            <li class="never" data-hits="" data-linenumber="679">
            <code class="sql">        from table(a_act_json_data) a</code></li>

            <li class="never" data-hits="" data-linenumber="680">
            <code class="sql">          full outer join table(a_exp_json_data) e</code></li>

            <li class="never" data-hits="" data-linenumber="681">
            <code class="sql">            on decode(a.parent_name,e.parent_name,1,0)= 1</code></li>

            <li class="never" data-hits="" data-linenumber="682">
            <code class="sql">              and decode(a.parent_path,e.parent_path,1,0)= 1</code></li>

            <li class="never" data-hits="" data-linenumber="683">
            <code class="sql">              and (</code></li>

            <li class="never" data-hits="" data-linenumber="684">
            <code class="sql">                case when a.parent_type = &apos;object&apos; or e.parent_type = &apos;object&apos; then</code></li>

            <li class="never" data-hits="" data-linenumber="685">
            <code class="sql">                  decode(a.element_name,e.element_name,1,0)</code></li>

            <li class="never" data-hits="" data-linenumber="686">
            <code class="sql">                else 1 end = 1</code></li>

            <li class="never" data-hits="" data-linenumber="687">
            <code class="sql">              )</code></li>

            <li class="never" data-hits="" data-linenumber="688">
            <code class="sql">              and (</code></li>

            <li class="never" data-hits="" data-linenumber="689">
            <code class="sql">                case when a.parent_type = &apos;array&apos; or e.parent_type = &apos;array&apos; then</code></li>

            <li class="never" data-hits="" data-linenumber="690">
            <code class="sql">                  decode(a.index_position,e.index_position,1,0)</code></li>

            <li class="never" data-hits="" data-linenumber="691">
            <code class="sql">                else 1 end = 1</code></li>

            <li class="never" data-hits="" data-linenumber="692">
            <code class="sql">              )</code></li>

            <li class="never" data-hits="" data-linenumber="693">
            <code class="sql">              and a.hierarchy_level = e.hierarchy_level</code></li>

            <li class="never" data-hits="" data-linenumber="694">
            <code class="sql">        where (a.element_name is null or e.element_name is null)</code></li>

            <li class="never" data-hits="" data-linenumber="695">
            <code class="sql">           or (a.json_type != e.json_type)</code></li>

            <li class="never" data-hits="" data-linenumber="696">
            <code class="sql">           or (decode(a.element_value,e.element_value,1,0) = 0)</code></li>

            <li class="never" data-hits="" data-linenumber="697">
            <code class="sql">     )</code></li>

            <li class="never" data-hits="" data-linenumber="698">
            <code class="sql">     select difference_type,</code></li>

            <li class="never" data-hits="" data-linenumber="699">
            <code class="sql">            act_element_name, act_element_value, act_json_type, act_access_path, act_parent_path,</code></li>

            <li class="never" data-hits="" data-linenumber="700">
            <code class="sql">            exp_element_name, exp_element_value, exp_json_type, exp_access_path, exp_parent_path</code></li>

            <li class="never" data-hits="" data-linenumber="701">
            <code class="sql">     bulk collect into l_result_diff</code></li>

            <li class="never" data-hits="" data-linenumber="702">
            <code class="sql">     from differences a</code></li>

            <li class="never" data-hits="" data-linenumber="703">
            <code class="sql">     where not exists (</code></li>

            <li class="never" data-hits="" data-linenumber="704">
            <code class="sql">         select 1 from differences b</code></li>

            <li class="never" data-hits="" data-linenumber="705">
            <code class="sql">         where (a.act_par_name = b.act_element_name and a.act_hierarchy_level - 1 = b.act_hierarchy_level)</code></li>

            <li class="never" data-hits="" data-linenumber="706">
            <code class="sql">            or (a.exp_par_name = b.exp_element_name and a.exp_hierarchy_level - 1 = b.exp_hierarchy_level)</code></li>

            <li class="never" data-hits="" data-linenumber="707">
            <code class="sql">           and a.difference_type = gc_json_missing and b.difference_type = gc_json_missing</code></li>

            <li class="never" data-hits="" data-linenumber="708">
            <code class="sql">       )</code></li>

            <li class="never" data-hits="" data-linenumber="709">
            <code class="sql">    order by order_by_type,</code></li>

            <li class="never" data-hits="" data-linenumber="710">
            <code class="sql">             nvl(act_hierarchy_level,exp_hierarchy_level),</code></li>

            <li class="never" data-hits="" data-linenumber="711">
            <code class="sql">             nvl(act_index_position,exp_index_position) nulls first,</code></li>

            <li class="never" data-hits="" data-linenumber="712">
            <code class="sql">             nvl(act_element_name,exp_element_name) ;</code></li>

            <li class="covered" data-hits="10" data-linenumber="713">
              <span class="hits">10</span>
              <code class="sql">     return l_result_diff;</code></li>

            <li class="never" data-hits="" data-linenumber="714">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="715">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="716">
            <code class="sql">  function insert_json_diffs(a_diff_id raw, a_act_json_data ut_json_leaf_tab, a_exp_json_data ut_json_leaf_tab) return integer is</code></li>

            <li class="covered" data-hits="10" data-linenumber="717">
              <span class="hits">10</span>
              <code class="sql">    l_diffs tt_json_diff_tab := compare_json_data(a_act_json_data,a_exp_json_data);</code></li>

            <li class="never" data-hits="" data-linenumber="718">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="719">
              <span class="hits">10</span>
              <code class="sql">    forall i in 1..l_diffs.count</code></li>

            <li class="covered" data-hits="1" data-linenumber="720">
              <span class="hits">1</span>
              <code class="sql">    insert into ut_json_data_diff_tmp (</code></li>

            <li class="never" data-hits="" data-linenumber="721">
            <code class="sql">      diff_id, difference_type,</code></li>

            <li class="never" data-hits="" data-linenumber="722">
            <code class="sql">      act_element_name, act_element_value, act_json_type, act_access_path, act_parent_path,</code></li>

            <li class="never" data-hits="" data-linenumber="723">
            <code class="sql">      exp_element_name, exp_element_value, exp_json_type, exp_access_path, exp_parent_path</code></li>

            <li class="never" data-hits="" data-linenumber="724">
            <code class="sql">    )</code></li>

            <li class="never" data-hits="" data-linenumber="725">
            <code class="sql">    values (</code></li>

            <li class="never" data-hits="" data-linenumber="726">
            <code class="sql">      a_diff_id,l_diffs(i).difference_type,</code></li>

            <li class="never" data-hits="" data-linenumber="727">
            <code class="sql">      l_diffs(i).act_element_name,l_diffs(i).act_element_value,l_diffs(i).act_json_type, l_diffs(i).act_access_path, l_diffs(i).act_parent_path,</code></li>

            <li class="never" data-hits="" data-linenumber="728">
            <code class="sql">      l_diffs(i).exp_element_name,l_diffs(i).exp_element_value,l_diffs(i).exp_json_type,l_diffs(i).exp_access_path, l_diffs(i).exp_parent_path</code></li>

            <li class="never" data-hits="" data-linenumber="729">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="730">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="731">
              <span class="hits">10</span>
              <code class="sql">    return l_diffs.count;</code></li>

            <li class="never" data-hits="" data-linenumber="732">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="733">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="734">
            <code class="sql">  function get_json_diffs_type(a_diff_id raw) return tt_json_diff_type_tab is</code></li>

            <li class="covered" data-hits="10" data-linenumber="735">
              <span class="hits">10</span>
              <code class="sql">    l_diffs_summary tt_json_diff_type_tab := tt_json_diff_type_tab();</code></li>

            <li class="never" data-hits="" data-linenumber="736">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="737">
              <span class="hits">10</span>
              <code class="sql">    select d.difference_type,count(1)</code></li>

            <li class="never" data-hits="" data-linenumber="738">
            <code class="sql">    bulk collect into l_diffs_summary</code></li>

            <li class="never" data-hits="" data-linenumber="739">
            <code class="sql">    from ut_json_data_diff_tmp d</code></li>

            <li class="never" data-hits="" data-linenumber="740">
            <code class="sql">    where diff_id = a_diff_id</code></li>

            <li class="never" data-hits="" data-linenumber="741">
            <code class="sql">    group by d.difference_type;</code></li>

            <li class="never" data-hits="" data-linenumber="742">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="743">
              <span class="hits">10</span>
              <code class="sql">    return l_diffs_summary;</code></li>

            <li class="never" data-hits="" data-linenumber="744">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="745">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="746">
            <code class="sql">  function get_json_diffs_tmp(a_diff_id raw) return tt_json_diff_tab is</code></li>

            <li class="never" data-hits="" data-linenumber="747">
            <code class="sql">    l_diffs tt_json_diff_tab;</code></li>

            <li class="never" data-hits="" data-linenumber="748">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="749">
              <span class="hits">10</span>
              <code class="sql">    select difference_type,</code></li>

            <li class="never" data-hits="" data-linenumber="750">
            <code class="sql">           act_element_name, act_element_value, act_json_type, act_access_path, act_parent_path,</code></li>

            <li class="never" data-hits="" data-linenumber="751">
            <code class="sql">           exp_element_name, exp_element_value, exp_json_type, exp_access_path, exp_parent_path</code></li>

            <li class="never" data-hits="" data-linenumber="752">
            <code class="sql">    bulk collect into l_diffs</code></li>

            <li class="never" data-hits="" data-linenumber="753">
            <code class="sql">    from ut_json_data_diff_tmp</code></li>

            <li class="never" data-hits="" data-linenumber="754">
            <code class="sql">    where diff_id = a_diff_id;</code></li>

            <li class="never" data-hits="" data-linenumber="755">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="756">
              <span class="hits">10</span>
              <code class="sql">    return l_diffs;</code></li>

            <li class="never" data-hits="" data-linenumber="757">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="758">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="759">
            <code class="sql">begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="760">
              <span class="hits">2</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_date)             := &apos;DATE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="761">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_number)           := &apos;NUMBER&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="762">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(3 /*INTEGER in object type*/)         := &apos;NUMBER&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="763">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_raw)              := &apos;RAW&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="764">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_char)             := &apos;CHAR&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="765">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_varchar2)         := &apos;VARCHAR2&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="766">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_varchar)          := &apos;VARCHAR&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="767">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_blob)             := &apos;BLOB&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="768">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_bfile)            := &apos;BFILE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="769">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_clob)             := &apos;CLOB&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="770">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_timestamp)        := &apos;TIMESTAMP&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="771">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_timestamp_tz)     := &apos;TIMESTAMP WITH TIME ZONE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="772">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_timestamp_ltz)    := &apos;TIMESTAMP WITH LOCAL TIME ZONE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="773">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_interval_ym)      := &apos;INTERVAL YEAR TO MONTH&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="774">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_interval_ds)      := &apos;INTERVAL DAY TO SECOND&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="775">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_bfloat)           := &apos;BINARY_FLOAT&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="776">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_bdouble)          := &apos;BINARY_DOUBLE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="777">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_urowid)           := &apos;UROWID&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="778">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_varray)           := &apos;VARRRAY&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="779">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_table)            := &apos;TABLE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="780">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_namedcollection)  := &apos;NAMEDCOLLECTION&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="781">
              <span class="hits">1</span>
              <code class="sql">  g_anytype_name_map(dbms_types.typecode_object)           := &apos;OBJECT&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="782">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="783">
              <span class="hits">2</span>
              <code class="sql">  g_type_name_map( dbms_sql.binary_bouble_type )           := &apos;BINARY_DOUBLE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="784">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.bfile_type )                   := &apos;BFILE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="785">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.binary_float_type )            := &apos;BINARY_FLOAT&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="786">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.blob_type )                    := &apos;BLOB&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="787">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.long_raw_type )                := &apos;LONG RAW&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="788">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.char_type )                    := &apos;CHAR&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="789">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.clob_type )                    := &apos;CLOB&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="790">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.long_type )                    := &apos;LONG&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="791">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.date_type )                    := &apos;DATE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="792">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.interval_day_to_second_type )  := &apos;INTERVAL DAY TO SECOND&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="793">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.interval_year_to_month_type )  := &apos;INTERVAL YEAR TO MONTH&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="794">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.raw_type )                     := &apos;RAW&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="795">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.timestamp_type )               := &apos;TIMESTAMP&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="796">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.timestamp_with_tz_type )       := &apos;TIMESTAMP WITH TIME ZONE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="797">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.timestamp_with_local_tz_type ) := &apos;TIMESTAMP WITH LOCAL TIME ZONE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="798">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.varchar2_type )                := &apos;VARCHAR2&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="799">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.number_type )                  := &apos;NUMBER&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="800">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.rowid_type )                   := &apos;ROWID&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="801">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.urowid_type )                  := &apos;UROWID&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="802">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.user_defined_type )            := &apos;USER_DEFINED_TYPE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="803">
              <span class="hits">1</span>
              <code class="sql">  g_type_name_map( dbms_sql.ref_type )                     := &apos;REF_TYPE&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="804">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="805">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="806">
            <code class="sql">  /**</code></li>

            <li class="never" data-hits="" data-linenumber="807">
            <code class="sql">  * List of types that have no length but can produce a max_len from desc_cursor function.</code></li>

            <li class="never" data-hits="" data-linenumber="808">
            <code class="sql">  */</code></li>

            <li class="covered" data-hits="1" data-linenumber="809">
              <span class="hits">1</span>
              <code class="sql">  g_type_no_length_map(&apos;ROWID&apos;)                            := &apos;ROWID&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="810">
              <span class="hits">1</span>
              <code class="sql">  g_type_no_length_map(&apos;INTERVAL DAY TO SECOND&apos;)           := &apos;INTERVAL DAY TO SECOND&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="811">
              <span class="hits">1</span>
              <code class="sql">  g_type_no_length_map(&apos;INTERVAL YEAR TO MONTH&apos;)           := &apos;INTERVAL YEAR TO MONTH&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="812">
              <span class="hits">1</span>
              <code class="sql">  g_type_no_length_map(&apos;BINARY_DOUBLE&apos;)                    := &apos;BINARY_DOUBLE&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="813">
              <span class="hits">1</span>
              <code class="sql">  g_type_no_length_map(&apos;BINARY_FLOAT&apos;)                     := &apos;BINARY_FLOAT&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="814">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="5EFAAA23DDB1F7A300BC5AFA214D7610"><div class="header"> <h3>UT3.UT_COMPOUND_DATA_VALUE</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>12</b> relevant lines. <span class="green"><b>12</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_compound_data_value as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member function get_elements_count_info return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="364" data-linenumber="21">
              <span class="hits">364</span>
              <code class="sql">    return case when elements_count is null then &apos; [ null ]&apos; else &apos; [ count = &apos;||elements_count||&apos; ]&apos; end;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  overriding member function get_object_info return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="270" data-linenumber="26">
              <span class="hits">270</span>
              <code class="sql">    return self.data_type||get_elements_count_info();</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1362" data-linenumber="31">
              <span class="hits">1362</span>
              <code class="sql">    return ut_utils.int_to_boolean(self.is_data_null);</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  overriding member function is_diffable return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="179" data-linenumber="36">
              <span class="hits">179</span>
              <code class="sql">    return true;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  overriding member function is_multi_line return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="79" data-linenumber="41">
              <span class="hits">79</span>
              <code class="sql">    return not self.is_null();</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    l_result        clob;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    l_result_string varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="50" data-linenumber="48">
              <span class="hits">50</span>
              <code class="sql">    if not self.is_null() then</code></li>

            <li class="covered" data-hits="50" data-linenumber="49">
              <span class="hits">50</span>
              <code class="sql">      dbms_lob.createtemporary(l_result, true);</code></li>

            <li class="covered" data-hits="50" data-linenumber="50">
              <span class="hits">50</span>
              <code class="sql">      ut_utils.append_to_clob(l_result,&apos;Data:&apos;||chr(10));</code></li>

            <li class="covered" data-hits="50" data-linenumber="51">
              <span class="hits">50</span>
              <code class="sql">      ut_utils.append_to_clob(</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">        l_result,</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">        ut_compound_data_helper.get_row_data_as_xml( self.data_id, ut_utils.gc_diff_max_rows )</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="covered" data-hits="50" data-linenumber="56">
              <span class="hits">50</span>
              <code class="sql">      l_result_string := ut_utils.to_string(l_result,null);</code></li>

            <li class="covered" data-hits="50" data-linenumber="57">
              <span class="hits">50</span>
              <code class="sql">      dbms_lob.freetemporary(l_result);</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="50" data-linenumber="59">
              <span class="hits">50</span>
              <code class="sql">    return l_result_string;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="74B3BAC1F763F5374AA8D7613BDC69D9"><div class="header"> <h3>UT3.UT_CURSOR_COLUMN</h3><h4><span class="green">95.83 %</span> lines covered</h4><div> <b>24</b> relevant lines. <span class="green"><b>23</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_cursor_column as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">   member procedure init(</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">     self in out nocopy ut_cursor_column,</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql">     a_col_name varchar2, a_col_schema_name varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">     a_col_type_name varchar2, a_col_max_len integer, a_parent_name varchar2 := null, a_hierarchy_level integer := 1,</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">     a_col_position integer, a_col_type varchar2, a_collection integer,a_access_path in varchar2, a_col_precision in integer,</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">     a_col_scale integer</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql">   ) is</code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">   begin</code></li>

            <li class="covered" data-hits="1226" data-linenumber="11">
              <span class="hits">1226</span>
              <code class="sql">      self.parent_name      := a_parent_name; --Name of the parent if its nested</code></li>

            <li class="covered" data-hits="1226" data-linenumber="12">
              <span class="hits">1226</span>
              <code class="sql">      self.hierarchy_level  := a_hierarchy_level; --Hierarchy level</code></li>

            <li class="covered" data-hits="1226" data-linenumber="13">
              <span class="hits">1226</span>
              <code class="sql">      self.column_position  := a_col_position; --Position of the column in cursor/ type</code></li>

            <li class="covered" data-hits="1226" data-linenumber="14">
              <span class="hits">1226</span>
              <code class="sql">      self.column_len       := a_col_max_len; --length of column</code></li>

            <li class="covered" data-hits="1226" data-linenumber="15">
              <span class="hits">1226</span>
              <code class="sql">      self.column_precision := a_col_precision;</code></li>

            <li class="covered" data-hits="1226" data-linenumber="16">
              <span class="hits">1226</span>
              <code class="sql">      self.column_scale     := a_col_scale;</code></li>

            <li class="covered" data-hits="1226" data-linenumber="17">
              <span class="hits">1226</span>
              <code class="sql">      self.column_name      := TRIM( BOTH &apos;&apos;&apos;&apos; FROM a_col_name); --name of the column</code></li>

            <li class="covered" data-hits="1226" data-linenumber="18">
              <span class="hits">1226</span>
              <code class="sql">      self.column_type_name := coalesce(a_col_type_name,a_col_type); --type name e.g. test_dummy_object or varchar2</code></li>

            <li class="covered" data-hits="1226" data-linenumber="19">
              <span class="hits">1226</span>
              <code class="sql">      self.xml_valid_name   := ut_utils.get_valid_xml_name(self.column_name);</code></li>

            <li class="covered" data-hits="1226" data-linenumber="20">
              <span class="hits">1226</span>
              <code class="sql">      self.display_path     := case when a_access_path is null then</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">                                 self.column_name</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">                               else</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">                                 a_access_path||&apos;/&apos;||self.column_name</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">                               end; --Access path used for incldue exclude eg/ TEST_DUMMY_OBJECT/VARCHAR2</code></li>

            <li class="covered" data-hits="1226" data-linenumber="25">
              <span class="hits">1226</span>
              <code class="sql">      self.access_path      := case when a_access_path is null then</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">                                 self.xml_valid_name</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">                               else</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">                                 a_access_path||&apos;/&apos;||self.xml_valid_name</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">                               end; --Access path used for XMLTABLE query</code></li>

            <li class="covered" data-hits="1226" data-linenumber="30">
              <span class="hits">1226</span>
              <code class="sql">      self.filter_path      := &apos;/&apos;||self.access_path; --Filter path will differ from access path in anydata type</code></li>

            <li class="covered" data-hits="1226" data-linenumber="31">
              <span class="hits">1226</span>
              <code class="sql">      self.transformed_name := case when length(self.xml_valid_name) &gt; 30 then</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">                                 &apos;&quot;&apos;||ut_compound_data_helper.get_fixed_size_hash(self.parent_name||self.xml_valid_name)||&apos;&quot;&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="33">
              <span class="hits">1</span>
              <code class="sql">                               when self.parent_name is null then</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">                                 &apos;&quot;&apos;||self.xml_valid_name||&apos;&quot;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">                               else</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">                                 &apos;&quot;&apos;||ut_compound_data_helper.get_fixed_size_hash(self.parent_name||self.xml_valid_name)||&apos;&quot;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">                               end; --when is nestd we need to hash name to make sure we dont exceed 30 char</code></li>

            <li class="covered" data-hits="1226" data-linenumber="38">
              <span class="hits">1226</span>
              <code class="sql">      self.column_type      := a_col_type; --column type e.g. user_defined , varchar2</code></li>

            <li class="covered" data-hits="1226" data-linenumber="39">
              <span class="hits">1226</span>
              <code class="sql">      self.column_schema    := a_col_schema_name; -- schema name</code></li>

            <li class="covered" data-hits="1226" data-linenumber="40">
              <span class="hits">1226</span>
              <code class="sql">      self.is_sql_diffable  := case</code></li>

            <li class="covered" data-hits="1" data-linenumber="41">
              <span class="hits">1</span>
              <code class="sql">                              when lower(self.column_type) = &apos;user_defined_type&apos; then</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">                                0</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">                              -- Due to bug in 11g/12.1 collection fails on varchar 4000+</code></li>

            <li class="covered" data-hits="1" data-linenumber="44">
              <span class="hits">1</span>
              <code class="sql">                              when (lower(self.column_type) in (&apos;varchar2&apos;,&apos;char&apos;)) and (self.column_len &gt; 4000) then</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">                                0</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">                              else</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">                                ut_utils.boolean_to_int(ut_compound_data_helper.is_sql_compare_allowed(self.column_type))</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">                              end;  --can we directly compare or do we need to hash value</code></li>

            <li class="covered" data-hits="1226" data-linenumber="49">
              <span class="hits">1226</span>
              <code class="sql">      self.is_collection   := a_collection;</code></li>

            <li class="covered" data-hits="1226" data-linenumber="50">
              <span class="hits">1226</span>
              <code class="sql">      self.has_nested_col := case when lower(self.column_type) = &apos;user_defined_type&apos; and self.is_collection = 0 then 1 else 0 end;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">   end;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">   constructor function ut_cursor_column( self in out nocopy ut_cursor_column,</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">     a_col_name varchar2, a_col_schema_name varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">     a_col_type_name varchar2, a_col_max_len integer, a_parent_name varchar2 := null, a_hierarchy_level integer := 1,</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">     a_col_position integer, a_col_type in varchar2, a_collection integer,a_access_path in varchar2, a_col_precision in integer,</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">     a_col_scale integer</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">   ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">   begin</code></li>

            <li class="covered" data-hits="1226" data-linenumber="60">
              <span class="hits">1226</span>
              <code class="sql">     init(a_col_name, a_col_schema_name, a_col_type_name, a_col_max_len, a_parent_name,a_hierarchy_level, a_col_position,</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">       a_col_type, a_collection,a_access_path,a_col_precision,a_col_scale);</code></li>

            <li class="covered" data-hits="1226" data-linenumber="62">
              <span class="hits">1226</span>
              <code class="sql">   return;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">   end;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">   constructor function ut_cursor_column( self in out nocopy ut_cursor_column) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">   begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="67">
              <code class="sql">     return;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">   end;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="F8C1888B3BBED7F33740C878BAC92AC7"><div class="header"> <h3>UT3.UT_CURSOR_DETAILS</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>62</b> relevant lines. <span class="green"><b>62</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_cursor_details as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  member function equals( a_other ut_cursor_details, a_match_options ut_matcher_options ) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">   l_diffs integer;</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="161" data-linenumber="6">
              <span class="hits">161</span>
              <code class="sql">    select count(1) into l_diffs</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">      from table(self.cursor_columns_info) a</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">      full outer join table(a_other.cursor_columns_info) e</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql">        on decode(a.parent_name,e.parent_name,1,0)= 1</code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">       and a.column_name = e.column_name</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql">       and replace(a.column_type,&apos;VARCHAR2&apos;,&apos;CHAR&apos;) =  replace(e.column_type,&apos;VARCHAR2&apos;,&apos;CHAR&apos;)</code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">       and ( a.column_position = e.column_position or a_match_options.columns_are_unordered_flag = 1 )</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">     where a.column_name is null or e.column_name is null;</code></li>

            <li class="covered" data-hits="161" data-linenumber="14">
              <span class="hits">161</span>
              <code class="sql">    return l_diffs = 0;</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  member procedure desc_compound_data(</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">    self in out nocopy ut_cursor_details, a_compound_data anytype,</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">    a_parent_name in varchar2, a_level in integer, a_access_path in varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  ) is</code></li>

            <li class="covered" data-hits="145" data-linenumber="21">
              <span class="hits">145</span>
              <code class="sql">    l_idx                pls_integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">    l_elements_info      ut_metadata.t_anytype_members_rec;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">    l_element_info       ut_metadata.t_anytype_elem_info_rec;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">    l_is_collection      boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="145" data-linenumber="26">
              <span class="hits">145</span>
              <code class="sql">    l_elements_info := ut_metadata.get_anytype_members_info( a_compound_data );</code></li>

            <li class="covered" data-hits="145" data-linenumber="27">
              <span class="hits">145</span>
              <code class="sql">    l_is_collection := ut_metadata.is_collection(l_elements_info.type_code);</code></li>

            <li class="covered" data-hits="145" data-linenumber="28">
              <span class="hits">145</span>
              <code class="sql">    if l_elements_info.elements_count is null then</code></li>

            <li class="covered" data-hits="16" data-linenumber="29">
              <span class="hits">16</span>
              <code class="sql">      l_element_info := ut_metadata.get_attr_elem_info( a_compound_data );</code></li>

            <li class="covered" data-hits="16" data-linenumber="30">
              <span class="hits">16</span>
              <code class="sql">      self.cursor_columns_info.extend;</code></li>

            <li class="covered" data-hits="16" data-linenumber="31">
              <span class="hits">16</span>
              <code class="sql">      self.cursor_columns_info(cursor_columns_info.last) :=</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">        ut_cursor_column(</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">          l_elements_info.type_name,</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">          l_elements_info.schema_name,</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">          null,</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">          l_elements_info.length,</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">          a_parent_name,</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">          a_level,</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">          l_idx,</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">          ut_compound_data_helper.get_column_type_desc(l_elements_info.type_code,false),</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">          ut_utils.boolean_to_int(l_is_collection),</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">          a_access_path,</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">          l_elements_info.precision,</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">          l_elements_info.scale</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="16" data-linenumber="46">
              <span class="hits">16</span>
              <code class="sql">      if l_element_info.attr_elt_type is not null then</code></li>

            <li class="covered" data-hits="16" data-linenumber="47">
              <span class="hits">16</span>
              <code class="sql">        desc_compound_data(</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">          l_element_info.attr_elt_type, l_elements_info.type_name,</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">          a_level + 1, a_access_path || &apos;/&apos; || l_elements_info.type_name</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="494" data-linenumber="53">
              <span class="hits">494</span>
              <code class="sql">      while l_idx &lt;= l_elements_info.elements_count loop</code></li>

            <li class="covered" data-hits="365" data-linenumber="54">
              <span class="hits">365</span>
              <code class="sql">        l_element_info := ut_metadata.get_attr_elem_info( a_compound_data, l_idx );</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="covered" data-hits="365" data-linenumber="56">
              <span class="hits">365</span>
              <code class="sql">        self.cursor_columns_info.extend;</code></li>

            <li class="covered" data-hits="365" data-linenumber="57">
              <span class="hits">365</span>
              <code class="sql">        self.cursor_columns_info(cursor_columns_info.last) :=</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">          ut_cursor_column(</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">            l_element_info.attribute_name,</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">            l_elements_info.schema_name,</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">            null,</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">            l_element_info.length,</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">            a_parent_name,</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">            a_level,</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">            l_idx,</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">            ut_compound_data_helper.get_column_type_desc(l_element_info.type_code,false),</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">            ut_utils.boolean_to_int(l_is_collection),</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">            a_access_path,</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">            l_elements_info.precision,</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">            l_elements_info.scale</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">          );</code></li>

            <li class="covered" data-hits="365" data-linenumber="72">
              <span class="hits">365</span>
              <code class="sql">        if l_element_info.attr_elt_type is not null then</code></li>

            <li class="covered" data-hits="10" data-linenumber="73">
              <span class="hits">10</span>
              <code class="sql">          desc_compound_data(</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">            l_element_info.attr_elt_type, l_element_info.attribute_name,</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">            a_level + 1, a_access_path || &apos;/&apos; || l_element_info.attribute_name</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="365" data-linenumber="78">
              <span class="hits">365</span>
              <code class="sql">        l_idx := l_idx + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  constructor function ut_cursor_details(self in out nocopy ut_cursor_details) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="454" data-linenumber="85">
              <span class="hits">454</span>
              <code class="sql">    self.cursor_columns_info := ut_cursor_column_tab();</code></li>

            <li class="covered" data-hits="454" data-linenumber="86">
              <span class="hits">454</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  constructor function ut_cursor_details(</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">    self     in out nocopy ut_cursor_details,</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">    a_cursor_number in number</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">    l_columns_count    pls_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">    l_columns_desc     dbms_sql.desc_tab3;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">    l_is_collection    boolean;</code></li>

            <li class="covered" data-hits="393" data-linenumber="96">
              <span class="hits">393</span>
              <code class="sql">    l_hierarchy_level  integer := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="393" data-linenumber="98">
              <span class="hits">393</span>
              <code class="sql">    self.cursor_columns_info := ut_cursor_column_tab();</code></li>

            <li class="covered" data-hits="393" data-linenumber="99">
              <span class="hits">393</span>
              <code class="sql">    self.is_anydata := 0;</code></li>

            <li class="covered" data-hits="393" data-linenumber="100">
              <span class="hits">393</span>
              <code class="sql">    dbms_sql.describe_columns3(a_cursor_number, l_columns_count, l_columns_desc);</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">    /**</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">    * Due to a bug with object being part of cursor in ANYDATA scenario</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">    * oracle fails to revert number to cursor. We ar using dbms_sql.close cursor to close it</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">    * to avoid leaving open cursors behind.</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">    * a_cursor := dbms_sql.to_refcursor(l_cursor_number);</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">    **/</code></li>

            <li class="covered" data-hits="1238" data-linenumber="108">
              <span class="hits">1238</span>
              <code class="sql">    for pos in 1 .. l_columns_count loop</code></li>

            <li class="covered" data-hits="845" data-linenumber="109">
              <span class="hits">845</span>
              <code class="sql">      l_is_collection := ut_metadata.is_collection( l_columns_desc(pos).col_schema_name, l_columns_desc(pos).col_type_name );</code></li>

            <li class="covered" data-hits="845" data-linenumber="110">
              <span class="hits">845</span>
              <code class="sql">      self.cursor_columns_info.extend;</code></li>

            <li class="covered" data-hits="845" data-linenumber="111">
              <span class="hits">845</span>
              <code class="sql">      self.cursor_columns_info(self.cursor_columns_info.last) :=</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">        ut_cursor_column(</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">          l_columns_desc(pos).col_name,</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">          l_columns_desc(pos).col_schema_name,</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">          l_columns_desc(pos).col_type_name,</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">          l_columns_desc(pos).col_max_len,</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">          null,</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">          l_hierarchy_level,</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">          pos,</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">          ut_compound_data_helper.get_column_type_desc(l_columns_desc(pos).col_type,true),</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">          ut_utils.boolean_to_int(l_is_collection),</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">          null,</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">          l_columns_desc(pos).col_precision,</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">          l_columns_desc(pos).col_scale</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql"></code></li>

            <li class="covered" data-hits="845" data-linenumber="127">
              <span class="hits">845</span>
              <code class="sql">      if l_columns_desc(pos).col_type = dbms_sql.user_defined_type or l_is_collection then</code></li>

            <li class="covered" data-hits="119" data-linenumber="128">
              <span class="hits">119</span>
              <code class="sql">        desc_compound_data(</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">          ut_metadata.get_user_defined_type( l_columns_desc(pos).col_schema_name, l_columns_desc(pos).col_type_name ),</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">          l_columns_desc(pos).col_name,</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">          l_hierarchy_level + 1,</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">          l_columns_desc(pos).col_name</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="393" data-linenumber="136">
              <span class="hits">393</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">  member function contains_collection return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">    l_collection_elements number;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="15" data-linenumber="142">
              <span class="hits">15</span>
              <code class="sql">    select count(1) into l_collection_elements</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">      from table(cursor_columns_info) c</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">     where c.is_collection = 1 and rownum = 1;</code></li>

            <li class="covered" data-hits="15" data-linenumber="145">
              <span class="hits">15</span>
              <code class="sql">    return l_collection_elements &gt; 0;</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">  member function get_missing_join_by_columns( a_expected_columns ut_varchar2_list ) return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">    l_result ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">    --regexp_replace(c.access_path,&apos;^\/?([^\/]+\/){1}&apos;)</code></li>

            <li class="covered" data-hits="162" data-linenumber="152">
              <span class="hits">162</span>
              <code class="sql">    select fl.column_value</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">      bulk collect into l_result</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">      from table(a_expected_columns) fl</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">     where not exists (</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">       select 1 from table(self.cursor_columns_info) c</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">        where regexp_like(c.filter_path,&apos;^/?&apos;||fl.column_value||&apos;($|/.*)&apos; )</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">       )</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">     order by fl.column_value;</code></li>

            <li class="covered" data-hits="162" data-linenumber="160">
              <span class="hits">162</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">  member procedure filter_columns(self in out nocopy ut_cursor_details, a_match_options ut_matcher_options) is</code></li>

            <li class="covered" data-hits="700" data-linenumber="164">
              <span class="hits">700</span>
              <code class="sql">    l_result            ut_cursor_details := self;</code></li>

            <li class="covered" data-hits="700" data-linenumber="165">
              <span class="hits">700</span>
              <code class="sql">    l_column_tab        ut_cursor_column_tab := ut_cursor_column_tab();</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">    l_column            ut_cursor_column;</code></li>

            <li class="covered" data-hits="700" data-linenumber="167">
              <span class="hits">700</span>
              <code class="sql">    c_xpath_extract_reg constant varchar2(50) := &apos;^((/ROW/)|^(//)|^(/\*/))?(.*)&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="700" data-linenumber="169">
              <span class="hits">700</span>
              <code class="sql">    if l_result.cursor_columns_info is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">      --limit columns to those on the include items minus exclude items</code></li>

            <li class="covered" data-hits="700" data-linenumber="172">
              <span class="hits">700</span>
              <code class="sql">      if a_match_options.include.items.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">        -- if include - exclude = 0 then keep all columns</code></li>

            <li class="covered" data-hits="86" data-linenumber="174">
              <span class="hits">86</span>
              <code class="sql">        if a_match_options.include.items != a_match_options.exclude.items then</code></li>

            <li class="covered" data-hits="86" data-linenumber="175">
              <span class="hits">86</span>
              <code class="sql">          with included_columns as (</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">            select regexp_replace( column_value, c_xpath_extract_reg, &apos;\5&apos; ) col_names</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">              from table(a_match_options.include.items)</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">             minus</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">            select regexp_replace( column_value, c_xpath_extract_reg, &apos;\5&apos; ) col_names</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">              from table(a_match_options.exclude.items)</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">          select value(x)</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">                 bulk collect into l_result.cursor_columns_info</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">            from table(self.cursor_columns_info) x</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">           where exists(</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">                   select 1 from included_columns f where regexp_like(x.filter_path,&apos;^/?&apos;||f.col_names||&apos;($|/.*)&apos; )</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">                   )</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">                 or x.hierarchy_level = case when self.is_anydata = 1 then 1 else 0 end ;</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="614" data-linenumber="190">
              <span class="hits">614</span>
              <code class="sql">      elsif a_match_options.exclude.items.count &gt; 0 then</code></li>

            <li class="covered" data-hits="122" data-linenumber="191">
              <span class="hits">122</span>
              <code class="sql">          with excluded_columns as (</code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">            select regexp_replace( column_value, c_xpath_extract_reg, &apos;\5&apos; ) col_names</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">              from table(a_match_options.exclude.items)</code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">          select value(x)</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">                 bulk collect into l_result.cursor_columns_info</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">            from table(self.cursor_columns_info) x</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">           where not exists(</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">             select 1 from excluded_columns f where regexp_like(x.filter_path,&apos;^/?&apos;||f.col_names||&apos;($|/.*)&apos; )</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">           );</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql">      --Rewrite column order after columns been excluded</code></li>

            <li class="covered" data-hits="700" data-linenumber="204">
              <span class="hits">700</span>
              <code class="sql">      for i in (</code></li>

            <li class="covered" data-hits="2599" data-linenumber="205">
              <span class="hits">2599</span>
              <code class="sql">      select parent_name, access_path, display_path, has_nested_col,</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">        transformed_name, hierarchy_level,</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">        rownum as new_position, xml_valid_name,</code></li>

            <li class="never" data-hits="" data-linenumber="208">
            <code class="sql">        column_name, column_type, column_type_name, column_schema,</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">        column_len, column_precision ,column_scale ,is_sql_diffable, is_collection,value(x) col_info</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">      from table(l_result.cursor_columns_info) x</code></li>

            <li class="never" data-hits="" data-linenumber="211">
            <code class="sql">	  order by x.column_position asc</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">	  ) loop</code></li>

            <li class="covered" data-hits="1899" data-linenumber="213">
              <span class="hits">1899</span>
              <code class="sql">        l_column := i.col_info;</code></li>

            <li class="covered" data-hits="1899" data-linenumber="214">
              <span class="hits">1899</span>
              <code class="sql">        l_column.column_position := i.new_position;</code></li>

            <li class="covered" data-hits="1899" data-linenumber="215">
              <span class="hits">1899</span>
              <code class="sql">        l_column_tab.extend;</code></li>

            <li class="covered" data-hits="1899" data-linenumber="216">
              <span class="hits">1899</span>
              <code class="sql">        l_column_tab(l_column_tab.last) := l_column;</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql"></code></li>

            <li class="covered" data-hits="700" data-linenumber="219">
              <span class="hits">700</span>
              <code class="sql">      l_result.cursor_columns_info := l_column_tab;</code></li>

            <li class="covered" data-hits="700" data-linenumber="220">
              <span class="hits">700</span>
              <code class="sql">      self := l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">  member function get_xml_children(a_parent_name varchar2 := null) return xmltype is</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">    l_result xmltype;</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="50" data-linenumber="227">
              <span class="hits">50</span>
              <code class="sql">    select xmlagg(xmlelement(evalname t.column_name,t.column_type_name))</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">           into l_result</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">      from table(self.cursor_columns_info) t</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">     where (a_parent_name is null and parent_name is null and hierarchy_level = 1 and column_name is not null)</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">    having count(*) &gt; 0;</code></li>

            <li class="covered" data-hits="50" data-linenumber="232">
              <span class="hits">50</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">  member function get_root return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">    l_root varchar2(250);</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="200" data-linenumber="238">
              <span class="hits">200</span>
              <code class="sql">    if self.cursor_columns_info.count &gt; 0 then</code></li>

            <li class="covered" data-hits="192" data-linenumber="239">
              <span class="hits">192</span>
              <code class="sql">      select x.access_path into l_root from table(self.cursor_columns_info) x</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">      where x.hierarchy_level = 1;</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="8" data-linenumber="242">
              <span class="hits">8</span>
              <code class="sql">      l_root := null;</code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="200" data-linenumber="244">
              <span class="hits">200</span>
              <code class="sql">    return l_root;</code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">  member procedure strip_root_from_anydata(self in out nocopy ut_cursor_details) is</code></li>

            <li class="covered" data-hits="127" data-linenumber="248">
              <span class="hits">127</span>
              <code class="sql">    l_root varchar2(250) := get_root();</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="127" data-linenumber="250">
              <span class="hits">127</span>
              <code class="sql">    self.is_anydata := 1;</code></li>

            <li class="covered" data-hits="507" data-linenumber="251">
              <span class="hits">507</span>
              <code class="sql">    for i in 1..cursor_columns_info.count loop</code></li>

            <li class="covered" data-hits="380" data-linenumber="252">
              <span class="hits">380</span>
              <code class="sql">      self.cursor_columns_info(i).filter_path := &apos;/&apos;||ut_utils.strip_prefix(self.cursor_columns_info(i).access_path,l_root);</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="B38F290CC040E432C491C85A7794B8F5"><div class="header"> <h3>UT3.UT_DATA_VALUE</h3><h4><span class="green">93.33 %</span> lines covered</h4><div> <b>15</b> relevant lines. <span class="green"><b>14</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="covered" data-hits="428" data-linenumber="18">
              <span class="hits">428</span>
              <code class="sql">  order member function compare(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="428" data-linenumber="20">
              <span class="hits">428</span>
              <code class="sql">    return compare_implementation(a_other);</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  member function is_diffable return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="165" data-linenumber="25">
              <span class="hits">165</span>
              <code class="sql">    return false;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  member function is_empty return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="30">
              <span class="hits">2</span>
              <code class="sql">    raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  member function diff( a_other ut_data_value, a_match_options ut_matcher_options ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="35">
              <code class="sql">    return null;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  member function is_multi_line return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="722" data-linenumber="40">
              <span class="hits">722</span>
              <code class="sql">    return false;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  member function get_object_info return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="746" data-linenumber="45">
              <span class="hits">746</span>
              <code class="sql">    return self.data_type;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  final member function to_string_report(a_add_new_line_for_multi_line boolean := false, a_with_object_info boolean := true) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    l_info   varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="997" data-linenumber="52">
              <span class="hits">997</span>
              <code class="sql">    if a_with_object_info then</code></li>

            <li class="covered" data-hits="825" data-linenumber="53">
              <span class="hits">825</span>
              <code class="sql">      l_info := &apos;(&apos;||get_object_info()||&apos;)&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="997" data-linenumber="55">
              <span class="hits">997</span>
              <code class="sql">    if self.is_multi_line() then</code></li>

            <li class="covered" data-hits="74" data-linenumber="56">
              <span class="hits">74</span>
              <code class="sql">      l_result :=</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">        l_info || chr(10) || ut_utils.indent_lines( rtrim(self.to_string(),chr(10)), a_include_first_line =&gt;true );</code></li>

            <li class="covered" data-hits="74" data-linenumber="58">
              <span class="hits">74</span>
              <code class="sql">      if a_add_new_line_for_multi_line then</code></li>

            <li class="covered" data-hits="62" data-linenumber="59">
              <span class="hits">62</span>
              <code class="sql">        l_result := l_result || chr(10);</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="923" data-linenumber="62">
              <span class="hits">923</span>
              <code class="sql">      l_result := self.to_string() || &apos; &apos; || l_info;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="997" data-linenumber="64">
              <span class="hits">997</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="876A06014293CEA2806330694A18737C"><div class="header"> <h3>UT3.UT_DATA_VALUE_ANYDATA</h3><h4><span class="red">79.59 %</span> lines covered</h4><div> <b>49</b> relevant lines. <span class="green"><b>39</b> lines covered</span> and <span class="red"><b>10</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_anydata as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  overriding member function get_object_info return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="153" data-linenumber="21">
              <span class="hits">153</span>
              <code class="sql">    return self.data_type || case when self.compound_type = &apos;collection&apos; then self.get_elements_count_info() end;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  member function get_extract_path(a_data_value anydata) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">    l_path varchar2(10);</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="127" data-linenumber="27">
              <span class="hits">127</span>
              <code class="sql">    if self.compound_type = &apos;object&apos; then</code></li>

            <li class="covered" data-hits="55" data-linenumber="28">
              <span class="hits">55</span>
              <code class="sql">      l_path := &apos;/*/*&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="144" data-linenumber="30">
              <span class="hits">144</span>
              <code class="sql">     case when ut_metadata.has_collection_members(a_data_value) then</code></li>

            <li class="covered" data-hits="34" data-linenumber="31">
              <span class="hits">34</span>
              <code class="sql">       l_path := &apos;/*/*&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">       else</code></li>

            <li class="covered" data-hits="38" data-linenumber="33">
              <span class="hits">38</span>
              <code class="sql">        l_path := &apos;/*&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">     end case;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="127" data-linenumber="36">
              <span class="hits">127</span>
              <code class="sql">    return l_path;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  member function get_cursor_sql_from_anydata(a_data_value anydata) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">    l_cursor_sql varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="127" data-linenumber="42">
              <span class="hits">127</span>
              <code class="sql">    l_cursor_sql := &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">        declare</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">          l_data &apos;||self.data_type||&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">          l_value anydata := :a_value;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">          l_status integer;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">          l_tmp_refcursor sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">        begin</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">          l_status := l_value.get&apos;||self.compound_type||&apos;(l_data); &apos;||</code></li>

            <li class="covered" data-hits="1" data-linenumber="50">
              <span class="hits">1</span>
              <code class="sql">          case when self.compound_type = &apos;collection&apos; then</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">            q&apos;[ open :l_tmp_refcursor for select value(x) as &quot;]&apos;||</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">            ut_metadata.get_object_name(ut_metadata.get_collection_element(a_data_value))||</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">            q&apos;[&quot; from table(l_data) x;]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">          else</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">            q&apos;[ open :l_tmp_refcursor for select l_data as &quot;]&apos;||ut_metadata.get_object_name(self.data_type)||</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">            q&apos;[&quot; from dual;]&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">          end ||</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">        &apos;end;&apos;;</code></li>

            <li class="covered" data-hits="127" data-linenumber="59">
              <span class="hits">127</span>
              <code class="sql">    return l_cursor_sql;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  member procedure init(self in out nocopy ut_data_value_anydata, a_value anydata) is</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    l_refcursor    sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    cursor_not_open exception;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">    l_cursor_number number;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">    l_anydata_sql varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="68">
              <span class="hits">173</span>
              <code class="sql">    self.data_type  := ut_metadata.get_anydata_typename(a_value);</code></li>

            <li class="covered" data-hits="173" data-linenumber="69">
              <span class="hits">173</span>
              <code class="sql">    self.compound_type := get_instance(a_value);</code></li>

            <li class="covered" data-hits="173" data-linenumber="70">
              <span class="hits">173</span>
              <code class="sql">    self.is_data_null := ut_metadata.is_anytype_null(a_value,self.compound_type);</code></li>

            <li class="covered" data-hits="173" data-linenumber="71">
              <span class="hits">173</span>
              <code class="sql">    self.data_id    := sys_guid();</code></li>

            <li class="covered" data-hits="173" data-linenumber="72">
              <span class="hits">173</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="173" data-linenumber="73">
              <span class="hits">173</span>
              <code class="sql">    self.cursor_details := ut_cursor_details();</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql"></code></li>

            <li class="covered" data-hits="284" data-linenumber="75">
              <span class="hits">284</span>
              <code class="sql">    ut_compound_data_helper.cleanup_diff;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql"></code></li>

            <li class="covered" data-hits="173" data-linenumber="77">
              <span class="hits">173</span>
              <code class="sql">    if not self.is_null() then</code></li>

            <li class="covered" data-hits="127" data-linenumber="78">
              <span class="hits">127</span>
              <code class="sql">      self.extract_path := get_extract_path(a_value);</code></li>

            <li class="covered" data-hits="127" data-linenumber="79">
              <span class="hits">127</span>
              <code class="sql">      l_anydata_sql := get_cursor_sql_from_anydata(a_value);</code></li>

            <li class="covered" data-hits="127" data-linenumber="80">
              <span class="hits">127</span>
              <code class="sql">      execute immediate l_anydata_sql using in a_value, in out l_refcursor;</code></li>

            <li class="covered" data-hits="127" data-linenumber="81">
              <span class="hits">127</span>
              <code class="sql">      if l_refcursor%isopen then</code></li>

            <li class="covered" data-hits="127" data-linenumber="82">
              <span class="hits">127</span>
              <code class="sql">        self.extract_cursor(l_refcursor);</code></li>

            <li class="covered" data-hits="127" data-linenumber="83">
              <span class="hits">127</span>
              <code class="sql">        l_cursor_number  := dbms_sql.to_cursor_number(l_refcursor);</code></li>

            <li class="covered" data-hits="127" data-linenumber="84">
              <span class="hits">127</span>
              <code class="sql">        self.cursor_details  := ut_cursor_details(l_cursor_number);</code></li>

            <li class="covered" data-hits="127" data-linenumber="85">
              <span class="hits">127</span>
              <code class="sql">        self.cursor_details.strip_root_from_anydata;</code></li>

            <li class="covered" data-hits="127" data-linenumber="86">
              <span class="hits">127</span>
              <code class="sql">        dbms_sql.close_cursor(l_cursor_number);</code></li>

            <li class="missed" data-hits="0" data-linenumber="87">
              <code class="sql">      elsif not l_refcursor%isopen then</code></li>

            <li class="missed" data-hits="0" data-linenumber="88">
              <code class="sql">        raise cursor_not_open;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  exception</code></li>

            <li class="missed" data-hits="0" data-linenumber="92">
              <code class="sql">    when cursor_not_open then</code></li>

            <li class="missed" data-hits="0" data-linenumber="93">
              <code class="sql">        raise_application_error(-20155, &apos;Cursor is not open&apos;);</code></li>

            <li class="missed" data-hits="0" data-linenumber="94">
              <code class="sql">    when others then</code></li>

            <li class="missed" data-hits="0" data-linenumber="95">
              <code class="sql">      if l_refcursor%isopen then</code></li>

            <li class="missed" data-hits="0" data-linenumber="96">
              <code class="sql">        close l_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">      end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="98">
              <code class="sql">      raise;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  member function get_instance(a_data_value anydata) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">    l_result    varchar2(30);</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="104">
              <span class="hits">173</span>
              <code class="sql">    l_result := ut_metadata.get_anydata_compound_type(a_data_value);</code></li>

            <li class="covered" data-hits="173" data-linenumber="105">
              <span class="hits">173</span>
              <code class="sql">    if l_result not in (&apos;object&apos;,&apos;collection&apos;) then</code></li>

            <li class="missed" data-hits="0" data-linenumber="106">
              <code class="sql">      raise_application_error(-20000, &apos;Data type &apos;||a_data_value.gettypename||&apos; in ANYDATA is not supported by utPLSQL&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="173" data-linenumber="108">
              <span class="hits">173</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">  constructor function ut_data_value_anydata(self in out nocopy ut_data_value_anydata, a_value anydata) return self as result</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">  is</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="114">
              <span class="hits">173</span>
              <code class="sql">    init(a_value);</code></li>

            <li class="covered" data-hits="173" data-linenumber="115">
              <span class="hits">173</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">  overriding member function compare_implementation(</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">    a_other             ut_data_value,</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">    a_match_options     ut_matcher_options,</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">    a_inclusion_compare boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">    a_is_negated        boolean := false</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">  ) return integer is</code></li>

            <li class="covered" data-hits="57" data-linenumber="124">
              <span class="hits">57</span>
              <code class="sql">    l_result            integer := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="57" data-linenumber="126">
              <span class="hits">57</span>
              <code class="sql">    if not a_other is of (ut_data_value_anydata) then</code></li>

            <li class="missed" data-hits="0" data-linenumber="127">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="57" data-linenumber="129">
              <span class="hits">57</span>
              <code class="sql">    l_result := l_result + (self as ut_data_value_refcursor).compare_implementation(a_other,a_match_options,a_inclusion_compare,a_is_negated);</code></li>

            <li class="covered" data-hits="57" data-linenumber="130">
              <span class="hits">57</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">  overriding member function is_empty return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="135">
              <span class="hits">10</span>
              <code class="sql">    if self.compound_type = &apos;collection&apos; then</code></li>

            <li class="covered" data-hits="6" data-linenumber="136">
              <span class="hits">6</span>
              <code class="sql">      return self.elements_count = 0;</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="4" data-linenumber="138">
              <span class="hits">4</span>
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="C2C5580188AAA0AC66BB9E307509C02B"><div class="header"> <h3>UT3.UT_DATA_VALUE_BLOB</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>15</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_blob as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_blob(self in out nocopy ut_data_value_blob, a_value blob) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="38" data-linenumber="21">
              <span class="hits">38</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="38" data-linenumber="22">
              <span class="hits">38</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="38" data-linenumber="23">
              <span class="hits">38</span>
              <code class="sql">    self.data_type := &apos;blob&apos;;</code></li>

            <li class="covered" data-hits="38" data-linenumber="24">
              <span class="hits">38</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="58" data-linenumber="29">
              <span class="hits">58</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function is_empty return boolean is</code></li>

            <li class="covered" data-hits="4" data-linenumber="33">
              <span class="hits">4</span>
              <code class="sql">    l_result boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="35">
              <span class="hits">4</span>
              <code class="sql">    if self.data_value is not null and dbms_lob.compare( self.data_value, empty_blob()) = 0 then</code></li>

            <li class="covered" data-hits="2" data-linenumber="36">
              <span class="hits">2</span>
              <code class="sql">      l_result := true;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="4" data-linenumber="38">
              <span class="hits">4</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="35" data-linenumber="43">
              <span class="hits">35</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    l_other  ut_data_value_blob;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="50">
              <span class="hits">8</span>
              <code class="sql">    if a_other is of (ut_data_value_blob) then</code></li>

            <li class="covered" data-hits="8" data-linenumber="51">
              <span class="hits">8</span>
              <code class="sql">      l_other := treat(a_other as ut_data_value_blob);</code></li>

            <li class="covered" data-hits="8" data-linenumber="52">
              <span class="hits">8</span>
              <code class="sql">      l_result := dbms_lob.compare( self.data_value, l_other.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="8" data-linenumber="54">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  overriding member function is_multi_line return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="59">
              <span class="hits">29</span>
              <code class="sql">    return not self.is_null() and dbms_lob.getlength(self.data_value) &gt; 100;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="6A497ED50C7F407C1305BF7C33994DB5"><div class="header"> <h3>UT3.UT_DATA_VALUE_BOOLEAN</h3><h4><span class="green">93.75 %</span> lines covered</h4><div> <b>16</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_boolean as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_boolean(self in out nocopy ut_data_value_boolean, a_value boolean) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="42" data-linenumber="21">
              <span class="hits">42</span>
              <code class="sql">    self.data_value := ut_utils.boolean_to_int(a_value);</code></li>

            <li class="covered" data-hits="42" data-linenumber="22">
              <span class="hits">42</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="42" data-linenumber="23">
              <span class="hits">42</span>
              <code class="sql">    self.data_type := &apos;boolean&apos;;</code></li>

            <li class="covered" data-hits="42" data-linenumber="24">
              <span class="hits">42</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="28" data-linenumber="29">
              <span class="hits">28</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="36" data-linenumber="34">
              <span class="hits">36</span>
              <code class="sql">    return ut_utils.to_string(ut_utils.int_to_boolean(self.data_value));</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_other  ut_data_value_boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="41">
              <span class="hits">9</span>
              <code class="sql">    if a_other is of (ut_data_value_boolean) then</code></li>

            <li class="covered" data-hits="9" data-linenumber="42">
              <span class="hits">9</span>
              <code class="sql">      l_other := treat(a_other as ut_data_value_boolean);</code></li>

            <li class="covered" data-hits="9" data-linenumber="43">
              <span class="hits">9</span>
              <code class="sql">      if self.data_value = l_other.data_value then</code></li>

            <li class="covered" data-hits="1" data-linenumber="44">
              <span class="hits">1</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="covered" data-hits="8" data-linenumber="45">
              <span class="hits">8</span>
              <code class="sql">      elsif self.data_value &gt; l_other.data_value then</code></li>

            <li class="covered" data-hits="1" data-linenumber="46">
              <span class="hits">1</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="covered" data-hits="7" data-linenumber="47">
              <span class="hits">7</span>
              <code class="sql">      elsif self.data_value &lt; l_other.data_value then</code></li>

            <li class="covered" data-hits="1" data-linenumber="48">
              <span class="hits">1</span>
              <code class="sql">        l_result := -1;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="9" data-linenumber="53">
              <span class="hits">9</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="DBBFD203D280EBA3FA23DF12842FBF06"><div class="header"> <h3>UT3.UT_DATA_VALUE_CLOB</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>15</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_clob as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_clob(self in out nocopy ut_data_value_clob, a_value clob) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="63" data-linenumber="21">
              <span class="hits">63</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="63" data-linenumber="22">
              <span class="hits">63</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="63" data-linenumber="23">
              <span class="hits">63</span>
              <code class="sql">    self.data_type := &apos;clob&apos;;</code></li>

            <li class="covered" data-hits="63" data-linenumber="24">
              <span class="hits">63</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="74" data-linenumber="29">
              <span class="hits">74</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function is_empty return boolean is</code></li>

            <li class="covered" data-hits="4" data-linenumber="33">
              <span class="hits">4</span>
              <code class="sql">    l_result boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="35">
              <span class="hits">4</span>
              <code class="sql">    if self.data_value is not null and dbms_lob.compare( self.data_value, empty_clob()) = 0 then</code></li>

            <li class="covered" data-hits="2" data-linenumber="36">
              <span class="hits">2</span>
              <code class="sql">      l_result := true;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="4" data-linenumber="38">
              <span class="hits">4</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="51" data-linenumber="43">
              <span class="hits">51</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    l_other  ut_data_value_clob;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="50">
              <span class="hits">8</span>
              <code class="sql">    if a_other is of (ut_data_value_clob) then</code></li>

            <li class="covered" data-hits="8" data-linenumber="51">
              <span class="hits">8</span>
              <code class="sql">      l_other := treat(a_other as ut_data_value_clob);</code></li>

            <li class="covered" data-hits="8" data-linenumber="52">
              <span class="hits">8</span>
              <code class="sql">      l_result := dbms_lob.compare( self.data_value, l_other.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="8" data-linenumber="54">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  overriding member function is_multi_line return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="45" data-linenumber="59">
              <span class="hits">45</span>
              <code class="sql">    return not self.is_null() and (dbms_lob.getlength(self.data_value) &gt; 100 or dbms_lob.instr(self.data_value,chr(10)) &gt; 0);</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="C0BED259EF5883472A82FF55E29E3827"><div class="header"> <h3>UT3.UT_DATA_VALUE_DATE</h3><h4><span class="green">93.75 %</span> lines covered</h4><div> <b>16</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_date as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_date(self in out nocopy ut_data_value_date, a_value date) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="86" data-linenumber="21">
              <span class="hits">86</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="86" data-linenumber="22">
              <span class="hits">86</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="86" data-linenumber="23">
              <span class="hits">86</span>
              <code class="sql">    self.data_type := &apos;date&apos;;</code></li>

            <li class="covered" data-hits="86" data-linenumber="24">
              <span class="hits">86</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="26" data-linenumber="29">
              <span class="hits">26</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="80" data-linenumber="34">
              <span class="hits">80</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_other  ut_data_value_date;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="40" data-linenumber="41">
              <span class="hits">40</span>
              <code class="sql">    if a_other is of (ut_data_value_date) then</code></li>

            <li class="covered" data-hits="40" data-linenumber="42">
              <span class="hits">40</span>
              <code class="sql">      l_other  := treat(a_other as ut_data_value_date);</code></li>

            <li class="covered" data-hits="40" data-linenumber="43">
              <span class="hits">40</span>
              <code class="sql">      if self.data_value = l_other.data_value then</code></li>

            <li class="covered" data-hits="5" data-linenumber="44">
              <span class="hits">5</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="covered" data-hits="35" data-linenumber="45">
              <span class="hits">35</span>
              <code class="sql">      elsif self.data_value &gt; l_other.data_value then</code></li>

            <li class="covered" data-hits="15" data-linenumber="46">
              <span class="hits">15</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="covered" data-hits="20" data-linenumber="47">
              <span class="hits">20</span>
              <code class="sql">      elsif self.data_value &lt; l_other.data_value then</code></li>

            <li class="covered" data-hits="8" data-linenumber="48">
              <span class="hits">8</span>
              <code class="sql">        l_result := -1;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="40" data-linenumber="53">
              <span class="hits">40</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="F90F6ACF48769359D99C87400BFCA8DB"><div class="header"> <h3>UT3.UT_DATA_VALUE_DSINTERVAL</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>15</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_dsinterval as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_dsinterval(self in out nocopy ut_data_value_dsinterval, a_value dsinterval_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="76" data-linenumber="21">
              <span class="hits">76</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="76" data-linenumber="22">
              <span class="hits">76</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="76" data-linenumber="23">
              <span class="hits">76</span>
              <code class="sql">    self.data_type := &apos;interval day to second&apos;;</code></li>

            <li class="covered" data-hits="76" data-linenumber="24">
              <span class="hits">76</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="20" data-linenumber="29">
              <span class="hits">20</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="72" data-linenumber="34">
              <span class="hits">72</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_other  ut_data_value_dsinterval;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="40" data-linenumber="41">
              <span class="hits">40</span>
              <code class="sql">    if a_other is of (ut_data_value_dsinterval) then</code></li>

            <li class="covered" data-hits="40" data-linenumber="42">
              <span class="hits">40</span>
              <code class="sql">      l_other := treat(a_other as ut_data_value_dsinterval);</code></li>

            <li class="covered" data-hits="40" data-linenumber="43">
              <span class="hits">40</span>
              <code class="sql">      if self.data_value = l_other.data_value then</code></li>

            <li class="covered" data-hits="5" data-linenumber="44">
              <span class="hits">5</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="covered" data-hits="35" data-linenumber="45">
              <span class="hits">35</span>
              <code class="sql">      elsif self.data_value &gt; l_other.data_value then</code></li>

            <li class="covered" data-hits="16" data-linenumber="46">
              <span class="hits">16</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="covered" data-hits="19" data-linenumber="47">
              <span class="hits">19</span>
              <code class="sql">      elsif self.data_value &lt; l_other.data_value then</code></li>

            <li class="covered" data-hits="7" data-linenumber="48">
              <span class="hits">7</span>
              <code class="sql">        l_result := -1;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="40" data-linenumber="51">
              <span class="hits">40</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="6CA0A862582D23A47904D497571AC704"><div class="header"> <h3>UT3.UT_DATA_VALUE_JSON</h3><h4><span class="green">98.39 %</span> lines covered</h4><div> <b>62</b> relevant lines. <span class="green"><b>61</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_json as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init (self in out nocopy ut_data_value_json, a_value json_element_t) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="33" data-linenumber="21">
              <span class="hits">33</span>
              <code class="sql">    self.is_data_null   := case when a_value is null then 1 else 0 end;</code></li>

            <li class="covered" data-hits="33" data-linenumber="22">
              <span class="hits">33</span>
              <code class="sql">    self.data_value     := case when a_value is null then null else a_value.to_clob end;</code></li>

            <li class="covered" data-hits="33" data-linenumber="23">
              <span class="hits">33</span>
              <code class="sql">    self.self_type      := $$plsql_unit;</code></li>

            <li class="covered" data-hits="33" data-linenumber="24">
              <span class="hits">33</span>
              <code class="sql">    self.data_type      := &apos;json&apos;;</code></li>

            <li class="covered" data-hits="33" data-linenumber="25">
              <span class="hits">33</span>
              <code class="sql">    self.json_tree      := ut_json_tree_details(a_value);</code></li>

            <li class="covered" data-hits="33" data-linenumber="26">
              <span class="hits">33</span>
              <code class="sql">    self.data_id        := sys_guid();</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  constructor function ut_data_value_json(self in out nocopy ut_data_value_json, a_value json_element_t) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="33" data-linenumber="31">
              <span class="hits">33</span>
              <code class="sql">    init(a_value);</code></li>

            <li class="covered" data-hits="33" data-linenumber="32">
              <span class="hits">33</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="38" data-linenumber="37">
              <span class="hits">38</span>
              <code class="sql">    return (ut_utils.int_to_boolean(self.is_data_null));</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  overriding member function is_empty return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="42">
              <span class="hits">4</span>
              <code class="sql">    return self.data_value = &apos;{}&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="47">
              <span class="hits">8</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  overriding member function diff( a_other ut_data_value, a_match_options ut_matcher_options ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">    l_result            clob;</code></li>

            <li class="covered" data-hits="10" data-linenumber="52">
              <span class="hits">10</span>
              <code class="sql">    l_results           ut_utils.t_clob_tab := ut_utils.t_clob_tab();</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">    l_result_string     varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    l_other             ut_data_value_json;</code></li>

            <li class="covered" data-hits="10" data-linenumber="55">
              <span class="hits">10</span>
              <code class="sql">    l_self              ut_data_value_json := self;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    l_diff_id           ut_utils.t_hash;</code></li>

            <li class="covered" data-hits="10" data-linenumber="57">
              <span class="hits">10</span>
              <code class="sql">    c_max_rows          integer := ut_utils.gc_diff_max_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">    l_diffs             ut_compound_data_helper.tt_json_diff_tab;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">    l_message           varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">    function get_diff_by_type(a_diff_id raw) return clob is</code></li>

            <li class="covered" data-hits="10" data-linenumber="62">
              <span class="hits">10</span>
              <code class="sql">      l_diff_summary  ut_compound_data_helper.tt_json_diff_type_tab := ut_compound_data_helper.get_json_diffs_type(a_diff_id);</code></li>

            <li class="covered" data-hits="10" data-linenumber="63">
              <span class="hits">10</span>
              <code class="sql">      l_message_list  ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="16" data-linenumber="65">
              <span class="hits">16</span>
              <code class="sql">      for i in 1..l_diff_summary.count loop</code></li>

            <li class="covered" data-hits="6" data-linenumber="66">
              <span class="hits">6</span>
              <code class="sql">        l_message_list.extend;</code></li>

            <li class="covered" data-hits="6" data-linenumber="67">
              <span class="hits">6</span>
              <code class="sql">        l_message_list(l_message_list.last) := l_diff_summary(i).no_of_occurence||&apos; &apos;||l_diff_summary(i).difference_type;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="10" data-linenumber="69">
              <span class="hits">10</span>
              <code class="sql">      return ut_utils.table_to_clob(l_message_list,&apos;, &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    function get_json_diff_text (a_json_diff ut_compound_data_helper.t_json_diff_rec) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="41" data-linenumber="74">
              <span class="hits">41</span>
              <code class="sql">      return</code></li>

            <li class="covered" data-hits="1" data-linenumber="75">
              <span class="hits">1</span>
              <code class="sql">        case</code></li>

            <li class="covered" data-hits="1" data-linenumber="76">
              <span class="hits">1</span>
              <code class="sql">          when a_json_diff.difference_type = ut_compound_data_helper.gc_json_missing</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">            then</code></li>

            <li class="covered" data-hits="1" data-linenumber="78">
              <span class="hits">1</span>
              <code class="sql">              case</code></li>

            <li class="covered" data-hits="1" data-linenumber="79">
              <span class="hits">1</span>
              <code class="sql">                when a_json_diff.act_element_name is not null then q&apos;[  Missing property: ]&apos;||a_json_diff.act_element_name</code></li>

            <li class="covered" data-hits="1" data-linenumber="80">
              <span class="hits">1</span>
              <code class="sql">                when a_json_diff.exp_element_name is not null then q&apos;[  Extra   property: ]&apos;||a_json_diff.exp_element_name</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">              end || &apos; on path: &apos;||nvl(a_json_diff.act_parent_path,a_json_diff.exp_parent_path)</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">          else</code></li>

            <li class="covered" data-hits="1" data-linenumber="83">
              <span class="hits">1</span>
              <code class="sql">            case</code></li>

            <li class="covered" data-hits="1" data-linenumber="84">
              <span class="hits">1</span>
              <code class="sql">              when a_json_diff.difference_type = ut_compound_data_helper.gc_json_type</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">                then q&apos;[  Actual  type: &apos;]&apos;||a_json_diff.act_json_type||q&apos;[&apos; was expected to be: &apos;]&apos;||a_json_diff.exp_json_type||q&apos;[&apos;]&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="86">
              <span class="hits">1</span>
              <code class="sql">              when a_json_diff.difference_type = ut_compound_data_helper.gc_json_notequal</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">                then q&apos;[  Actual value: ]&apos;||a_json_diff.act_element_value||q&apos;[ was expected to be: ]&apos;||a_json_diff.exp_element_value</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">            end || &apos; on path: &apos;||nvl(a_json_diff.act_access_path,a_json_diff.exp_access_path)</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">        end;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="93">
              <span class="hits">10</span>
              <code class="sql">    if not a_other is of (ut_data_value_json) then</code></li>

            <li class="missed" data-hits="0" data-linenumber="94">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="10" data-linenumber="96">
              <span class="hits">10</span>
              <code class="sql">    dbms_lob.createtemporary(l_result, true);</code></li>

            <li class="covered" data-hits="10" data-linenumber="97">
              <span class="hits">10</span>
              <code class="sql">    l_other := treat(a_other as ut_data_value_json);</code></li>

            <li class="covered" data-hits="10" data-linenumber="98">
              <span class="hits">10</span>
              <code class="sql">    l_diff_id  := ut_utils.get_hash(self.data_id||l_other.data_id);</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="100">
              <span class="hits">10</span>
              <code class="sql">    if not l_self.is_null and not l_other.is_null then</code></li>

            <li class="covered" data-hits="10" data-linenumber="101">
              <span class="hits">10</span>
              <code class="sql">      l_diffs := ut_compound_data_helper.get_json_diffs_tmp(l_diff_id);</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="103">
              <span class="hits">10</span>
              <code class="sql">      l_message := &apos; &apos;||l_diffs.count|| &apos; differences found&apos; ||</code></li>

            <li class="covered" data-hits="1" data-linenumber="104">
              <span class="hits">1</span>
              <code class="sql">        case when l_diffs.count &gt; c_max_rows then &apos;, showing first &apos;|| c_max_rows else null end||chr(10);</code></li>

            <li class="covered" data-hits="10" data-linenumber="105">
              <span class="hits">10</span>
              <code class="sql">      ut_utils.append_to_clob( l_result, l_message );</code></li>

            <li class="covered" data-hits="10" data-linenumber="106">
              <span class="hits">10</span>
              <code class="sql">      l_message := get_diff_by_type(l_diff_id)||chr(10);</code></li>

            <li class="covered" data-hits="10" data-linenumber="107">
              <span class="hits">10</span>
              <code class="sql">      ut_utils.append_to_clob( l_result, l_message );</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql"></code></li>

            <li class="covered" data-hits="51" data-linenumber="109">
              <span class="hits">51</span>
              <code class="sql">      for i in 1 .. least( c_max_rows, l_diffs.count ) loop</code></li>

            <li class="covered" data-hits="41" data-linenumber="110">
              <span class="hits">41</span>
              <code class="sql">         l_results.extend;</code></li>

            <li class="covered" data-hits="41" data-linenumber="111">
              <span class="hits">41</span>
              <code class="sql">         l_results(l_results.last) := get_json_diff_text(l_diffs(i));</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="10" data-linenumber="113">
              <span class="hits">10</span>
              <code class="sql">      ut_utils.append_to_clob(l_result, l_results);</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="117">
              <span class="hits">10</span>
              <code class="sql">    if l_result != empty_clob() then</code></li>

            <li class="covered" data-hits="10" data-linenumber="118">
              <span class="hits">10</span>
              <code class="sql">      l_result_string := chr(10) || &apos;Diff:&apos; || ut_utils.to_string(l_result,null);</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="10" data-linenumber="120">
              <span class="hits">10</span>
              <code class="sql">    dbms_lob.freetemporary(l_result);</code></li>

            <li class="covered" data-hits="10" data-linenumber="121">
              <span class="hits">10</span>
              <code class="sql">    return l_result_string;</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="covered" data-hits="10" data-linenumber="125">
              <span class="hits">10</span>
              <code class="sql">    l_self ut_data_value_json := self;</code></li>

            <li class="covered" data-hits="10" data-linenumber="126">
              <span class="hits">10</span>
              <code class="sql">    l_other ut_data_value := a_other;</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="128">
              <span class="hits">10</span>
              <code class="sql">    return l_self.compare_implementation( l_other, null );</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">  member function compare_implementation(a_other in ut_data_value,a_match_options ut_matcher_options) return</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">    integer is</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">    l_result    integer;</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">    l_other     ut_data_value_json;</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">    l_diff_id   ut_utils.t_hash;</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="137">
              <span class="hits">10</span>
              <code class="sql">   if a_other is of (ut_data_value_json) then</code></li>

            <li class="covered" data-hits="10" data-linenumber="138">
              <span class="hits">10</span>
              <code class="sql">      l_other   := treat(a_other as ut_data_value_json);</code></li>

            <li class="covered" data-hits="10" data-linenumber="139">
              <span class="hits">10</span>
              <code class="sql">      l_diff_id := ut_utils.get_hash(self.data_id||l_other.data_id);</code></li>

            <li class="covered" data-hits="10" data-linenumber="140">
              <span class="hits">10</span>
              <code class="sql">      l_result :=</code></li>

            <li class="covered" data-hits="1" data-linenumber="141">
              <span class="hits">1</span>
              <code class="sql">        case</code></li>

            <li class="covered" data-hits="1" data-linenumber="142">
              <span class="hits">1</span>
              <code class="sql">          when ut_compound_data_helper.insert_json_diffs(</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">            l_diff_id, self.json_tree.json_tree_info, l_other.json_tree.json_tree_info</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">          ) &gt; 0 then 1</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">          else 0</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">        end;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="10" data-linenumber="148">
              <span class="hits">10</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  member function get_elements_count return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="153">
              <span class="hits">10</span>
              <code class="sql">    return json_element_t.parse(self.data_value).get_size;</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">  member function get_json_count_info return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="158">
              <span class="hits">5</span>
              <code class="sql">    return self.data_type||&apos; [ count = &apos;||self.get_elements_count||&apos; ]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">  overriding member function get_object_info return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="28" data-linenumber="163">
              <span class="hits">28</span>
              <code class="sql">    return self.data_type;</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="269340825062FCCDC553F509DECC85D8"><div class="header"> <h3>UT3.UT_DATA_VALUE_NUMBER</h3><h4><span class="green">93.75 %</span> lines covered</h4><div> <b>16</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_number as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_number(self in out nocopy ut_data_value_number, a_value number) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="237" data-linenumber="21">
              <span class="hits">237</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="237" data-linenumber="22">
              <span class="hits">237</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="237" data-linenumber="23">
              <span class="hits">237</span>
              <code class="sql">    self.data_type := &apos;number&apos;;</code></li>

            <li class="covered" data-hits="237" data-linenumber="24">
              <span class="hits">237</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="60" data-linenumber="29">
              <span class="hits">60</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="215" data-linenumber="34">
              <span class="hits">215</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_other  ut_data_value_number;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="104" data-linenumber="41">
              <span class="hits">104</span>
              <code class="sql">    if a_other is of (ut_data_value_number) then</code></li>

            <li class="covered" data-hits="104" data-linenumber="42">
              <span class="hits">104</span>
              <code class="sql">      l_other  := treat(a_other as ut_data_value_number);</code></li>

            <li class="covered" data-hits="104" data-linenumber="43">
              <span class="hits">104</span>
              <code class="sql">      if self.data_value = l_other.data_value then</code></li>

            <li class="covered" data-hits="54" data-linenumber="44">
              <span class="hits">54</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="covered" data-hits="50" data-linenumber="45">
              <span class="hits">50</span>
              <code class="sql">      elsif self.data_value &gt; l_other.data_value then</code></li>

            <li class="covered" data-hits="29" data-linenumber="46">
              <span class="hits">29</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="covered" data-hits="21" data-linenumber="47">
              <span class="hits">21</span>
              <code class="sql">      elsif self.data_value &lt; l_other.data_value then</code></li>

            <li class="covered" data-hits="9" data-linenumber="48">
              <span class="hits">9</span>
              <code class="sql">        l_result := -1;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="104" data-linenumber="53">
              <span class="hits">104</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="BAA934B98DF580829E481BFC4639358F"><div class="header"> <h3>UT3.UT_DATA_VALUE_REFCURSOR</h3><h4><span class="green">93.57 %</span> lines covered</h4><div> <b>171</b> relevant lines. <span class="green"><b>160</b> lines covered</span> and <span class="red"><b>11</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_refcursor as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_refcursor(self in out nocopy ut_data_value_refcursor, a_value sys_refcursor)</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="281" data-linenumber="22">
              <span class="hits">281</span>
              <code class="sql">    init(a_value);</code></li>

            <li class="covered" data-hits="276" data-linenumber="23">
              <span class="hits">276</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  member procedure extract_cursor(self in out nocopy ut_data_value_refcursor, a_value sys_refcursor)</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  is</code></li>

            <li class="covered" data-hits="397" data-linenumber="28">
              <span class="hits">397</span>
              <code class="sql">    c_bulk_rows  constant integer := 10000;</code></li>

            <li class="covered" data-hits="397" data-linenumber="29">
              <span class="hits">397</span>
              <code class="sql">    l_cursor     sys_refcursor := a_value;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    l_ctx        number;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">    l_xml        xmltype;</code></li>

            <li class="covered" data-hits="397" data-linenumber="32">
              <span class="hits">397</span>
              <code class="sql">    l_ut_owner   varchar2(250) := ut_utils.ut_owner;</code></li>

            <li class="covered" data-hits="397" data-linenumber="33">
              <span class="hits">397</span>
              <code class="sql">    l_set_id     integer := 0;</code></li>

            <li class="covered" data-hits="397" data-linenumber="34">
              <span class="hits">397</span>
              <code class="sql">    l_elements_count number := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    -- We use DBMS_XMLGEN in order to:</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    -- 1) be able to process data in bulks (set of rows)</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    -- 2) be able to influence the ROWSET/ROW tags</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    -- 3) be able to influence the way NULL values are handled (empty TAG)</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">    -- 4) be able to influence the way TIMESTAMP is formatted.</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">    -- Due to Oracle feature/bug, it is not possible to change the DATE formatting of cursor data</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    -- AFTER the cursor was opened.</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">    -- The only solution for this is to change NLS settings before opening the cursor.</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    --</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    -- This would work fine if we could use DBMS_XMLGEN.restartQuery.</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    --  The restartQuery fails however if PLSQL variables of TIMESTAMP/INTERVAL or CLOB/BLOB are used.</code></li>

            <li class="covered" data-hits="621" data-linenumber="47">
              <span class="hits">621</span>
              <code class="sql">    ut_expectation_processor.set_xml_nls_params();</code></li>

            <li class="covered" data-hits="397" data-linenumber="48">
              <span class="hits">397</span>
              <code class="sql">    l_ctx := dbms_xmlgen.newContext(l_cursor);</code></li>

            <li class="covered" data-hits="397" data-linenumber="49">
              <span class="hits">397</span>
              <code class="sql">    dbms_xmlgen.setNullHandling(l_ctx, dbms_xmlgen.empty_tag);</code></li>

            <li class="covered" data-hits="397" data-linenumber="50">
              <span class="hits">397</span>
              <code class="sql">    dbms_xmlgen.setMaxRows(l_ctx, c_bulk_rows);</code></li>

            <li class="covered" data-hits="760" data-linenumber="51">
              <span class="hits">760</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="760" data-linenumber="52">
              <span class="hits">760</span>
              <code class="sql">      l_xml := dbms_xmlgen.getxmltype(l_ctx);</code></li>

            <li class="covered" data-hits="756" data-linenumber="53">
              <span class="hits">756</span>
              <code class="sql">      exit when dbms_xmlgen.getNumRowsProcessed(l_ctx) = 0;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      --Bug in oracle 12.2+ where XML binary storage trimming insignificant whitespaces.</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">      $if dbms_db_version.version = 12 and dbms_db_version.release &gt;= 2 or dbms_db_version.version &gt; 12 $then</code></li>

            <li class="covered" data-hits="363" data-linenumber="56">
              <span class="hits">363</span>
              <code class="sql">        l_xml := xmltype( replace(l_xml.getClobVal(),&apos;&lt;ROWSET&apos;,&apos;&lt;ROWSET xml:space=&apos;&apos;preserve&apos;&apos;&apos;));</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">      $else</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">        null;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">      $end</code></li>

            <li class="covered" data-hits="363" data-linenumber="60">
              <span class="hits">363</span>
              <code class="sql">      l_elements_count := l_elements_count + dbms_xmlgen.getNumRowsProcessed(l_ctx);</code></li>

            <li class="covered" data-hits="363" data-linenumber="61">
              <span class="hits">363</span>
              <code class="sql">      ut_compound_data_helper.save_cursor_data_for_diff( self.data_id, l_set_id, l_xml );</code></li>

            <li class="covered" data-hits="363" data-linenumber="62">
              <span class="hits">363</span>
              <code class="sql">      l_set_id := l_set_id + c_bulk_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="covered" data-hits="393" data-linenumber="65">
              <span class="hits">393</span>
              <code class="sql">    ut_expectation_processor.reset_nls_params();</code></li>

            <li class="covered" data-hits="393" data-linenumber="66">
              <span class="hits">393</span>
              <code class="sql">    dbms_xmlgen.closeContext(l_ctx);</code></li>

            <li class="covered" data-hits="393" data-linenumber="67">
              <span class="hits">393</span>
              <code class="sql">    self.elements_count := l_elements_count;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  exception</code></li>

            <li class="covered" data-hits="8" data-linenumber="69">
              <span class="hits">8</span>
              <code class="sql">    when others then</code></li>

            <li class="covered" data-hits="4" data-linenumber="70">
              <span class="hits">4</span>
              <code class="sql">      ut_expectation_processor.reset_nls_params();</code></li>

            <li class="covered" data-hits="4" data-linenumber="71">
              <span class="hits">4</span>
              <code class="sql">      dbms_xmlgen.closeContext(l_ctx);</code></li>

            <li class="covered" data-hits="4" data-linenumber="72">
              <span class="hits">4</span>
              <code class="sql">      raise;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  member procedure init(self in out nocopy ut_data_value_refcursor, a_value sys_refcursor) is</code></li>

            <li class="covered" data-hits="281" data-linenumber="76">
              <span class="hits">281</span>
              <code class="sql">    l_cursor        sys_refcursor := a_value;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">    cursor_not_open exception;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">    l_cursor_number number;</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="281" data-linenumber="80">
              <span class="hits">281</span>
              <code class="sql">    self.is_data_null := ut_utils.boolean_to_int(l_cursor is null);</code></li>

            <li class="covered" data-hits="281" data-linenumber="81">
              <span class="hits">281</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="281" data-linenumber="82">
              <span class="hits">281</span>
              <code class="sql">    self.data_id   := sys_guid();</code></li>

            <li class="covered" data-hits="281" data-linenumber="83">
              <span class="hits">281</span>
              <code class="sql">    self.data_type := &apos;refcursor&apos;;</code></li>

            <li class="covered" data-hits="281" data-linenumber="84">
              <span class="hits">281</span>
              <code class="sql">    self.compound_type := &apos;refcursor&apos;;</code></li>

            <li class="covered" data-hits="281" data-linenumber="85">
              <span class="hits">281</span>
              <code class="sql">    self.extract_path := &apos;/*&apos;;</code></li>

            <li class="covered" data-hits="434" data-linenumber="86">
              <span class="hits">434</span>
              <code class="sql">    ut_compound_data_helper.cleanup_diff;</code></li>

            <li class="covered" data-hits="281" data-linenumber="87">
              <span class="hits">281</span>
              <code class="sql">    self.cursor_details := ut_cursor_details();</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql"></code></li>

            <li class="covered" data-hits="281" data-linenumber="89">
              <span class="hits">281</span>
              <code class="sql">    if l_cursor is not null then</code></li>

            <li class="covered" data-hits="271" data-linenumber="90">
              <span class="hits">271</span>
              <code class="sql">        if l_cursor%isopen then</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">          --Get some more info regarding cursor, including if it containts collection columns and what is their name</code></li>

            <li class="covered" data-hits="270" data-linenumber="92">
              <span class="hits">270</span>
              <code class="sql">          extract_cursor(l_cursor);</code></li>

            <li class="covered" data-hits="266" data-linenumber="93">
              <span class="hits">266</span>
              <code class="sql">          l_cursor_number  := dbms_sql.to_cursor_number(l_cursor);</code></li>

            <li class="covered" data-hits="266" data-linenumber="94">
              <span class="hits">266</span>
              <code class="sql">          self.cursor_details  := ut_cursor_details(l_cursor_number);</code></li>

            <li class="covered" data-hits="266" data-linenumber="95">
              <span class="hits">266</span>
              <code class="sql">          dbms_sql.close_cursor(l_cursor_number);</code></li>

            <li class="covered" data-hits="1" data-linenumber="96">
              <span class="hits">1</span>
              <code class="sql">        elsif not l_cursor%isopen then</code></li>

            <li class="covered" data-hits="1" data-linenumber="97">
              <span class="hits">1</span>
              <code class="sql">          raise cursor_not_open;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  exception</code></li>

            <li class="covered" data-hits="2" data-linenumber="101">
              <span class="hits">2</span>
              <code class="sql">    when cursor_not_open then</code></li>

            <li class="covered" data-hits="1" data-linenumber="102">
              <span class="hits">1</span>
              <code class="sql">        raise_application_error(-20155, &apos;Cursor is not open&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="103">
              <span class="hits">8</span>
              <code class="sql">    when ut_utils.ex_xml_processing then</code></li>

            <li class="covered" data-hits="4" data-linenumber="104">
              <span class="hits">4</span>
              <code class="sql">      if l_cursor%isopen then</code></li>

            <li class="covered" data-hits="4" data-linenumber="105">
              <span class="hits">4</span>
              <code class="sql">        close l_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="4" data-linenumber="107">
              <span class="hits">4</span>
              <code class="sql">        raise_application_error(ut_utils.gc_failed_open_cur,</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">          ut_compound_data_helper.create_err_cursor_msg(dbms_utility.format_call_stack()));</code></li>

            <li class="missed" data-hits="0" data-linenumber="109">
              <code class="sql">    when others then</code></li>

            <li class="missed" data-hits="0" data-linenumber="110">
              <code class="sql">      if l_cursor%isopen then</code></li>

            <li class="missed" data-hits="0" data-linenumber="111">
              <code class="sql">        close l_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">      end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="113">
              <code class="sql">      raise;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">    l_result        clob;</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">    l_result_string varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="71" data-linenumber="120">
              <span class="hits">71</span>
              <code class="sql">    if not self.is_null() then</code></li>

            <li class="covered" data-hits="50" data-linenumber="121">
              <span class="hits">50</span>
              <code class="sql">      dbms_lob.createtemporary(l_result, true);</code></li>

            <li class="covered" data-hits="50" data-linenumber="122">
              <span class="hits">50</span>
              <code class="sql">      ut_utils.append_to_clob(l_result, &apos;Data-types:&apos;||chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql"></code></li>

            <li class="covered" data-hits="50" data-linenumber="124">
              <span class="hits">50</span>
              <code class="sql">      if self.cursor_details.cursor_columns_info.count &gt; 0 then</code></li>

            <li class="covered" data-hits="50" data-linenumber="125">
              <span class="hits">50</span>
              <code class="sql">        ut_utils.append_to_clob( l_result, self.cursor_details.get_xml_children().getclobval() );</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="50" data-linenumber="127">
              <span class="hits">50</span>
              <code class="sql">      ut_utils.append_to_clob(l_result,chr(10)||(self as ut_compound_data_value).to_string());</code></li>

            <li class="covered" data-hits="50" data-linenumber="128">
              <span class="hits">50</span>
              <code class="sql">      l_result_string := ut_utils.to_string(l_result,null);</code></li>

            <li class="covered" data-hits="50" data-linenumber="129">
              <span class="hits">50</span>
              <code class="sql">      dbms_lob.freetemporary(l_result);</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="71" data-linenumber="131">
              <span class="hits">71</span>
              <code class="sql">    return l_result_string;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">  overriding member function diff( a_other ut_data_value, a_match_options ut_matcher_options ) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">    l_result            clob;</code></li>

            <li class="covered" data-hits="169" data-linenumber="136">
              <span class="hits">169</span>
              <code class="sql">    l_results           ut_utils.t_clob_tab := ut_utils.t_clob_tab();</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">    l_result_string     varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">    l_other             ut_data_value_refcursor;</code></li>

            <li class="covered" data-hits="169" data-linenumber="139">
              <span class="hits">169</span>
              <code class="sql">    l_self              ut_data_value_refcursor := self;</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">    l_column_diffs      ut_compound_data_helper.tt_column_diffs;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">    l_other_cols        ut_cursor_column_tab;</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">    l_self_cols         ut_cursor_column_tab;</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql"></code></li>

            <li class="covered" data-hits="169" data-linenumber="145">
              <span class="hits">169</span>
              <code class="sql">    l_act_missing_pk    ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="169" data-linenumber="146">
              <span class="hits">169</span>
              <code class="sql">    l_exp_missing_pk    ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql"></code></li>

            <li class="covered" data-hits="169" data-linenumber="148">
              <span class="hits">169</span>
              <code class="sql">    c_max_rows          integer := ut_utils.gc_diff_max_rows;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">    l_diff_id           ut_utils.t_hash;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">    l_diff_row_count    integer;</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">    l_row_diffs         ut_compound_data_helper.tt_row_diffs;</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">    l_message           varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">    function get_col_diff_text(a_col ut_compound_data_helper.t_column_diffs) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="27" data-linenumber="156">
              <span class="hits">27</span>
              <code class="sql">      return</code></li>

            <li class="covered" data-hits="1" data-linenumber="157">
              <span class="hits">1</span>
              <code class="sql">        case a_col.diff_type</code></li>

            <li class="covered" data-hits="1" data-linenumber="158">
              <span class="hits">1</span>
              <code class="sql">          when &apos;-&apos; then</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">            &apos;  Column &lt;&apos;||a_col.expected_name||&apos;&gt; [data-type: &apos;||a_col.expected_type||&apos;] is missing. Expected column position: &apos;||a_col.expected_pos||&apos;.&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="160">
              <span class="hits">1</span>
              <code class="sql">          when &apos;+&apos; then</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">            &apos;  Column &lt;&apos;||a_col.actual_name||&apos;&gt; [position: &apos;||a_col.actual_pos||&apos;, data-type: &apos;||a_col.actual_type||&apos;] is not expected in results.&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="162">
              <span class="hits">1</span>
              <code class="sql">          when &apos;t&apos; then</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">            &apos;  Column &lt;&apos;||a_col.actual_name||&apos;&gt; data-type is invalid. Expected: &apos;||a_col.expected_type||&apos;,&apos; ||&apos; actual: &apos;||a_col.actual_type||&apos;.&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="164">
              <span class="hits">1</span>
              <code class="sql">          when &apos;p&apos; then</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">            &apos;  Column &lt;&apos;||a_col.actual_name||&apos;&gt; is misplaced. Expected position: &apos;||a_col.expected_pos||&apos;,&apos; ||&apos; actual position: &apos;||a_col.actual_pos||&apos;.&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">        end;</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">    function remove_incomparable_cols(</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">      a_cursor_details ut_cursor_column_tab, a_column_diffs ut_compound_data_helper.tt_column_diffs</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">    ) return ut_cursor_column_tab is</code></li>

            <li class="covered" data-hits="24" data-linenumber="172">
              <span class="hits">24</span>
              <code class="sql">      l_missing_cols ut_varchar2_list := ut_varchar2_list();</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">      l_result       ut_cursor_column_tab;</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="78" data-linenumber="175">
              <span class="hits">78</span>
              <code class="sql">      for i in 1 .. a_column_diffs.count loop</code></li>

            <li class="covered" data-hits="54" data-linenumber="176">
              <span class="hits">54</span>
              <code class="sql">        if a_column_diffs(i).diff_type in (&apos;-&apos;,&apos;+&apos;) then</code></li>

            <li class="covered" data-hits="36" data-linenumber="177">
              <span class="hits">36</span>
              <code class="sql">          l_missing_cols.extend;</code></li>

            <li class="covered" data-hits="36" data-linenumber="178">
              <span class="hits">36</span>
              <code class="sql">          l_missing_cols(l_missing_cols.last) := coalesce(a_column_diffs(i).expected_name, a_column_diffs(i).actual_name);</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="24" data-linenumber="181">
              <span class="hits">24</span>
              <code class="sql">      select value(i) bulk collect into l_result</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">        from table(a_cursor_details) i</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">       where i.access_path not in (</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">         select c.column_value</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">           from table(l_missing_cols) c</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">         );</code></li>

            <li class="covered" data-hits="24" data-linenumber="187">
              <span class="hits">24</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">    function get_diff_message (a_row_diff ut_compound_data_helper.t_row_diffs, a_is_unordered boolean) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="224" data-linenumber="192">
              <span class="hits">224</span>
              <code class="sql">      if a_is_unordered then</code></li>

            <li class="covered" data-hits="68" data-linenumber="193">
              <span class="hits">68</span>
              <code class="sql">        if a_row_diff.pk_value is not null then</code></li>

            <li class="covered" data-hits="42" data-linenumber="194">
              <span class="hits">42</span>
              <code class="sql">          return  &apos;  PK &apos;||a_row_diff.pk_value||&apos; - &apos;||rpad(a_row_diff.diff_type,10)||a_row_diff.diffed_row;</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="26" data-linenumber="196">
              <span class="hits">26</span>
              <code class="sql">          return rpad(a_row_diff.diff_type,10)||a_row_diff.diffed_row;</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="156" data-linenumber="199">
              <span class="hits">156</span>
              <code class="sql">        return &apos;  Row No. &apos;||a_row_diff.rn||&apos; - &apos;||rpad(a_row_diff.diff_type,10)||a_row_diff.diffed_row;</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="169" data-linenumber="204">
              <span class="hits">169</span>
              <code class="sql">    if not a_other is of (ut_data_value_refcursor) then</code></li>

            <li class="missed" data-hits="0" data-linenumber="205">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="169" data-linenumber="207">
              <span class="hits">169</span>
              <code class="sql">    l_other := treat(a_other as ut_data_value_refcursor);</code></li>

            <li class="covered" data-hits="169" data-linenumber="208">
              <span class="hits">169</span>
              <code class="sql">    l_other.cursor_details.filter_columns(a_match_options);</code></li>

            <li class="covered" data-hits="169" data-linenumber="209">
              <span class="hits">169</span>
              <code class="sql">    l_self.cursor_details.filter_columns(a_match_options);</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql"></code></li>

            <li class="covered" data-hits="169" data-linenumber="211">
              <span class="hits">169</span>
              <code class="sql">    l_other_cols := l_other.cursor_details.cursor_columns_info;</code></li>

            <li class="covered" data-hits="169" data-linenumber="212">
              <span class="hits">169</span>
              <code class="sql">    l_self_cols  := l_self.cursor_details.cursor_columns_info;</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql"></code></li>

            <li class="covered" data-hits="169" data-linenumber="214">
              <span class="hits">169</span>
              <code class="sql">    dbms_lob.createtemporary(l_result,true);</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">    --diff columns</code></li>

            <li class="covered" data-hits="169" data-linenumber="216">
              <span class="hits">169</span>
              <code class="sql">    if not l_self.is_null and not l_other.is_null then</code></li>

            <li class="covered" data-hits="158" data-linenumber="217">
              <span class="hits">158</span>
              <code class="sql">      l_column_diffs := ut_compound_data_helper.get_columns_diff(</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">        l_self.cursor_details.cursor_columns_info,</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">        l_other.cursor_details.cursor_columns_info,</code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql">        a_match_options.ordered_columns()</code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql"></code></li>

            <li class="covered" data-hits="158" data-linenumber="223">
              <span class="hits">158</span>
              <code class="sql">      if l_column_diffs is not empty then</code></li>

            <li class="covered" data-hits="12" data-linenumber="224">
              <span class="hits">12</span>
              <code class="sql">        ut_utils.append_to_clob(l_result,chr(10) || &apos;Columns:&apos; || chr(10));</code></li>

            <li class="covered" data-hits="12" data-linenumber="225">
              <span class="hits">12</span>
              <code class="sql">        l_other_cols := remove_incomparable_cols( l_other_cols, l_column_diffs );</code></li>

            <li class="covered" data-hits="12" data-linenumber="226">
              <span class="hits">12</span>
              <code class="sql">        l_self_cols  := remove_incomparable_cols( l_self_cols, l_column_diffs );</code></li>

            <li class="covered" data-hits="39" data-linenumber="227">
              <span class="hits">39</span>
              <code class="sql">        for i in 1 .. l_column_diffs.count loop</code></li>

            <li class="covered" data-hits="27" data-linenumber="228">
              <span class="hits">27</span>
              <code class="sql">          l_results.extend;</code></li>

            <li class="covered" data-hits="27" data-linenumber="229">
              <span class="hits">27</span>
              <code class="sql">          l_results(l_results.last) := get_col_diff_text(l_column_diffs(i));</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">        end loop;</code></li>

            <li class="covered" data-hits="12" data-linenumber="231">
              <span class="hits">12</span>
              <code class="sql">        ut_utils.append_to_clob(l_result, l_results);</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">    --check for missing pk</code></li>

            <li class="covered" data-hits="169" data-linenumber="236">
              <span class="hits">169</span>
              <code class="sql">    if a_match_options.join_by.items.count &gt; 0 then</code></li>

            <li class="covered" data-hits="39" data-linenumber="237">
              <span class="hits">39</span>
              <code class="sql">      l_act_missing_pk := l_other.cursor_details.get_missing_join_by_columns( a_match_options.join_by.items );</code></li>

            <li class="covered" data-hits="39" data-linenumber="238">
              <span class="hits">39</span>
              <code class="sql">      l_exp_missing_pk := l_self.cursor_details.get_missing_join_by_columns( a_match_options.join_by.items );</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql">    --diff rows and row elements if the pk is not missing</code></li>

            <li class="covered" data-hits="169" data-linenumber="242">
              <span class="hits">169</span>
              <code class="sql">    if l_act_missing_pk.count + l_exp_missing_pk.count = 0 then</code></li>

            <li class="covered" data-hits="161" data-linenumber="243">
              <span class="hits">161</span>
              <code class="sql">      l_diff_id := ut_utils.get_hash( l_self.data_id || l_other.data_id );</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql">      -- First tell how many rows are different</code></li>

            <li class="covered" data-hits="161" data-linenumber="246">
              <span class="hits">161</span>
              <code class="sql">      l_diff_row_count := ut_compound_data_helper.get_rows_diff_count;</code></li>

            <li class="covered" data-hits="161" data-linenumber="247">
              <span class="hits">161</span>
              <code class="sql">      if l_diff_row_count &gt; 0  then</code></li>

            <li class="covered" data-hits="55" data-linenumber="248">
              <span class="hits">55</span>
              <code class="sql">        l_row_diffs := ut_compound_data_helper.get_rows_diff_by_sql(</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql">          l_self_cols, l_other_cols, l_self.data_id, l_other.data_id,</code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql">          l_diff_id,</code></li>

            <li class="covered" data-hits="1" data-linenumber="251">
              <span class="hits">1</span>
              <code class="sql">          case</code></li>

            <li class="covered" data-hits="1" data-linenumber="252">
              <span class="hits">1</span>
              <code class="sql">          when</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql">            l_self.cursor_details.is_anydata = 1 then ut_utils.add_prefix(a_match_options.join_by.items, l_self.cursor_details.get_root)</code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">          else</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql">            a_match_options.join_by.items</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">          end,</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">          a_match_options.unordered,a_match_options.ordered_columns(), self.extract_path</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="55" data-linenumber="259">
              <span class="hits">55</span>
              <code class="sql">        l_message := chr(10)</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">                     ||&apos;Rows: [ &apos; || l_diff_row_count ||&apos; differences&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="261">
              <span class="hits">1</span>
              <code class="sql">                     ||  case when  l_diff_row_count &gt; c_max_rows and l_row_diffs.count &gt; 0 then &apos;, showing first &apos;||c_max_rows end</code></li>

            <li class="covered" data-hits="1" data-linenumber="262">
              <span class="hits">1</span>
              <code class="sql">                     ||&apos; ]&apos;||chr(10)|| case when l_row_diffs.count = 0 then &apos;  All rows are different as the columns are not matching.&apos; else null end;</code></li>

            <li class="covered" data-hits="55" data-linenumber="263">
              <span class="hits">55</span>
              <code class="sql">        ut_utils.append_to_clob( l_result, l_message );</code></li>

            <li class="covered" data-hits="55" data-linenumber="264">
              <span class="hits">55</span>
              <code class="sql">        l_results := ut_utils.t_clob_tab();</code></li>

            <li class="covered" data-hits="279" data-linenumber="265">
              <span class="hits">279</span>
              <code class="sql">        for i in 1 .. l_row_diffs.count loop</code></li>

            <li class="covered" data-hits="224" data-linenumber="266">
              <span class="hits">224</span>
              <code class="sql">          l_results.extend;</code></li>

            <li class="covered" data-hits="224" data-linenumber="267">
              <span class="hits">224</span>
              <code class="sql">          l_results(l_results.last) := get_diff_message(l_row_diffs(i),a_match_options.unordered);</code></li>

            <li class="never" data-hits="" data-linenumber="268">
            <code class="sql">        end loop;</code></li>

            <li class="covered" data-hits="55" data-linenumber="269">
              <span class="hits">55</span>
              <code class="sql">        ut_utils.append_to_clob(l_result,l_results);</code></li>

            <li class="covered" data-hits="106" data-linenumber="270">
              <span class="hits">106</span>
              <code class="sql">      elsif l_column_diffs is not empty then</code></li>

            <li class="covered" data-hits="4" data-linenumber="271">
              <span class="hits">4</span>
              <code class="sql">        l_message:= chr(10)||&apos;Rows: [ all different ]&apos;||chr(10)||&apos;  All rows are different as the columns position is not matching.&apos;;</code></li>

            <li class="covered" data-hits="4" data-linenumber="272">
              <span class="hits">4</span>
              <code class="sql">        ut_utils.append_to_clob( l_result, l_message );</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="8" data-linenumber="275">
              <span class="hits">8</span>
              <code class="sql">      ut_utils.append_to_clob(l_result,chr(10) || &apos;Unable to join sets:&apos; || chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="276">
            <code class="sql"></code></li>

            <li class="covered" data-hits="16" data-linenumber="277">
              <span class="hits">16</span>
              <code class="sql">      for i in 1 .. l_exp_missing_pk.count loop</code></li>

            <li class="covered" data-hits="8" data-linenumber="278">
              <span class="hits">8</span>
              <code class="sql">        ut_utils.append_to_clob(l_result, &apos;  Join key &apos;||l_exp_missing_pk(i)||&apos; does not exists in expected&apos;||chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="279">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="280">
            <code class="sql"></code></li>

            <li class="covered" data-hits="16" data-linenumber="281">
              <span class="hits">16</span>
              <code class="sql">      for i in 1 .. l_act_missing_pk.count loop</code></li>

            <li class="covered" data-hits="8" data-linenumber="282">
              <span class="hits">8</span>
              <code class="sql">        ut_utils.append_to_clob(l_result, &apos;  Join key &apos;||l_act_missing_pk(i)||&apos; does not exists in actual&apos;||chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="283">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql"></code></li>

            <li class="covered" data-hits="8" data-linenumber="285">
              <span class="hits">8</span>
              <code class="sql">      if l_self.cursor_details.contains_collection() or l_other.cursor_details.contains_collection() then</code></li>

            <li class="covered" data-hits="1" data-linenumber="286">
              <span class="hits">1</span>
              <code class="sql">        ut_utils.append_to_clob(l_result,&apos;  Please make sure that your join clause is not refferring to collection element&apos;|| chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="287">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="288">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="289">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="169" data-linenumber="290">
              <span class="hits">169</span>
              <code class="sql">    if l_result != empty_clob() then</code></li>

            <li class="covered" data-hits="67" data-linenumber="291">
              <span class="hits">67</span>
              <code class="sql">      l_result_string := chr(10) || &apos;Diff:&apos; || ut_utils.to_string(l_result,null);</code></li>

            <li class="never" data-hits="" data-linenumber="292">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="169" data-linenumber="293">
              <span class="hits">169</span>
              <code class="sql">    dbms_lob.freetemporary(l_result);</code></li>

            <li class="covered" data-hits="169" data-linenumber="294">
              <span class="hits">169</span>
              <code class="sql">    return l_result_string;</code></li>

            <li class="never" data-hits="" data-linenumber="295">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="296">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="297">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="298">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="299">
              <code class="sql">    return compare_implementation( a_other, null );</code></li>

            <li class="never" data-hits="" data-linenumber="300">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="301">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="302">
            <code class="sql">  member function compare_implementation(</code></li>

            <li class="never" data-hits="" data-linenumber="303">
            <code class="sql">    a_other             ut_data_value,</code></li>

            <li class="never" data-hits="" data-linenumber="304">
            <code class="sql">    a_match_options     ut_matcher_options,</code></li>

            <li class="never" data-hits="" data-linenumber="305">
            <code class="sql">    a_inclusion_compare boolean := false,</code></li>

            <li class="never" data-hits="" data-linenumber="306">
            <code class="sql">    a_is_negated        boolean := false</code></li>

            <li class="never" data-hits="" data-linenumber="307">
            <code class="sql">  ) return integer is</code></li>

            <li class="covered" data-hits="181" data-linenumber="308">
              <span class="hits">181</span>
              <code class="sql">    l_result            integer := 0;</code></li>

            <li class="covered" data-hits="181" data-linenumber="309">
              <span class="hits">181</span>
              <code class="sql">    l_self              ut_data_value_refcursor := self;</code></li>

            <li class="never" data-hits="" data-linenumber="310">
            <code class="sql">    l_other             ut_data_value_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="311">
            <code class="sql">    l_diff_cursor_text clob;</code></li>

            <li class="never" data-hits="" data-linenumber="312">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="313">
            <code class="sql">    function compare_data(</code></li>

            <li class="never" data-hits="" data-linenumber="314">
            <code class="sql">      a_self             ut_data_value_refcursor,</code></li>

            <li class="never" data-hits="" data-linenumber="315">
            <code class="sql">      a_other            ut_data_value_refcursor,</code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql">      a_diff_cursor_text clob</code></li>

            <li class="never" data-hits="" data-linenumber="317">
            <code class="sql">    ) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="318">
            <code class="sql">      l_diff_id       ut_utils.t_hash;</code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">      l_result        integer;</code></li>

            <li class="never" data-hits="" data-linenumber="320">
            <code class="sql">      --We will start with number od differences being displayed.</code></li>

            <li class="never" data-hits="" data-linenumber="321">
            <code class="sql">      l_cursor        sys_refcursor;</code></li>

            <li class="never" data-hits="" data-linenumber="322">
            <code class="sql">      l_diff_tab      ut_compound_data_helper.t_diff_tab;</code></li>

            <li class="covered" data-hits="173" data-linenumber="323">
              <span class="hits">173</span>
              <code class="sql">      l_diif_rowcount integer :=0;</code></li>

            <li class="never" data-hits="" data-linenumber="324">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="325">
              <span class="hits">173</span>
              <code class="sql">      l_diff_id       := ut_utils.get_hash(a_self.data_id||a_other.data_id);</code></li>

            <li class="never" data-hits="" data-linenumber="326">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="327">
            <code class="sql">      begin</code></li>

            <li class="covered" data-hits="173" data-linenumber="328">
              <span class="hits">173</span>
              <code class="sql">        l_cursor := ut_compound_data_helper.get_compare_cursor(a_diff_cursor_text,</code></li>

            <li class="never" data-hits="" data-linenumber="329">
            <code class="sql">          a_self.data_id, a_other.data_id);</code></li>

            <li class="never" data-hits="" data-linenumber="330">
            <code class="sql">        --fetch and save rows for display of diff</code></li>

            <li class="covered" data-hits="173" data-linenumber="331">
              <span class="hits">173</span>
              <code class="sql">        fetch l_cursor bulk collect into l_diff_tab limit ut_utils.gc_diff_max_rows;</code></li>

            <li class="missed" data-hits="0" data-linenumber="332">
              <code class="sql">      exception when others then</code></li>

            <li class="missed" data-hits="0" data-linenumber="333">
              <code class="sql">        if l_cursor%isopen then</code></li>

            <li class="missed" data-hits="0" data-linenumber="334">
              <code class="sql">          close l_cursor;</code></li>

            <li class="never" data-hits="" data-linenumber="335">
            <code class="sql">        end if;</code></li>

            <li class="missed" data-hits="0" data-linenumber="336">
              <code class="sql">        raise;</code></li>

            <li class="never" data-hits="" data-linenumber="337">
            <code class="sql">      end;</code></li>

            <li class="never" data-hits="" data-linenumber="338">
            <code class="sql"></code></li>

            <li class="covered" data-hits="173" data-linenumber="339">
              <span class="hits">173</span>
              <code class="sql">      ut_compound_data_helper.insert_diffs_result( l_diff_tab, l_diff_id );</code></li>

            <li class="never" data-hits="" data-linenumber="340">
            <code class="sql">      --fetch rows for count only</code></li>

            <li class="covered" data-hits="233" data-linenumber="341">
              <span class="hits">233</span>
              <code class="sql">      loop</code></li>

            <li class="covered" data-hits="233" data-linenumber="342">
              <span class="hits">233</span>
              <code class="sql">        exit when l_diff_tab.count = 0;</code></li>

            <li class="covered" data-hits="60" data-linenumber="343">
              <span class="hits">60</span>
              <code class="sql">        l_diif_rowcount := l_diif_rowcount + l_diff_tab.count;</code></li>

            <li class="covered" data-hits="60" data-linenumber="344">
              <span class="hits">60</span>
              <code class="sql">        fetch l_cursor bulk collect into l_diff_tab limit ut_utils.gc_bc_fetch_limit;</code></li>

            <li class="never" data-hits="" data-linenumber="345">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="346">
            <code class="sql"></code></li>

            <li class="covered" data-hits="173" data-linenumber="347">
              <span class="hits">173</span>
              <code class="sql">      ut_compound_data_helper.set_rows_diff(l_diif_rowcount);</code></li>

            <li class="never" data-hits="" data-linenumber="348">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="349">
            <code class="sql">      --result is OK only if both are same</code></li>

            <li class="covered" data-hits="173" data-linenumber="350">
              <span class="hits">173</span>
              <code class="sql">      if l_diif_rowcount = 0 and a_self.is_null = a_other.is_null then</code></li>

            <li class="covered" data-hits="113" data-linenumber="351">
              <span class="hits">113</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="352">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="60" data-linenumber="353">
              <span class="hits">60</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="354">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="173" data-linenumber="355">
              <span class="hits">173</span>
              <code class="sql">      close l_cursor;</code></li>

            <li class="covered" data-hits="173" data-linenumber="356">
              <span class="hits">173</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="357">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="358">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="181" data-linenumber="359">
              <span class="hits">181</span>
              <code class="sql">    if not a_other is of (ut_data_value_refcursor) then</code></li>

            <li class="missed" data-hits="0" data-linenumber="360">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="361">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="362">
            <code class="sql"></code></li>

            <li class="covered" data-hits="181" data-linenumber="363">
              <span class="hits">181</span>
              <code class="sql">    l_other := treat(a_other as ut_data_value_refcursor);</code></li>

            <li class="covered" data-hits="181" data-linenumber="364">
              <span class="hits">181</span>
              <code class="sql">    l_other.cursor_details.filter_columns( a_match_options );</code></li>

            <li class="covered" data-hits="181" data-linenumber="365">
              <span class="hits">181</span>
              <code class="sql">    l_self.cursor_details.filter_columns( a_match_options );</code></li>

            <li class="never" data-hits="" data-linenumber="366">
            <code class="sql"></code></li>

            <li class="covered" data-hits="181" data-linenumber="367">
              <span class="hits">181</span>
              <code class="sql">    if a_match_options.join_by.items.count &gt; 0 then</code></li>

            <li class="covered" data-hits="42" data-linenumber="368">
              <span class="hits">42</span>
              <code class="sql">      l_result :=</code></li>

            <li class="never" data-hits="" data-linenumber="369">
            <code class="sql">        l_self.cursor_details.get_missing_join_by_columns( a_match_options.join_by.items ).count</code></li>

            <li class="never" data-hits="" data-linenumber="370">
            <code class="sql">        + l_other.cursor_details.get_missing_join_by_columns( a_match_options.join_by.items ).count;</code></li>

            <li class="never" data-hits="" data-linenumber="371">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="372">
            <code class="sql"></code></li>

            <li class="covered" data-hits="181" data-linenumber="373">
              <span class="hits">181</span>
              <code class="sql">    if l_result = 0 then</code></li>

            <li class="covered" data-hits="173" data-linenumber="374">
              <span class="hits">173</span>
              <code class="sql">      if not l_self.is_null() and not l_other.is_null() and not l_self.cursor_details.equals( l_other.cursor_details, a_match_options ) then</code></li>

            <li class="covered" data-hits="10" data-linenumber="375">
              <span class="hits">10</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="never" data-hits="" data-linenumber="376">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="173" data-linenumber="377">
              <span class="hits">173</span>
              <code class="sql">      l_diff_cursor_text := ut_compound_data_helper.gen_compare_sql(</code></li>

            <li class="never" data-hits="" data-linenumber="378">
            <code class="sql">        l_other,</code></li>

            <li class="never" data-hits="" data-linenumber="379">
            <code class="sql">        a_match_options.join_by.items,</code></li>

            <li class="never" data-hits="" data-linenumber="380">
            <code class="sql">        a_match_options.unordered(),</code></li>

            <li class="never" data-hits="" data-linenumber="381">
            <code class="sql">        a_inclusion_compare,</code></li>

            <li class="never" data-hits="" data-linenumber="382">
            <code class="sql">        a_is_negated</code></li>

            <li class="never" data-hits="" data-linenumber="383">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="173" data-linenumber="384">
              <span class="hits">173</span>
              <code class="sql">      l_result := l_result + compare_data( l_self, l_other, l_diff_cursor_text );</code></li>

            <li class="never" data-hits="" data-linenumber="385">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="181" data-linenumber="386">
              <span class="hits">181</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="387">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="388">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="389">
            <code class="sql">  overriding member function is_empty return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="390">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="11" data-linenumber="391">
              <span class="hits">11</span>
              <code class="sql">    return self.elements_count = 0;</code></li>

            <li class="never" data-hits="" data-linenumber="392">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="393">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="394">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="A82767399790F79958FE5016E0379745"><div class="header"> <h3>UT3.UT_DATA_VALUE_TIMESTAMP</h3><h4><span class="green">93.75 %</span> lines covered</h4><div> <b>16</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_timestamp as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_timestamp(self in out nocopy ut_data_value_timestamp, a_value timestamp_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="92" data-linenumber="21">
              <span class="hits">92</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="92" data-linenumber="22">
              <span class="hits">92</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="92" data-linenumber="23">
              <span class="hits">92</span>
              <code class="sql">    self.data_type := &apos;timestamp&apos;;</code></li>

            <li class="covered" data-hits="92" data-linenumber="24">
              <span class="hits">92</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="26" data-linenumber="29">
              <span class="hits">26</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="86" data-linenumber="34">
              <span class="hits">86</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_other  ut_data_value_timestamp;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="44" data-linenumber="41">
              <span class="hits">44</span>
              <code class="sql">    if a_other is of (ut_data_value_timestamp) then</code></li>

            <li class="covered" data-hits="44" data-linenumber="42">
              <span class="hits">44</span>
              <code class="sql">      l_other  := treat(a_other as ut_data_value_timestamp);</code></li>

            <li class="covered" data-hits="44" data-linenumber="43">
              <span class="hits">44</span>
              <code class="sql">      if self.data_value = l_other.data_value then</code></li>

            <li class="covered" data-hits="5" data-linenumber="44">
              <span class="hits">5</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="covered" data-hits="39" data-linenumber="45">
              <span class="hits">39</span>
              <code class="sql">      elsif self.data_value &gt; l_other.data_value then</code></li>

            <li class="covered" data-hits="18" data-linenumber="46">
              <span class="hits">18</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="covered" data-hits="21" data-linenumber="47">
              <span class="hits">21</span>
              <code class="sql">      elsif self.data_value &lt; l_other.data_value then</code></li>

            <li class="covered" data-hits="9" data-linenumber="48">
              <span class="hits">9</span>
              <code class="sql">        l_result := -1;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="44" data-linenumber="53">
              <span class="hits">44</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="2AFE41619CB0FDDE4E124A31DDC1C036"><div class="header"> <h3>UT3.UT_DATA_VALUE_TIMESTAMP_LTZ</h3><h4><span class="green">93.75 %</span> lines covered</h4><div> <b>16</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_timestamp_ltz as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_timestamp_ltz(self in out nocopy ut_data_value_timestamp_ltz, a_value timestamp_ltz_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="92" data-linenumber="21">
              <span class="hits">92</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="92" data-linenumber="22">
              <span class="hits">92</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="92" data-linenumber="23">
              <span class="hits">92</span>
              <code class="sql">    self.data_type := &apos;timestamp with local time zone&apos;;</code></li>

            <li class="covered" data-hits="92" data-linenumber="24">
              <span class="hits">92</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="26" data-linenumber="29">
              <span class="hits">26</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="86" data-linenumber="34">
              <span class="hits">86</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_other  ut_data_value_timestamp_ltz;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="44" data-linenumber="41">
              <span class="hits">44</span>
              <code class="sql">    if a_other is of (ut_data_value_timestamp_ltz) then</code></li>

            <li class="covered" data-hits="44" data-linenumber="42">
              <span class="hits">44</span>
              <code class="sql">      l_other  := treat(a_other as ut_data_value_timestamp_ltz);</code></li>

            <li class="covered" data-hits="44" data-linenumber="43">
              <span class="hits">44</span>
              <code class="sql">      if self.data_value = l_other.data_value then</code></li>

            <li class="covered" data-hits="5" data-linenumber="44">
              <span class="hits">5</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="covered" data-hits="39" data-linenumber="45">
              <span class="hits">39</span>
              <code class="sql">      elsif self.data_value &gt; l_other.data_value then</code></li>

            <li class="covered" data-hits="18" data-linenumber="46">
              <span class="hits">18</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="covered" data-hits="21" data-linenumber="47">
              <span class="hits">21</span>
              <code class="sql">      elsif self.data_value &lt; l_other.data_value then</code></li>

            <li class="covered" data-hits="9" data-linenumber="48">
              <span class="hits">9</span>
              <code class="sql">        l_result := -1;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="44" data-linenumber="53">
              <span class="hits">44</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="C18AEC99533A5A8022E7B51AEA504470"><div class="header"> <h3>UT3.UT_DATA_VALUE_TIMESTAMP_TZ</h3><h4><span class="green">93.75 %</span> lines covered</h4><div> <b>16</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_timestamp_tz as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_timestamp_tz(self in out nocopy ut_data_value_timestamp_tz, a_value timestamp_tz_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="88" data-linenumber="21">
              <span class="hits">88</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="88" data-linenumber="22">
              <span class="hits">88</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="88" data-linenumber="23">
              <span class="hits">88</span>
              <code class="sql">    self.data_type := &apos;timestamp with time zone&apos;;</code></li>

            <li class="covered" data-hits="88" data-linenumber="24">
              <span class="hits">88</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="26" data-linenumber="29">
              <span class="hits">26</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="86" data-linenumber="34">
              <span class="hits">86</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_other  ut_data_value_timestamp_tz;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="44" data-linenumber="41">
              <span class="hits">44</span>
              <code class="sql">    if a_other is of (ut_data_value_timestamp_tz) then</code></li>

            <li class="covered" data-hits="44" data-linenumber="42">
              <span class="hits">44</span>
              <code class="sql">      l_other  := treat(a_other as ut_data_value_timestamp_tz);</code></li>

            <li class="covered" data-hits="44" data-linenumber="43">
              <span class="hits">44</span>
              <code class="sql">      if self.data_value = l_other.data_value then</code></li>

            <li class="covered" data-hits="5" data-linenumber="44">
              <span class="hits">5</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="covered" data-hits="39" data-linenumber="45">
              <span class="hits">39</span>
              <code class="sql">      elsif self.data_value &gt; l_other.data_value then</code></li>

            <li class="covered" data-hits="18" data-linenumber="46">
              <span class="hits">18</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="covered" data-hits="21" data-linenumber="47">
              <span class="hits">21</span>
              <code class="sql">      elsif self.data_value &lt; l_other.data_value then</code></li>

            <li class="covered" data-hits="9" data-linenumber="48">
              <span class="hits">9</span>
              <code class="sql">        l_result := -1;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="44" data-linenumber="53">
              <span class="hits">44</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="DBE7DCFA28CCB99CC7572E4F6ED87638"><div class="header"> <h3>UT3.UT_DATA_VALUE_VARCHAR2</h3><h4><span class="green">94.12 %</span> lines covered</h4><div> <b>17</b> relevant lines. <span class="green"><b>16</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_varchar2(self in out nocopy ut_data_value_varchar2, a_value varchar2) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="361" data-linenumber="21">
              <span class="hits">361</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="361" data-linenumber="22">
              <span class="hits">361</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="361" data-linenumber="23">
              <span class="hits">361</span>
              <code class="sql">    self.data_type := &apos;varchar2&apos;;</code></li>

            <li class="covered" data-hits="361" data-linenumber="24">
              <span class="hits">361</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="174" data-linenumber="29">
              <span class="hits">174</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="127" data-linenumber="34">
              <span class="hits">127</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_other  ut_data_value_varchar2;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="37" data-linenumber="41">
              <span class="hits">37</span>
              <code class="sql">    if a_other is of (ut_data_value_varchar2) then</code></li>

            <li class="covered" data-hits="37" data-linenumber="42">
              <span class="hits">37</span>
              <code class="sql">      l_other  := treat(a_other as ut_data_value_varchar2);</code></li>

            <li class="covered" data-hits="37" data-linenumber="43">
              <span class="hits">37</span>
              <code class="sql">      if self.data_value = l_other.data_value then</code></li>

            <li class="covered" data-hits="3" data-linenumber="44">
              <span class="hits">3</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="covered" data-hits="34" data-linenumber="45">
              <span class="hits">34</span>
              <code class="sql">      elsif self.data_value &gt; l_other.data_value then</code></li>

            <li class="covered" data-hits="16" data-linenumber="46">
              <span class="hits">16</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="covered" data-hits="18" data-linenumber="47">
              <span class="hits">18</span>
              <code class="sql">      elsif self.data_value &lt; l_other.data_value then</code></li>

            <li class="covered" data-hits="6" data-linenumber="48">
              <span class="hits">6</span>
              <code class="sql">        l_result := -1;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">      raise value_error;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="37" data-linenumber="53">
              <span class="hits">37</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  overriding member function is_multi_line return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="122" data-linenumber="58">
              <span class="hits">122</span>
              <code class="sql">    return not self.is_null() and (length(self.data_value) &gt; 100 or instr(self.data_value,chr(10)) &gt; 0);</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="AD0B721FFAA27DF887FC1A94B02415B1"><div class="header"> <h3>UT3.UT_DATA_VALUE_YMINTERVAL</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>15</b> relevant lines. <span class="green"><b>15</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_data_value_yminterval as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_data_value_yminterval(self in out nocopy ut_data_value_yminterval, a_value yminterval_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="76" data-linenumber="21">
              <span class="hits">76</span>
              <code class="sql">    self.data_value := a_value;</code></li>

            <li class="covered" data-hits="76" data-linenumber="22">
              <span class="hits">76</span>
              <code class="sql">    self.self_type  := $$plsql_unit;</code></li>

            <li class="covered" data-hits="76" data-linenumber="23">
              <span class="hits">76</span>
              <code class="sql">    self.data_type := &apos;interval year to month&apos;;</code></li>

            <li class="covered" data-hits="76" data-linenumber="24">
              <span class="hits">76</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function is_null return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="20" data-linenumber="29">
              <span class="hits">20</span>
              <code class="sql">    return (self.data_value is null);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member function to_string return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="72" data-linenumber="34">
              <span class="hits">72</span>
              <code class="sql">    return ut_utils.to_string(self.data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  overriding member function compare_implementation(a_other ut_data_value) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    l_result integer;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_other  ut_data_value_yminterval;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="40" data-linenumber="41">
              <span class="hits">40</span>
              <code class="sql">    if a_other is of (ut_data_value_yminterval) then</code></li>

            <li class="covered" data-hits="40" data-linenumber="42">
              <span class="hits">40</span>
              <code class="sql">      l_other := treat(a_other as ut_data_value_yminterval);</code></li>

            <li class="covered" data-hits="40" data-linenumber="43">
              <span class="hits">40</span>
              <code class="sql">      if self.data_value = l_other.data_value then</code></li>

            <li class="covered" data-hits="5" data-linenumber="44">
              <span class="hits">5</span>
              <code class="sql">        l_result := 0;</code></li>

            <li class="covered" data-hits="35" data-linenumber="45">
              <span class="hits">35</span>
              <code class="sql">      elsif self.data_value &gt; l_other.data_value then</code></li>

            <li class="covered" data-hits="16" data-linenumber="46">
              <span class="hits">16</span>
              <code class="sql">        l_result := 1;</code></li>

            <li class="covered" data-hits="19" data-linenumber="47">
              <span class="hits">19</span>
              <code class="sql">      elsif self.data_value &lt; l_other.data_value then</code></li>

            <li class="covered" data-hits="7" data-linenumber="48">
              <span class="hits">7</span>
              <code class="sql">        l_result := -1;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="40" data-linenumber="51">
              <span class="hits">40</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="4ABF5F9ABFCF6BF4BA006791BA370A9A"><div class="header"> <h3>UT3.UT_JSON_LEAF</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>12</b> relevant lines. <span class="green"><b>12</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_json_leaf as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">   member procedure init( self in out nocopy ut_json_leaf,</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">     a_element_name varchar2, a_element_value varchar2,a_parent_name varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql">     a_access_path varchar2, a_hierarchy_level integer, a_index_position integer, a_json_type in varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">     a_parent_type varchar2, a_array_element integer:=0, a_parent_path varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">   begin</code></li>

            <li class="covered" data-hits="1654" data-linenumber="8">
              <span class="hits">1654</span>
              <code class="sql">      self.element_name     := a_element_name;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="9">
              <span class="hits">1654</span>
              <code class="sql">      self.element_value    := a_element_value;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="10">
              <span class="hits">1654</span>
              <code class="sql">      self.parent_name      := a_parent_name;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="11">
              <span class="hits">1654</span>
              <code class="sql">      self.hierarchy_level  := a_hierarchy_level;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="12">
              <span class="hits">1654</span>
              <code class="sql">      self.access_path      := a_access_path;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="13">
              <span class="hits">1654</span>
              <code class="sql">      self.index_position   := a_index_position;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="14">
              <span class="hits">1654</span>
              <code class="sql">      self.json_type        := a_json_type;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="15">
              <span class="hits">1654</span>
              <code class="sql">      self.is_array_element := a_array_element;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="16">
              <span class="hits">1654</span>
              <code class="sql">      self.parent_type      := a_parent_type;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="17">
              <span class="hits">1654</span>
              <code class="sql">      self.parent_path      := a_parent_path;</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">   end;</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">   constructor function ut_json_leaf( self in out nocopy ut_json_leaf,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">     a_element_name varchar2, a_element_value varchar2,a_parent_name varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">     a_access_path varchar2, a_hierarchy_level integer, a_index_position integer, a_json_type in varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">     a_parent_type varchar2, a_array_element integer:=0, a_parent_path varchar2)</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">   return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">   begin</code></li>

            <li class="covered" data-hits="1654" data-linenumber="26">
              <span class="hits">1654</span>
              <code class="sql">     init(a_element_name,a_element_value,a_parent_name, a_access_path, a_hierarchy_level, a_index_position,</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">       a_json_type,a_parent_type,a_array_element, a_parent_path);</code></li>

            <li class="covered" data-hits="1654" data-linenumber="28">
              <span class="hits">1654</span>
              <code class="sql">   return;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">   end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="DBAAAF3CE772D40E253BEE275FFD53E6"><div class="header"> <h3>UT3.UT_JSON_TREE_DETAILS</h3><h4><span class="green">93.94 %</span> lines covered</h4><div> <b>66</b> relevant lines. <span class="green"><b>62</b> lines covered</span> (including <span class="yellow"><b>6</b> lines partially covered</span> ) and <span class="red"><b>4</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_json_tree_details as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  member function get_json_type(a_json_piece json_element_t) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1654" data-linenumber="5">
              <span class="hits">1654</span>
              <code class="sql">    return</code></li>

            <li class="covered" data-hits="1" data-linenumber="6">
              <span class="hits">1</span>
              <code class="sql">      case</code></li>

            <li class="covered" data-hits="1" data-linenumber="7">
              <span class="hits">1</span>
              <code class="sql">        when a_json_piece.is_object    then &apos;object&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="8">
              <span class="hits">1</span>
              <code class="sql">        when a_json_piece.is_array     then &apos;array&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="9">
              <span class="hits">1</span>
              <code class="sql">        when a_json_piece.is_string    then &apos;string&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="10">
              <span class="hits">1</span>
              <code class="sql">        when a_json_piece.is_number    then &apos;number&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="11">
              <span class="hits">1</span>
              <code class="sql">        when a_json_piece.is_boolean   then &apos;boolean&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="12">
              <span class="hits">1</span>
              <code class="sql">        when a_json_piece.is_true      then &apos;true&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="13">
              <span class="hits">1</span>
              <code class="sql">        when a_json_piece.is_false     then &apos;false&apos;</code></li>

            <li class="covered" data-hits="1" data-linenumber="14">
              <span class="hits">1</span>
              <code class="sql">        when a_json_piece.is_null      then &apos;null&apos;</code></li>

            <li class="missed" data-hits="0" data-linenumber="15">
              <code class="sql">        when a_json_piece.is_date      then &apos;date&apos;</code></li>

            <li class="missed" data-hits="0" data-linenumber="16">
              <code class="sql">        when a_json_piece.is_timestamp then &apos;timestamp&apos;</code></li>

            <li class="missed" data-hits="0" data-linenumber="17">
              <code class="sql">        when a_json_piece.is_scalar    then &apos;scalar&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">        else null</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">      end;</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">   member function get_json_value(a_json_piece json_element_t, a_key varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">     l_json_el json_element_t;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">     l_val varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">   begin</code></li>

            <li class="covered" data-hits="1148" data-linenumber="26">
              <span class="hits">1148</span>
              <code class="sql">     l_json_el := treat(a_json_piece as json_object_t).get(a_key);</code></li>

            <li class="covered" data-hits="1148" data-linenumber="27">
              <span class="hits">1148</span>
              <code class="sql">     case</code></li>

            <li class="covered" data-hits="1855" data-linenumber="28">
              <span class="hits">1855</span>
              <code class="sql">       when l_json_el.is_string    then l_val := ut_utils.to_string(l_json_el.to_string(),null);</code></li>

            <li class="covered" data-hits="700" data-linenumber="29">
              <span class="hits">700</span>
              <code class="sql">       when l_json_el.is_number    then l_val := ut_utils.to_string(l_json_el.to_number());</code></li>

            <li class="covered" data-hits="232" data-linenumber="30">
              <span class="hits">232</span>
              <code class="sql">       when l_json_el.is_boolean   then l_val := ut_utils.to_string(l_json_el.to_boolean());</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">--        when l_json_el.is_true      then l_val := ut_utils.to_string(l_json_el.to_boolean());</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">--        when l_json_el.is_false     then l_val := ut_utils.to_string(l_json_el.to_boolean());</code></li>

            <li class="partcov" data-hits="132" data-blocks="1/2" data-linenumber="33">
                <span class="blocks">1/2</span>
              <span class="hits">132</span>
              <code class="sql">       when l_json_el.is_date      then l_val := ut_utils.to_string(l_json_el.to_date());</code></li>

            <li class="partcov" data-hits="132" data-blocks="1/2" data-linenumber="34">
                <span class="blocks">1/2</span>
              <span class="hits">132</span>
              <code class="sql">       when l_json_el.is_timestamp then l_val := ut_utils.to_string(l_json_el.to_date());</code></li>

            <li class="covered" data-hits="132" data-linenumber="35">
              <span class="hits">132</span>
              <code class="sql">       else null;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">      end case;</code></li>

            <li class="covered" data-hits="1148" data-linenumber="37">
              <span class="hits">1148</span>
              <code class="sql">     return l_val;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">   end;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">   member function get_json_value(a_json_piece json_element_t, a_key integer) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">     l_json_el json_element_t;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">     l_val varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">   begin</code></li>

            <li class="covered" data-hits="506" data-linenumber="44">
              <span class="hits">506</span>
              <code class="sql">     l_json_el := treat(a_json_piece as json_array_t).get(a_key);</code></li>

            <li class="covered" data-hits="506" data-linenumber="45">
              <span class="hits">506</span>
              <code class="sql">     case</code></li>

            <li class="covered" data-hits="860" data-linenumber="46">
              <span class="hits">860</span>
              <code class="sql">       when l_json_el.is_string    then l_val := ut_utils.to_string(l_json_el.to_string(),null);</code></li>

            <li class="partcov" data-hits="152" data-blocks="1/2" data-linenumber="47">
                <span class="blocks">1/2</span>
              <span class="hits">152</span>
              <code class="sql">       when l_json_el.is_number    then l_val := ut_utils.to_string(l_json_el.to_number());</code></li>

            <li class="partcov" data-hits="152" data-blocks="1/2" data-linenumber="48">
                <span class="blocks">1/2</span>
              <span class="hits">152</span>
              <code class="sql">       when l_json_el.is_boolean   then l_val := ut_utils.to_string(l_json_el.to_boolean());</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">--        when l_json_el.is_true      then l_val := ut_utils.to_string(l_json_el.to_boolean());</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">--        when l_json_el.is_false     then l_val := ut_utils.to_string(l_json_el.to_boolean());</code></li>

            <li class="partcov" data-hits="152" data-blocks="1/2" data-linenumber="51">
                <span class="blocks">1/2</span>
              <span class="hits">152</span>
              <code class="sql">       when l_json_el.is_date      then l_val := ut_utils.to_string(l_json_el.to_date());</code></li>

            <li class="partcov" data-hits="152" data-blocks="1/2" data-linenumber="52">
                <span class="blocks">1/2</span>
              <span class="hits">152</span>
              <code class="sql">       when l_json_el.is_timestamp then l_val := ut_utils.to_string(l_json_el.to_date());</code></li>

            <li class="covered" data-hits="152" data-linenumber="53">
              <span class="hits">152</span>
              <code class="sql">       else null;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      end case;</code></li>

            <li class="covered" data-hits="506" data-linenumber="55">
              <span class="hits">506</span>
              <code class="sql">     return l_val;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">   end;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  member procedure add_json_leaf(</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">    self in out nocopy ut_json_tree_details,</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">    a_element_name     varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">    a_element_value    varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">    a_parent_name      varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    a_access_path      varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    a_hierarchy_level  integer,</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">    a_index_position   integer,</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">    a_json_type        varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">    a_parent_type      varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    a_array_element    integer := 0,</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">    a_parent_path      varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1654" data-linenumber="72">
              <span class="hits">1654</span>
              <code class="sql">    self.json_tree_info.extend;</code></li>

            <li class="covered" data-hits="1654" data-linenumber="73">
              <span class="hits">1654</span>
              <code class="sql">    self.json_tree_info(self.json_tree_info.last) :=</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">      ut_json_leaf(</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">        a_element_name, a_element_value, a_parent_name, a_access_path,</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">        a_hierarchy_level, a_index_position,a_json_type, a_parent_type,</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">        a_array_element, a_parent_path</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  member procedure traverse_object(</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">    self in out nocopy ut_json_tree_details,</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">    a_json_piece       json_element_t,</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">    a_parent_name      varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">    a_hierarchy_level  integer := 1,</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">    a_access_path      varchar2 := &apos;$&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  ) as</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    l_keys      json_key_list;</code></li>

            <li class="covered" data-hits="187" data-linenumber="89">
              <span class="hits">187</span>
              <code class="sql">    l_object    json_object_t := treat(a_json_piece as json_object_t);</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">    l_path      varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">    l_type      varchar2(50);</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">    l_name      varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="187" data-linenumber="94">
              <span class="hits">187</span>
              <code class="sql">    l_keys := coalesce(l_object.get_keys,json_key_list());</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1335" data-linenumber="96">
              <span class="hits">1335</span>
              <code class="sql">    for i in 1 .. l_keys.count loop</code></li>

            <li class="covered" data-hits="1148" data-linenumber="97">
              <span class="hits">1148</span>
              <code class="sql">      l_type := get_json_type(l_object.get(l_keys(i)));</code></li>

            <li class="covered" data-hits="1148" data-linenumber="98">
              <span class="hits">1148</span>
              <code class="sql">      l_name := &apos;&quot;&apos;||l_keys(i)||&apos;&quot;&apos;;</code></li>

            <li class="covered" data-hits="1148" data-linenumber="99">
              <span class="hits">1148</span>
              <code class="sql">      l_path := a_access_path||&apos;.&apos;||l_name;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1148" data-linenumber="101">
              <span class="hits">1148</span>
              <code class="sql">      add_json_leaf(</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">        l_name,</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">        get_json_value(l_object,l_keys(i)),</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">        a_parent_name,</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">        l_path,</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">        a_hierarchy_level,</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">        i,</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">        l_type,</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">        &apos;object&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">        0,</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">        a_access_path</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">      );</code></li>

            <li class="covered" data-hits="1148" data-linenumber="113">
              <span class="hits">1148</span>
              <code class="sql">      case l_type</code></li>

            <li class="covered" data-hits="1148" data-linenumber="114">
              <span class="hits">1148</span>
              <code class="sql">        when &apos;array&apos; then</code></li>

            <li class="covered" data-hits="112" data-linenumber="115">
              <span class="hits">112</span>
              <code class="sql">          traverse_array (</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">            treat (l_object.get (l_keys(i)) as json_array_t),</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">            l_name,</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">            a_hierarchy_level + 1,</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">            l_path</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">          );</code></li>

            <li class="covered" data-hits="1036" data-linenumber="121">
              <span class="hits">1036</span>
              <code class="sql">        when &apos;object&apos; then</code></li>

            <li class="covered" data-hits="17" data-linenumber="122">
              <span class="hits">17</span>
              <code class="sql">          traverse_object(</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">            treat (l_object.get (l_keys(i)) as json_object_t),</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">            l_name,</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">            a_hierarchy_level+1,</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">            l_path</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="1019" data-linenumber="129">
              <span class="hits">1019</span>
              <code class="sql">          null;</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">      end case;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">   end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  end traverse_object;</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">  member procedure traverse_array(</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">    self in out nocopy ut_json_tree_details,</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">    a_json_piece       json_element_t,</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">    a_parent_name      varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">    a_hierarchy_level  integer := 1,</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">    a_access_path      varchar2 := &apos;$&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">  ) as</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">    l_array     json_array_t;</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">    l_type      varchar2(50);</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">    l_name      varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">    l_path      varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="125" data-linenumber="146">
              <span class="hits">125</span>
              <code class="sql">    l_array  := treat(a_json_piece as json_array_t);</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql"></code></li>

            <li class="covered" data-hits="631" data-linenumber="148">
              <span class="hits">631</span>
              <code class="sql">    for i in 0 .. l_array.get_size - 1  loop</code></li>

            <li class="covered" data-hits="506" data-linenumber="149">
              <span class="hits">506</span>
              <code class="sql">      l_type := get_json_type(l_array.get(i));</code></li>

            <li class="covered" data-hits="506" data-linenumber="150">
              <span class="hits">506</span>
              <code class="sql">      l_name := case when l_type = &apos;object&apos; then l_type else l_array.get(i).stringify end;</code></li>

            <li class="covered" data-hits="506" data-linenumber="151">
              <span class="hits">506</span>
              <code class="sql">      l_path := a_access_path||&apos;[&apos;||i||&apos;]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql"></code></li>

            <li class="covered" data-hits="506" data-linenumber="153">
              <span class="hits">506</span>
              <code class="sql">      add_json_leaf(</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">        l_name,</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">        get_json_value(a_json_piece,i),</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">        a_parent_name,</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql">        l_path,</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">        a_hierarchy_level,</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">        i,</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">        l_type,</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">        &apos;array&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">        1,</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">        l_path</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">      );</code></li>

            <li class="covered" data-hits="506" data-linenumber="165">
              <span class="hits">506</span>
              <code class="sql">      case l_type</code></li>

            <li class="covered" data-hits="506" data-linenumber="166">
              <span class="hits">506</span>
              <code class="sql">        when &apos;array&apos; then</code></li>

            <li class="missed" data-hits="0" data-linenumber="167">
              <code class="sql">          traverse_array (</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">            treat (l_array.get (i) as json_array_t),</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">            l_name,</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">            a_hierarchy_level + 1,</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">            l_path</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">          );</code></li>

            <li class="covered" data-hits="506" data-linenumber="173">
              <span class="hits">506</span>
              <code class="sql">        when &apos;object&apos; then</code></li>

            <li class="covered" data-hits="152" data-linenumber="174">
              <span class="hits">152</span>
              <code class="sql">          traverse_object(</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">            treat (l_array.get (i) as json_object_t),</code></li>

            <li class="never" data-hits="" data-linenumber="176">
            <code class="sql">            l_name,</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">            a_hierarchy_level + 1,</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">            l_path</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">          );</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="354" data-linenumber="181">
              <span class="hits">354</span>
              <code class="sql">          null;</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">      end case;</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">   end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">  end traverse_array;</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">  member procedure init(self in out nocopy ut_json_tree_details,a_json_doc in json_element_t, a_level_in integer := 0) is</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="31" data-linenumber="188">
              <span class="hits">31</span>
              <code class="sql">    if a_json_doc.is_object then</code></li>

            <li class="covered" data-hits="18" data-linenumber="189">
              <span class="hits">18</span>
              <code class="sql">      traverse_object(treat (a_json_doc as json_object_t));</code></li>

            <li class="covered" data-hits="13" data-linenumber="190">
              <span class="hits">13</span>
              <code class="sql">    elsif a_json_doc.is_array then</code></li>

            <li class="covered" data-hits="13" data-linenumber="191">
              <span class="hits">13</span>
              <code class="sql">      traverse_array(treat (a_json_doc as json_array_t));</code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">  constructor function ut_json_tree_details(</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">     self in out nocopy ut_json_tree_details, a_json_doc in json_element_t, a_level_in integer := 0</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">   ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="33" data-linenumber="199">
              <span class="hits">33</span>
              <code class="sql">    self.json_tree_info := ut_json_leaf_tab();</code></li>

            <li class="covered" data-hits="33" data-linenumber="200">
              <span class="hits">33</span>
              <code class="sql">    if a_json_doc is not null then</code></li>

            <li class="covered" data-hits="31" data-linenumber="201">
              <span class="hits">31</span>
              <code class="sql">      init(a_json_doc,a_level_in);</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="33" data-linenumber="203">
              <span class="hits">33</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="99D4AD21EA272D4422D3D38CFC118D32"><div class="header"> <h3>UT3.UT_KEY_ANYVALUES</h3><h4><span class="red">42.11 %</span> lines covered</h4><div> <b>19</b> relevant lines. <span class="green"><b>8</b> lines covered</span> and <span class="red"><b>11</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_key_anyvalues as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">  constructor function ut_key_anyvalues(self in out nocopy ut_key_anyvalues) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="225" data-linenumber="20">
              <span class="hits">225</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="225" data-linenumber="21">
              <span class="hits">225</span>
              <code class="sql">    self.pairs := ut_key_anyval_pairs();</code></li>

            <li class="covered" data-hits="225" data-linenumber="22">
              <span class="hits">225</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  member function put(a_item ut_key_anyval_pair) return ut_key_anyvalues is</code></li>

            <li class="covered" data-hits="225" data-linenumber="25">
              <span class="hits">225</span>
              <code class="sql">    l_result ut_key_anyvalues := self;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="225" data-linenumber="27">
              <span class="hits">225</span>
              <code class="sql">    l_result.pairs.extend();</code></li>

            <li class="covered" data-hits="225" data-linenumber="28">
              <span class="hits">225</span>
              <code class="sql">    l_result.pairs(l_result.pairs.last) := a_item;</code></li>

            <li class="covered" data-hits="225" data-linenumber="29">
              <span class="hits">225</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  member function put(a_key varchar2, a_value anydata) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="33">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_anydata(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  member function put(a_key varchar2, a_value blob) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="38">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_blob(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  member function put(a_key varchar2, a_value boolean) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="43">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_boolean(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  member function put(a_key varchar2, a_value clob) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="48">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_clob(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  member function put(a_key varchar2, a_value date) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="53">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_date(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  member function put(a_key varchar2, a_value number) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="58">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_number(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  member function put(a_key varchar2, a_value timestamp_unconstrained) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="62">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_timestamp(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  member function put(a_key varchar2, a_value timestamp_ltz_unconstrained) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="67">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_timestamp_ltz(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  member function put(a_key varchar2, a_value timestamp_tz_unconstrained) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="72">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_timestamp_tz(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  member function put(a_key varchar2, a_value varchar2) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="225" data-linenumber="77">
              <span class="hits">225</span>
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_varchar2(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  member function put(a_key varchar2, a_value yminterval_unconstrained) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="82">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_yminterval(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">  member function put(a_key varchar2, a_value dsinterval_unconstrained) return ut_key_anyvalues is</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="87">
              <code class="sql">    return put(ut_key_anyval_pair(a_key, ut_data_value_dsinterval(a_value)));</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="04A5757FE2A9859812F06CEE4973551E"><div class="header"> <h3>UT3.UT_BE_BETWEEN</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>28</b> relevant lines. <span class="green"><b>28</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_between is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init(self in out nocopy ut_be_between, a_lower_bound ut_data_value, a_upper_bound ut_data_value) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="71" data-linenumber="21">
              <span class="hits">71</span>
              <code class="sql">    self.self_type       := $$plsql_unit;</code></li>

            <li class="covered" data-hits="71" data-linenumber="22">
              <span class="hits">71</span>
              <code class="sql">    self.lower_bound     := a_lower_bound;</code></li>

            <li class="covered" data-hits="71" data-linenumber="23">
              <span class="hits">71</span>
              <code class="sql">    self.upper_bound     := a_upper_bound;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  constructor function ut_be_between(self in out nocopy ut_be_between, a_lower_bound date, a_upper_bound date)</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="29">
              <span class="hits">8</span>
              <code class="sql">    init(ut_data_value_date(a_lower_bound), ut_data_value_date(a_upper_bound));</code></li>

            <li class="covered" data-hits="8" data-linenumber="30">
              <span class="hits">8</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  constructor function ut_be_between(self in out nocopy ut_be_between, a_lower_bound number, a_upper_bound number)</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="35">
              <span class="hits">8</span>
              <code class="sql">    init(ut_data_value_number(a_lower_bound), ut_data_value_number(a_upper_bound));</code></li>

            <li class="covered" data-hits="8" data-linenumber="36">
              <span class="hits">8</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  constructor function ut_be_between(self in out nocopy ut_be_between, a_lower_bound varchar2, a_upper_bound varchar2)</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="41">
              <span class="hits">9</span>
              <code class="sql">    init(ut_data_value_varchar2(a_lower_bound), ut_data_value_varchar2(a_upper_bound));</code></li>

            <li class="covered" data-hits="9" data-linenumber="42">
              <span class="hits">9</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  constructor function ut_be_between(self in out nocopy ut_be_between, a_lower_bound timestamp_unconstrained, a_upper_bound timestamp_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="47">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_timestamp(a_lower_bound), ut_data_value_timestamp(a_upper_bound));</code></li>

            <li class="covered" data-hits="10" data-linenumber="48">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  constructor function ut_be_between(self in out nocopy ut_be_between, a_lower_bound timestamp_tz_unconstrained, a_upper_bound timestamp_tz_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="53">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_timestamp_tz(a_lower_bound), ut_data_value_timestamp_tz(a_upper_bound));</code></li>

            <li class="covered" data-hits="10" data-linenumber="54">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  constructor function ut_be_between(self in out nocopy ut_be_between, a_lower_bound timestamp_ltz_unconstrained, a_upper_bound timestamp_ltz_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="59">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_timestamp_ltz(a_lower_bound), ut_data_value_timestamp_ltz(a_upper_bound));</code></li>

            <li class="covered" data-hits="10" data-linenumber="60">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">  constructor function ut_be_between(self in out nocopy ut_be_between, a_lower_bound yminterval_unconstrained, a_upper_bound yminterval_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="66">
              <span class="hits">8</span>
              <code class="sql">    init(ut_data_value_yminterval(a_lower_bound), ut_data_value_yminterval(a_upper_bound));</code></li>

            <li class="covered" data-hits="8" data-linenumber="67">
              <span class="hits">8</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  constructor function ut_be_between(self in out nocopy ut_be_between, a_lower_bound dsinterval_unconstrained, a_upper_bound dsinterval_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="73">
              <span class="hits">8</span>
              <code class="sql">    init(ut_data_value_dsinterval(a_lower_bound), ut_data_value_dsinterval(a_upper_bound));</code></li>

            <li class="covered" data-hits="8" data-linenumber="74">
              <span class="hits">8</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_between, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">    l_lower_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">    l_upper_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="71" data-linenumber="82">
              <span class="hits">71</span>
              <code class="sql">    if self.lower_bound.data_type = a_actual.data_type then</code></li>

            <li class="covered" data-hits="70" data-linenumber="83">
              <span class="hits">70</span>
              <code class="sql">      l_lower_result := a_actual &gt;= self.lower_bound;</code></li>

            <li class="covered" data-hits="70" data-linenumber="84">
              <span class="hits">70</span>
              <code class="sql">      l_upper_result := a_actual &lt;= self.upper_bound;</code></li>

            <li class="covered" data-hits="70" data-linenumber="85">
              <span class="hits">70</span>
              <code class="sql">      if l_lower_result is not null and l_upper_result is not null then</code></li>

            <li class="covered" data-hits="38" data-linenumber="86">
              <span class="hits">38</span>
              <code class="sql">        l_result := l_lower_result and l_upper_result;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="1" data-linenumber="89">
              <span class="hits">1</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="71" data-linenumber="91">
              <span class="hits">71</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="35" data-linenumber="96">
              <span class="hits">35</span>
              <code class="sql">    return (self as ut_matcher).failure_message(a_actual)</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">           || &apos;: &apos;|| self.lower_bound.to_string_report(true,false)</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">           || &apos; and &apos; || self.upper_bound.to_string_report(a_with_object_info =&gt; false);</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="35" data-linenumber="103">
              <span class="hits">35</span>
              <code class="sql">    return (self as ut_matcher).failure_message_when_negated(a_actual)</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">           || &apos;: &apos;|| self.lower_bound.to_string_report(true,false)</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">           || &apos; and &apos; || self.upper_bound.to_string_report(a_with_object_info =&gt; false);</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="54B70BA383D33219218063052A5E515E"><div class="header"> <h3>UT3.UT_BE_EMPTY</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>6</b> relevant lines. <span class="green"><b>6</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_empty as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init(self in out nocopy ut_be_empty) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="35" data-linenumber="21">
              <span class="hits">35</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  constructor function ut_be_empty(self in out nocopy ut_be_empty) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="35" data-linenumber="26">
              <span class="hits">35</span>
              <code class="sql">    init();</code></li>

            <li class="covered" data-hits="35" data-linenumber="27">
              <span class="hits">35</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_empty, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="35" data-linenumber="33">
              <span class="hits">35</span>
              <code class="sql">    return a_actual.is_empty();</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  exception</code></li>

            <li class="covered" data-hits="12" data-linenumber="35">
              <span class="hits">12</span>
              <code class="sql">    when value_error then</code></li>

            <li class="covered" data-hits="6" data-linenumber="36">
              <span class="hits">6</span>
              <code class="sql">      return (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="54FE1C230A6B00F5DE03A1D48D0AB124"><div class="header"> <h3>UT3.UT_BE_FALSE</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>6</b> relevant lines. <span class="green"><b>6</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_false as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_be_false(self in out nocopy ut_be_false) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="21">
              <span class="hits">8</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="8" data-linenumber="22">
              <span class="hits">8</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_false, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="28">
              <span class="hits">8</span>
              <code class="sql">    if a_actual is of (ut_data_value_boolean) then</code></li>

            <li class="covered" data-hits="6" data-linenumber="29">
              <span class="hits">6</span>
              <code class="sql">      l_result := not ut_utils.int_to_boolean(treat(a_actual as ut_data_value_boolean).data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="2" data-linenumber="31">
              <span class="hits">2</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="8" data-linenumber="33">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="DFD9DAEE74DB021AF52654A1117342AA"><div class="header"> <h3>UT3.UT_BE_GREATER_OR_EQUAL</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>22</b> relevant lines. <span class="green"><b>22</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_greater_or_equal AS</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init(self in out nocopy ut_be_greater_or_equal, a_expected ut_data_value) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="21">
              <span class="hits">29</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="29" data-linenumber="22">
              <span class="hits">29</span>
              <code class="sql">    self.expected  := a_expected;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  constructor function ut_be_greater_or_equal(self in out nocopy ut_be_greater_or_equal, a_expected date) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="27">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_date(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="28">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  constructor function ut_be_greater_or_equal(self in out nocopy ut_be_greater_or_equal, a_expected NUMBER) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="33">
              <span class="hits">5</span>
              <code class="sql">    init(ut_data_value_number(a_expected));</code></li>

            <li class="covered" data-hits="5" data-linenumber="34">
              <span class="hits">5</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  constructor function ut_be_greater_or_equal(self in out nocopy ut_be_greater_or_equal, a_expected timestamp_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="39">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="40">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  constructor function ut_be_greater_or_equal(self in out nocopy ut_be_greater_or_equal, a_expected timestamp_tz_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="45">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp_tz(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="46">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  constructor function ut_be_greater_or_equal(self in out nocopy ut_be_greater_or_equal, a_expected timestamp_ltz_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="51">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp_ltz(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="52">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  constructor function ut_be_greater_or_equal(self in out nocopy ut_be_greater_or_equal, a_expected yminterval_unconstrained) return self as RESULT IS</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="57">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_yminterval(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="58">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  constructor function ut_be_greater_or_equal(self in out nocopy ut_be_greater_or_equal, a_expected dsinterval_unconstrained) return self as RESULT IS</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="63">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_dsinterval(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="64">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_greater_or_equal, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="70">
              <span class="hits">29</span>
              <code class="sql">    if self.expected.data_type = a_actual.data_type then</code></li>

            <li class="covered" data-hits="28" data-linenumber="71">
              <span class="hits">28</span>
              <code class="sql">        l_result := a_actual &gt;= self.expected;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="1" data-linenumber="73">
              <span class="hits">1</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="29" data-linenumber="75">
              <span class="hits">29</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="21" data-linenumber="80">
              <span class="hits">21</span>
              <code class="sql">    return (self as ut_matcher).failure_message(a_actual) || &apos;: &apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="85">
              <span class="hits">7</span>
              <code class="sql">    return (self as ut_matcher).failure_message_when_negated(a_actual) || &apos;: &apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="FEBB479A976E1570843380CB2084A7D8"><div class="header"> <h3>UT3.UT_BE_GREATER_THAN</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>22</b> relevant lines. <span class="green"><b>22</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_greater_than AS</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init(self in out nocopy ut_be_greater_than, a_expected ut_data_value) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="30" data-linenumber="21">
              <span class="hits">30</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="30" data-linenumber="22">
              <span class="hits">30</span>
              <code class="sql">    self.expected  := a_expected;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  constructor function ut_be_greater_than(self in out nocopy ut_be_greater_than, a_expected date) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="27">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_date(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="28">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  constructor function ut_be_greater_than(self in out nocopy ut_be_greater_than, a_expected NUMBER) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="33">
              <span class="hits">6</span>
              <code class="sql">    init(ut_data_value_number(a_expected));</code></li>

            <li class="covered" data-hits="6" data-linenumber="34">
              <span class="hits">6</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  constructor function ut_be_greater_than(self in out nocopy ut_be_greater_than, a_expected timestamp_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="39">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="40">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  constructor function ut_be_greater_than(self in out nocopy ut_be_greater_than, a_expected timestamp_tz_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="45">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp_tz(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="46">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  constructor function ut_be_greater_than(self in out nocopy ut_be_greater_than, a_expected timestamp_ltz_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="51">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp_ltz(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="52">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  constructor function ut_be_greater_than(self in out nocopy ut_be_greater_than, a_expected yminterval_unconstrained) return self as RESULT IS</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="57">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_yminterval(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="58">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  constructor function ut_be_greater_than(self in out nocopy ut_be_greater_than, a_expected dsinterval_unconstrained) return self as RESULT IS</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="63">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_dsinterval(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="64">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_greater_than, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="30" data-linenumber="70">
              <span class="hits">30</span>
              <code class="sql">    if self.expected.data_type = a_actual.data_type then</code></li>

            <li class="covered" data-hits="29" data-linenumber="71">
              <span class="hits">29</span>
              <code class="sql">        l_result := a_actual &gt; self.expected;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="1" data-linenumber="73">
              <span class="hits">1</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="30" data-linenumber="75">
              <span class="hits">30</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="22" data-linenumber="80">
              <span class="hits">22</span>
              <code class="sql">    return (self as ut_matcher).failure_message(a_actual) || &apos;: &apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="85">
              <span class="hits">7</span>
              <code class="sql">    return (self as ut_matcher).failure_message_when_negated(a_actual) || &apos;: &apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="7CE4BBFA061F34F2719241F79467C9C4"><div class="header"> <h3>UT3.UT_BE_LESS_OR_EQUAL</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>22</b> relevant lines. <span class="green"><b>22</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_less_or_equal AS</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init(self in out nocopy ut_be_less_or_equal, a_expected ut_data_value) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="21">
              <span class="hits">29</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="29" data-linenumber="22">
              <span class="hits">29</span>
              <code class="sql">    self.expected  := a_expected;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  constructor function ut_be_less_or_equal(self in out nocopy ut_be_less_or_equal, a_expected date) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="27">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_date(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="28">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  constructor function ut_be_less_or_equal(self in out nocopy ut_be_less_or_equal, a_expected NUMBER) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="33">
              <span class="hits">5</span>
              <code class="sql">    init(ut_data_value_number(a_expected));</code></li>

            <li class="covered" data-hits="5" data-linenumber="34">
              <span class="hits">5</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  constructor function ut_be_less_or_equal(self in out nocopy ut_be_less_or_equal, a_expected timestamp_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="39">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="40">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  constructor function ut_be_less_or_equal(self in out nocopy ut_be_less_or_equal, a_expected timestamp_tz_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="45">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp_tz(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="46">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  constructor function ut_be_less_or_equal(self in out nocopy ut_be_less_or_equal, a_expected timestamp_ltz_unconstrained) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="51">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp_ltz(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="52">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  constructor function ut_be_less_or_equal(self in out nocopy ut_be_less_or_equal, a_expected yminterval_unconstrained) return self as RESULT IS</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="57">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_yminterval(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="58">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  constructor function ut_be_less_or_equal(self in out nocopy ut_be_less_or_equal, a_expected dsinterval_unconstrained) return self as RESULT IS</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="63">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_dsinterval(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="64">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_less_or_equal, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="70">
              <span class="hits">29</span>
              <code class="sql">    if self.expected.data_type = a_actual.data_type then</code></li>

            <li class="covered" data-hits="28" data-linenumber="71">
              <span class="hits">28</span>
              <code class="sql">        l_result := a_actual &lt;= self.expected;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="1" data-linenumber="73">
              <span class="hits">1</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="29" data-linenumber="75">
              <span class="hits">29</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="21" data-linenumber="80">
              <span class="hits">21</span>
              <code class="sql">    return (self as ut_matcher).failure_message(a_actual) || &apos;: &apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="85">
              <span class="hits">7</span>
              <code class="sql">    return (self as ut_matcher).failure_message_when_negated(a_actual) || &apos;: &apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="E8F9E96A129E82CBB3750A7D1FB9A456"><div class="header"> <h3>UT3.UT_BE_LESS_THAN</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>22</b> relevant lines. <span class="green"><b>22</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_less_than as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init(self in out nocopy ut_be_less_than, a_expected ut_data_value) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="21">
              <span class="hits">29</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="29" data-linenumber="22">
              <span class="hits">29</span>
              <code class="sql">    self.expected  := a_expected;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  constructor function ut_be_less_than(self in out nocopy ut_be_less_than, a_expected date) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="27">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_date(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="28">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  constructor function ut_be_less_than(self in out nocopy ut_be_less_than, a_expected number) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="33">
              <span class="hits">5</span>
              <code class="sql">    init(ut_data_value_number(a_expected));</code></li>

            <li class="covered" data-hits="5" data-linenumber="34">
              <span class="hits">5</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  constructor function ut_be_less_than(self in out nocopy ut_be_less_than, a_expected timestamp_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="40">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="41">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  constructor function ut_be_less_than(self in out nocopy ut_be_less_than, a_expected timestamp_tz_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="47">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp_tz(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="48">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  constructor function ut_be_less_than(self in out nocopy ut_be_less_than, a_expected timestamp_ltz_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="54">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_timestamp_ltz(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="55">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  constructor function ut_be_less_than(self in out nocopy ut_be_less_than, a_expected yminterval_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="61">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_yminterval(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="62">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  constructor function ut_be_less_than(self in out nocopy ut_be_less_than, a_expected dsinterval_unconstrained)</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">    return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="68">
              <span class="hits">4</span>
              <code class="sql">    init(ut_data_value_dsinterval(a_expected));</code></li>

            <li class="covered" data-hits="4" data-linenumber="69">
              <span class="hits">4</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_less_than, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="75">
              <span class="hits">29</span>
              <code class="sql">    if self.expected.data_type = a_actual.data_type then</code></li>

            <li class="covered" data-hits="28" data-linenumber="76">
              <span class="hits">28</span>
              <code class="sql">        l_result := a_actual &lt; self.expected;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="1" data-linenumber="78">
              <span class="hits">1</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="29" data-linenumber="80">
              <span class="hits">29</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="21" data-linenumber="85">
              <span class="hits">21</span>
              <code class="sql">    return (self as ut_matcher).failure_message(a_actual) || &apos;: &apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="90">
              <span class="hits">7</span>
              <code class="sql">    return (self as ut_matcher).failure_message_when_negated(a_actual) || &apos;: &apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="AF355067D7F3AAFB2FE4F36BC4758124"><div class="header"> <h3>UT3.UT_BE_LIKE</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>23</b> relevant lines. <span class="green"><b>23</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_like as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_be_like(self in out nocopy ut_be_like, a_mask in varchar2, a_escape_char in varchar2 := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="17" data-linenumber="21">
              <span class="hits">17</span>
              <code class="sql">    self.self_type   := $$plsql_unit;</code></li>

            <li class="covered" data-hits="17" data-linenumber="22">
              <span class="hits">17</span>
              <code class="sql">    self.mask        := a_mask;</code></li>

            <li class="covered" data-hits="17" data-linenumber="23">
              <span class="hits">17</span>
              <code class="sql">    self.escape_char := a_escape_char;</code></li>

            <li class="covered" data-hits="17" data-linenumber="24">
              <span class="hits">17</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end ut_be_like;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_like, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">    l_value  clob;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="17" data-linenumber="31">
              <span class="hits">17</span>
              <code class="sql">    if a_actual is of (ut_data_value_varchar2, ut_data_value_clob) then</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="covered" data-hits="16" data-linenumber="33">
              <span class="hits">16</span>
              <code class="sql">      if a_actual is of (ut_data_value_varchar2) then</code></li>

            <li class="covered" data-hits="8" data-linenumber="34">
              <span class="hits">8</span>
              <code class="sql">        l_value := treat(a_actual as ut_data_value_varchar2).data_value;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="8" data-linenumber="36">
              <span class="hits">8</span>
              <code class="sql">        l_value := treat(a_actual as ut_data_value_clob).data_value;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="covered" data-hits="16" data-linenumber="39">
              <span class="hits">16</span>
              <code class="sql">      if escape_char is not null then</code></li>

            <li class="covered" data-hits="8" data-linenumber="40">
              <span class="hits">8</span>
              <code class="sql">        l_result := l_value like mask escape escape_char;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="8" data-linenumber="42">
              <span class="hits">8</span>
              <code class="sql">        l_result := l_value like mask;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="1" data-linenumber="45">
              <span class="hits">1</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="17" data-linenumber="47">
              <span class="hits">17</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  end run_matcher;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="53">
              <span class="hits">8</span>
              <code class="sql">    l_result := (self as ut_matcher).failure_message(a_actual);</code></li>

            <li class="covered" data-hits="8" data-linenumber="54">
              <span class="hits">8</span>
              <code class="sql">    if self.escape_char is not null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="55">
              <span class="hits">4</span>
              <code class="sql">      l_result := l_result || &apos;: &apos;|| ut_data_value_varchar2(self.mask).to_string_report(true, false) || &apos;, escape &apos;&apos;&apos; || self.escape_char ||&apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="4" data-linenumber="57">
              <span class="hits">4</span>
              <code class="sql">      l_result := l_result || &apos;: &apos;|| ut_data_value_varchar2(self.mask).to_string_report(false, false);</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="8" data-linenumber="59">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="65">
              <span class="hits">8</span>
              <code class="sql">    l_result := (self as ut_matcher).failure_message_when_negated(a_actual);</code></li>

            <li class="covered" data-hits="8" data-linenumber="66">
              <span class="hits">8</span>
              <code class="sql">    if self.escape_char is not null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="67">
              <span class="hits">4</span>
              <code class="sql">      l_result := l_result || &apos;: &apos;|| ut_data_value_varchar2(self.mask).to_string_report(true, false) || &apos;, escape &apos;&apos;&apos; || self.escape_char ||&apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="4" data-linenumber="69">
              <span class="hits">4</span>
              <code class="sql">      l_result := l_result || &apos;: &apos;|| ut_data_value_varchar2(self.mask).to_string_report(false, false);</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="8" data-linenumber="71">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="32CB7F4C75799EA5B512B920A7DFC2B6"><div class="header"> <h3>UT3.UT_BE_NOT_NULL</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>3</b> relevant lines. <span class="green"><b>3</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_not_null as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_be_not_null(self in out nocopy ut_be_not_null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="30" data-linenumber="21">
              <span class="hits">30</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="30" data-linenumber="22">
              <span class="hits">30</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_not_null, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="30" data-linenumber="27">
              <span class="hits">30</span>
              <code class="sql">    return not a_actual.is_null;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="5351C0E617584889B00F21F5240F1502"><div class="header"> <h3>UT3.UT_BE_NULL</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>3</b> relevant lines. <span class="green"><b>3</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_null as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_be_null(self in out nocopy ut_be_null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="72" data-linenumber="21">
              <span class="hits">72</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="72" data-linenumber="22">
              <span class="hits">72</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_null, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="72" data-linenumber="27">
              <span class="hits">72</span>
              <code class="sql">    return a_actual.is_null;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="8E2A2AE5B98523DAE53FD11779390CC9"><div class="header"> <h3>UT3.UT_BE_TRUE</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>6</b> relevant lines. <span class="green"><b>6</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_be_true as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_be_true(self in out nocopy ut_be_true) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="21">
              <span class="hits">8</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="8" data-linenumber="22">
              <span class="hits">8</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_be_true, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="28">
              <span class="hits">8</span>
              <code class="sql">    if a_actual is of (ut_data_value_boolean) then</code></li>

            <li class="covered" data-hits="6" data-linenumber="29">
              <span class="hits">6</span>
              <code class="sql">      l_result := ut_utils.int_to_boolean( treat(a_actual as ut_data_value_boolean).data_value);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="2" data-linenumber="31">
              <span class="hits">2</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="8" data-linenumber="33">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="73BD0B8D5E88FDBE6C87BC54E37F030F"><div class="header"> <h3>UT3.UT_COMPARISON_MATCHER</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>3</b> relevant lines. <span class="green"><b>3</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_comparison_matcher as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  overriding member function error_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="512" data-linenumber="22">
              <span class="hits">512</span>
              <code class="sql">    if ut_utils.int_to_boolean(self.is_errored) then</code></li>

            <li class="covered" data-hits="43" data-linenumber="23">
              <span class="hits">43</span>
              <code class="sql">      l_result := &apos;Actual (&apos;||a_actual.data_type||&apos;) cannot be compared to Expected (&apos;||expected.data_type||&apos;) using matcher &apos;&apos;&apos;||self.name()||&apos;&apos;&apos;.&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="512" data-linenumber="25">
              <span class="hits">512</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="D644CDE3C7919DCD70F4C0FEFA582D35"><div class="header"> <h3>UT3.UT_CONTAIN</h3><h4><span class="yellow">87.5 %</span> lines covered</h4><div> <b>16</b> relevant lines. <span class="green"><b>14</b> lines covered</span> and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_contain as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_contain(self in out nocopy ut_contain, a_expected sys_refcursor) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="18" data-linenumber="21">
              <span class="hits">18</span>
              <code class="sql">    self.init(ut_data_value_refcursor(a_expected), null, $$plsql_unit);</code></li>

            <li class="covered" data-hits="18" data-linenumber="22">
              <span class="hits">18</span>
              <code class="sql">    self.options.unordered();</code></li>

            <li class="covered" data-hits="18" data-linenumber="23">
              <span class="hits">18</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  constructor function ut_contain(self in out nocopy ut_contain, a_expected anydata) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="28">
              <span class="hits">2</span>
              <code class="sql">    self.init(ut_data_value_anydata(a_expected), null, $$plsql_unit);</code></li>

            <li class="covered" data-hits="2" data-linenumber="29">
              <span class="hits">2</span>
              <code class="sql">    self.options.unordered();</code></li>

            <li class="covered" data-hits="2" data-linenumber="30">
              <span class="hits">2</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_contain, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="20" data-linenumber="36">
              <span class="hits">20</span>
              <code class="sql">    if self.expected.data_type = a_actual.data_type then</code></li>

            <li class="covered" data-hits="20" data-linenumber="37">
              <span class="hits">20</span>
              <code class="sql">      l_result :=</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">        ( 0</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">          = treat( self.expected as ut_data_value_refcursor )</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">            .compare_implementation( a_actual, self.options, true, self.is_negated() )</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="43">
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="20" data-linenumber="45">
              <span class="hits">20</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  overriding member function run_matcher_negated(self in out nocopy ut_contain, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="50">
              <span class="hits">5</span>
              <code class="sql">    return run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="15" data-linenumber="56">
              <span class="hits">15</span>
              <code class="sql">    if self.expected.data_type = a_actual.data_type and self.expected.is_diffable then</code></li>

            <li class="covered" data-hits="15" data-linenumber="57">
              <span class="hits">15</span>
              <code class="sql">      l_result :=</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">        &apos;Actual: &apos;||a_actual.get_object_info()||self.description()||&apos;: &apos;||self.expected.get_object_info()</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">        ||  treat(expected as ut_data_value_refcursor).diff( a_actual, self.options );</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="61">
              <code class="sql">      l_result := (self as ut_matcher).failure_message(a_actual) || &apos;: &apos;|| self.expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="15" data-linenumber="63">
              <span class="hits">15</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="69">
              <span class="hits">5</span>
              <code class="sql">    return (self as ut_matcher).failure_message_when_negated(a_actual) || &apos;:&apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="A1167C86C11AC263F85716FB36C7FDC8"><div class="header"> <h3>UT3.UT_EQUAL</h3><h4><span class="green">91.4 %</span> lines covered</h4><div> <b>93</b> relevant lines. <span class="green"><b>85</b> lines covered</span> and <span class="red"><b>8</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_equal as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member procedure init(self in out nocopy ut_equal, a_expected ut_data_value, a_nulls_are_equal boolean, a_self_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="395" data-linenumber="21">
              <span class="hits">395</span>
              <code class="sql">    self.expected  := a_expected;</code></li>

            <li class="covered" data-hits="395" data-linenumber="22">
              <span class="hits">395</span>
              <code class="sql">    self.options := ut_matcher_options( a_nulls_are_equal );</code></li>

            <li class="covered" data-hits="395" data-linenumber="23">
              <span class="hits">395</span>
              <code class="sql">    self.self_type := nvl( a_self_type, $$plsql_unit );</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  member function equal_with_nulls(a_assert_result boolean, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="511" data-linenumber="28">
              <span class="hits">511</span>
              <code class="sql">    ut_utils.debug_log(&apos;ut_equal.equal_with_nulls :&apos; || ut_utils.to_test_result(a_assert_result) || &apos;:&apos;);</code></li>

            <li class="covered" data-hits="511" data-linenumber="29">
              <span class="hits">511</span>
              <code class="sql">    return ( a_assert_result or ( self.expected.is_null() and a_actual.is_null() and options.nulls_are_equal ) );</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected anydata, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="60" data-linenumber="34">
              <span class="hits">60</span>
              <code class="sql">    init(ut_data_value_anydata(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="60" data-linenumber="35">
              <span class="hits">60</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected anydata, a_exclude varchar2, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_deprecated integer;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="41">
              <span class="hits">1</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">      &apos;equal( a_expected anydata, a_exclude varchar2 )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">      &apos;equal( a_expected anydata ).exclude( a_exclude varchar2 )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="45">
              <span class="hits">1</span>
              <code class="sql">    init(ut_data_value_anydata(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="1" data-linenumber="46">
              <span class="hits">1</span>
              <code class="sql">    self.options.exclude.add_items(a_exclude);</code></li>

            <li class="covered" data-hits="1" data-linenumber="47">
              <span class="hits">1</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected anydata, a_exclude ut_varchar2_list, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="52">
              <span class="hits">1</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">      &apos;equal( a_expected anydata, a_exclude ut_varchar2_list )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      &apos;equal( a_expected anydata ).exclude( a_exclude ut_varchar2_list )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="56">
              <span class="hits">1</span>
              <code class="sql">    init(ut_data_value_anydata(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="1" data-linenumber="57">
              <span class="hits">1</span>
              <code class="sql">    self.options.exclude.add_items(a_exclude);</code></li>

            <li class="covered" data-hits="1" data-linenumber="58">
              <span class="hits">1</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected blob, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="63">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_blob(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="10" data-linenumber="64">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected boolean, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="13" data-linenumber="69">
              <span class="hits">13</span>
              <code class="sql">    init(ut_data_value_boolean(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="13" data-linenumber="70">
              <span class="hits">13</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected clob, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="75">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_clob(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="10" data-linenumber="76">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected date, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="81">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_date(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="10" data-linenumber="82">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected number, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="75" data-linenumber="87">
              <span class="hits">75</span>
              <code class="sql">    init(ut_data_value_number(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="75" data-linenumber="88">
              <span class="hits">75</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected sys_refcursor, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="108" data-linenumber="93">
              <span class="hits">108</span>
              <code class="sql">    init(ut_data_value_refcursor(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="106" data-linenumber="94">
              <span class="hits">106</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected sys_refcursor, a_exclude varchar2, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="99">
              <span class="hits">1</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">      &apos;equal( a_expected sys_refcursor, a_exclude varchar2 )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">      &apos;equal( a_expected sys_refcursor ).exclude( a_exclude varchar2 )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="103">
              <span class="hits">1</span>
              <code class="sql">    init(ut_data_value_refcursor(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="1" data-linenumber="104">
              <span class="hits">1</span>
              <code class="sql">    self.options.exclude.add_items(a_exclude);</code></li>

            <li class="covered" data-hits="1" data-linenumber="105">
              <span class="hits">1</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected sys_refcursor, a_exclude ut_varchar2_list, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="110">
              <span class="hits">1</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">      &apos;equal( a_expected sys_refcursor, a_exclude ut_varchar2_list )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">      &apos;equal( a_expected sys_refcursor ).exclude( a_exclude ut_varchar2_list )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="114">
              <span class="hits">1</span>
              <code class="sql">    init(ut_data_value_refcursor(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="1" data-linenumber="115">
              <span class="hits">1</span>
              <code class="sql">    self.options.exclude.add_items(a_exclude);</code></li>

            <li class="covered" data-hits="1" data-linenumber="116">
              <span class="hits">1</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected timestamp_unconstrained, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="12" data-linenumber="121">
              <span class="hits">12</span>
              <code class="sql">    init(ut_data_value_timestamp(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="12" data-linenumber="122">
              <span class="hits">12</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected timestamp_tz_unconstrained, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="127">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_timestamp_tz(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="10" data-linenumber="128">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected timestamp_ltz_unconstrained, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="133">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_timestamp_ltz(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="10" data-linenumber="134">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected varchar2, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="25" data-linenumber="139">
              <span class="hits">25</span>
              <code class="sql">    init(ut_data_value_varchar2(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="25" data-linenumber="140">
              <span class="hits">25</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected yminterval_unconstrained, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="145">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_yminterval(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="10" data-linenumber="146">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected dsinterval_unconstrained, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="151">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_dsinterval(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="10" data-linenumber="152">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">  constructor function ut_equal(self in out nocopy ut_equal, a_expected json_element_t, a_nulls_are_equal boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="157">
              <span class="hits">10</span>
              <code class="sql">    init(ut_data_value_json(a_expected), a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="10" data-linenumber="158">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">  member function include(a_items varchar2) return ut_equal is</code></li>

            <li class="missed" data-hits="0" data-linenumber="162">
              <code class="sql">    l_result ut_equal := self;</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="164">
              <code class="sql">    l_result.options.include.add_items(a_items);</code></li>

            <li class="missed" data-hits="0" data-linenumber="165">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">  member function include(a_items ut_varchar2_list) return ut_equal is</code></li>

            <li class="covered" data-hits="22" data-linenumber="169">
              <span class="hits">22</span>
              <code class="sql">    l_result ut_equal := self;</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="22" data-linenumber="171">
              <span class="hits">22</span>
              <code class="sql">    l_result.options.include.add_items(a_items);</code></li>

            <li class="covered" data-hits="22" data-linenumber="172">
              <span class="hits">22</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">  member function exclude(a_items varchar2) return ut_equal is</code></li>

            <li class="covered" data-hits="11" data-linenumber="176">
              <span class="hits">11</span>
              <code class="sql">    l_result ut_equal := self;</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="11" data-linenumber="178">
              <span class="hits">11</span>
              <code class="sql">    l_result.options.exclude.add_items(a_items);</code></li>

            <li class="covered" data-hits="11" data-linenumber="179">
              <span class="hits">11</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">  member function exclude(a_items ut_varchar2_list) return ut_equal is</code></li>

            <li class="covered" data-hits="23" data-linenumber="183">
              <span class="hits">23</span>
              <code class="sql">    l_result ut_equal := self;</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="23" data-linenumber="185">
              <span class="hits">23</span>
              <code class="sql">    l_result.options.exclude.add_items(a_items);</code></li>

            <li class="covered" data-hits="23" data-linenumber="186">
              <span class="hits">23</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">  member function unordered return ut_equal is</code></li>

            <li class="covered" data-hits="15" data-linenumber="190">
              <span class="hits">15</span>
              <code class="sql">    l_result ut_equal := self;</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="15" data-linenumber="192">
              <span class="hits">15</span>
              <code class="sql">    l_result.options.unordered();</code></li>

            <li class="covered" data-hits="15" data-linenumber="193">
              <span class="hits">15</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">  member function join_by(a_columns varchar2) return ut_equal is</code></li>

            <li class="missed" data-hits="0" data-linenumber="197">
              <code class="sql">    l_result ut_equal := self;</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="199">
              <code class="sql">    l_result.options.unordered();</code></li>

            <li class="missed" data-hits="0" data-linenumber="200">
              <code class="sql">    l_result.options.join_by.add_items(a_columns);</code></li>

            <li class="missed" data-hits="0" data-linenumber="201">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">  member function join_by(a_columns ut_varchar2_list) return ut_equal is</code></li>

            <li class="covered" data-hits="42" data-linenumber="205">
              <span class="hits">42</span>
              <code class="sql">    l_result ut_equal := self;</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="42" data-linenumber="207">
              <span class="hits">42</span>
              <code class="sql">    l_result.options.unordered();</code></li>

            <li class="covered" data-hits="42" data-linenumber="208">
              <span class="hits">42</span>
              <code class="sql">    l_result.options.join_by.add_items(a_columns);</code></li>

            <li class="covered" data-hits="42" data-linenumber="209">
              <span class="hits">42</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="211">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">  member function uc return ut_equal is</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="214">
              <code class="sql">    return unordered_columns;</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">  member function unordered_columns return ut_equal is</code></li>

            <li class="covered" data-hits="10" data-linenumber="218">
              <span class="hits">10</span>
              <code class="sql">    l_result ut_equal := self;</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="220">
              <span class="hits">10</span>
              <code class="sql">    l_result.options.unordered_columns();</code></li>

            <li class="covered" data-hits="10" data-linenumber="221">
              <span class="hits">10</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_equal, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="375" data-linenumber="227">
              <span class="hits">375</span>
              <code class="sql">    if self.expected.data_type = a_actual.data_type then</code></li>

            <li class="covered" data-hits="336" data-linenumber="228">
              <span class="hits">336</span>
              <code class="sql">      if self.expected is of (ut_data_value_anydata) then</code></li>

            <li class="covered" data-hits="55" data-linenumber="229">
              <span class="hits">55</span>
              <code class="sql">        l_result := 0 = treat(self.expected as ut_data_value_anydata).compare_implementation( a_actual, options );</code></li>

            <li class="covered" data-hits="281" data-linenumber="230">
              <span class="hits">281</span>
              <code class="sql">      elsif self.expected is of (ut_data_value_refcursor) then</code></li>

            <li class="covered" data-hits="106" data-linenumber="231">
              <span class="hits">106</span>
              <code class="sql">        l_result := 0 = treat(self.expected as ut_data_value_refcursor).compare_implementation( a_actual, options );</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="175" data-linenumber="233">
              <span class="hits">175</span>
              <code class="sql">        l_result := equal_with_nulls((self.expected = a_actual), a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="336" data-linenumber="235">
              <span class="hits">336</span>
              <code class="sql">      l_result := equal_with_nulls( l_result, a_actual );</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="39" data-linenumber="237">
              <span class="hits">39</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="375" data-linenumber="239">
              <span class="hits">375</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="329" data-linenumber="245">
              <span class="hits">329</span>
              <code class="sql">    if self.expected.data_type = a_actual.data_type and self.expected.is_diffable then</code></li>

            <li class="covered" data-hits="164" data-linenumber="246">
              <span class="hits">164</span>
              <code class="sql">        l_result :=</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">          &apos;Actual: &apos;||a_actual.get_object_info()||self.description()||&apos;: &apos;||self.expected.get_object_info()</code></li>

            <li class="covered" data-hits="1" data-linenumber="248">
              <span class="hits">1</span>
              <code class="sql">          ||case</code></li>

            <li class="covered" data-hits="1" data-linenumber="249">
              <span class="hits">1</span>
              <code class="sql">              when  self.expected is of (ut_data_value_refcursor) then</code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql">                treat(expected as ut_data_value_refcursor).diff( a_actual, options )</code></li>

            <li class="covered" data-hits="1" data-linenumber="251">
              <span class="hits">1</span>
              <code class="sql">              when self.expected is of (ut_data_value_json) then</code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql">                treat(expected as ut_data_value_json).diff( a_actual, options )</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql">            else</code></li>

            <li class="never" data-hits="" data-linenumber="254">
            <code class="sql">                expected.diff( a_actual, options )</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql">            end;</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="165" data-linenumber="257">
              <span class="hits">165</span>
              <code class="sql">      l_result := (self as ut_matcher).failure_message(a_actual) || &apos;: &apos;|| self.expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="329" data-linenumber="259">
              <span class="hits">329</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="262">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="265">
              <span class="hits">7</span>
              <code class="sql">    return (self as ut_matcher).failure_message_when_negated(a_actual) || &apos;: &apos;|| expected.to_string_report();</code></li>

            <li class="never" data-hits="" data-linenumber="266">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="267">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="268">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="0223DB9BEE878F7A0A7F91296CDBAD93"><div class="header"> <h3>UT3.UT_HAVE_COUNT</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>11</b> relevant lines. <span class="green"><b>11</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_have_count as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_have_count(self in out nocopy ut_have_count, a_expected integer) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="25" data-linenumber="21">
              <span class="hits">25</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="25" data-linenumber="22">
              <span class="hits">25</span>
              <code class="sql">    self.expected  := a_expected;</code></li>

            <li class="covered" data-hits="25" data-linenumber="23">
              <span class="hits">25</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_have_count, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="25" data-linenumber="29">
              <span class="hits">25</span>
              <code class="sql">    if a_actual is of(ut_data_value_refcursor) and ( treat (a_actual as ut_data_value_refcursor).compound_type != &apos;object&apos;) then</code></li>

            <li class="covered" data-hits="14" data-linenumber="30">
              <span class="hits">14</span>
              <code class="sql">      l_result := ( self.expected = treat(a_actual as ut_data_value_refcursor).elements_count );</code></li>

            <li class="covered" data-hits="11" data-linenumber="31">
              <span class="hits">11</span>
              <code class="sql">    elsif a_actual is of(ut_data_value_json) then</code></li>

            <li class="covered" data-hits="5" data-linenumber="32">
              <span class="hits">5</span>
              <code class="sql">      l_result := ( self.expected = treat(a_actual as ut_data_value_json).get_elements_count );</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="6" data-linenumber="34">
              <span class="hits">6</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="25" data-linenumber="36">
              <span class="hits">25</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="12" data-linenumber="41">
              <span class="hits">12</span>
              <code class="sql">    return &apos;Actual: (&apos; || case when a_actual is of (ut_data_value_json) then</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">      treat(a_actual as ut_data_value_json).get_json_count_info()  else a_actual.get_object_info() end||</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">      &apos;) was expected to have [ count = &apos;||ut_utils.to_string(self.expected)||&apos; ]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="48">
              <span class="hits">7</span>
              <code class="sql">    return &apos;Actual: &apos; || case when a_actual is of (ut_data_value_json) then</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">      treat(a_actual as ut_data_value_json).get_json_count_info()  else a_actual.get_object_info() end||</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">      &apos; was expected not to have [ count = &apos;||ut_utils.to_string(self.expected)||&apos; ]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="3BF9C9477EE88A413A14E15C65659099"><div class="header"> <h3>UT3.UT_MATCH</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>20</b> relevant lines. <span class="green"><b>20</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_match as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_match(self in out nocopy ut_match, a_pattern in varchar2, a_modifiers in varchar2 default null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="17" data-linenumber="21">
              <span class="hits">17</span>
              <code class="sql">    self.self_type := $$plsql_unit;</code></li>

            <li class="covered" data-hits="17" data-linenumber="22">
              <span class="hits">17</span>
              <code class="sql">    self.pattern   := a_pattern;</code></li>

            <li class="covered" data-hits="17" data-linenumber="23">
              <span class="hits">17</span>
              <code class="sql">    self.modifiers := a_modifiers;</code></li>

            <li class="covered" data-hits="17" data-linenumber="24">
              <span class="hits">17</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function run_matcher(self in out nocopy ut_match, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">    l_result boolean;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="17" data-linenumber="30">
              <span class="hits">17</span>
              <code class="sql">    if a_actual is of (ut_data_value_varchar2) then</code></li>

            <li class="covered" data-hits="8" data-linenumber="31">
              <span class="hits">8</span>
              <code class="sql">      l_result := regexp_like(treat(a_actual as ut_data_value_varchar2).data_value, pattern, modifiers);</code></li>

            <li class="covered" data-hits="9" data-linenumber="32">
              <span class="hits">9</span>
              <code class="sql">    elsif a_actual is of (ut_data_value_clob) then</code></li>

            <li class="covered" data-hits="8" data-linenumber="33">
              <span class="hits">8</span>
              <code class="sql">      l_result := regexp_like(treat(a_actual as ut_data_value_clob).data_value, pattern, modifiers);</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="1" data-linenumber="35">
              <span class="hits">1</span>
              <code class="sql">      l_result := (self as ut_matcher).run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="17" data-linenumber="37">
              <span class="hits">17</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  overriding member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="43">
              <span class="hits">8</span>
              <code class="sql">    l_result := (self as ut_matcher).failure_message(a_actual);</code></li>

            <li class="covered" data-hits="8" data-linenumber="44">
              <span class="hits">8</span>
              <code class="sql">    if self.modifiers is not null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="45">
              <span class="hits">4</span>
              <code class="sql">      l_result := l_result || &apos;: &apos;|| ut_data_value_varchar2(self.pattern).to_string_report(true, false) || &apos;, modifiers &apos;&apos;&apos; || self.modifiers ||&apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="4" data-linenumber="47">
              <span class="hits">4</span>
              <code class="sql">      l_result := l_result || &apos;: &apos;|| ut_data_value_varchar2(self.pattern).to_string_report(false, false);</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="8" data-linenumber="49">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  overriding member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="55">
              <span class="hits">8</span>
              <code class="sql">    l_result := (self as ut_matcher).failure_message_when_negated(a_actual);</code></li>

            <li class="covered" data-hits="8" data-linenumber="56">
              <span class="hits">8</span>
              <code class="sql">    if self.modifiers is not null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="57">
              <span class="hits">4</span>
              <code class="sql">      l_result := l_result || &apos;: &apos;|| ut_data_value_varchar2(self.pattern).to_string_report(true, false) || &apos;, modifiers &apos;&apos;&apos; || self.modifiers ||&apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="4" data-linenumber="59">
              <span class="hits">4</span>
              <code class="sql">      l_result := l_result || &apos;: &apos;|| ut_data_value_varchar2(self.pattern).to_string_report(false, false);</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="8" data-linenumber="61">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="AD0DD1210207E8EACFE1420C38563383"><div class="header"> <h3>UT3.UT_MATCHER</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>17</b> relevant lines. <span class="green"><b>17</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_matcher as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  member function run_matcher(self in out nocopy ut_matcher, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="62" data-linenumber="21">
              <span class="hits">62</span>
              <code class="sql">    ut_utils.debug_log(&apos;Failure - ut_matcher.run_matcher&apos;||&apos;(a_actual &apos;||a_actual.data_type||&apos;)&apos;);</code></li>

            <li class="covered" data-hits="62" data-linenumber="22">
              <span class="hits">62</span>
              <code class="sql">    self.is_errored := ut_utils.boolean_to_int(true);</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">--     self.error_message := &apos;The matcher &apos;&apos;&apos;||name()||&apos;&apos;&apos; cannot be used&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">--     if self.expected is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">--       self.error_message := self.error_message ||&apos; for comparison of data type (&apos;||self.expected.data_type||&apos;)&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">--     end if;</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">--     self.error_message := self.error_message ||&apos; with data type (&apos;||a_actual.data_type||&apos;).&apos;;</code></li>

            <li class="covered" data-hits="62" data-linenumber="28">
              <span class="hits">62</span>
              <code class="sql">    return null;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  member function run_matcher_negated(self in out nocopy ut_matcher, a_actual ut_data_value) return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="169" data-linenumber="33">
              <span class="hits">169</span>
              <code class="sql">    return not run_matcher(a_actual);</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  member function name return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="776" data-linenumber="38">
              <span class="hits">776</span>
              <code class="sql">    return replace(ltrim(lower(self.self_type),&apos;ut_&apos;),&apos;_&apos;,&apos; &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  member function description return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="573" data-linenumber="43">
              <span class="hits">573</span>
              <code class="sql">    return &apos; was expected to &apos;||name();</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  member function description_when_negated return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="141" data-linenumber="48">
              <span class="hits">141</span>
              <code class="sql">    return &apos; was expected not to &apos;||name();</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  member function error_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="283" data-linenumber="54">
              <span class="hits">283</span>
              <code class="sql">    if ut_utils.int_to_boolean(self.is_errored) then</code></li>

            <li class="covered" data-hits="19" data-linenumber="55">
              <span class="hits">19</span>
              <code class="sql">      l_result := &apos;The matcher &apos;&apos;&apos;||name()||&apos;&apos;&apos; cannot be used with data type (&apos;||a_actual.data_type||&apos;).&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="283" data-linenumber="57">
              <span class="hits">283</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  member function failure_message(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="394" data-linenumber="62">
              <span class="hits">394</span>
              <code class="sql">    return  &apos;Actual: &apos; || a_actual.to_string_report(true) || description();</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  member function failure_message_when_negated(a_actual ut_data_value) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="141" data-linenumber="67">
              <span class="hits">141</span>
              <code class="sql">    return  &apos;Actual: &apos; || a_actual.to_string_report(true) || description_when_negated();</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  member procedure negated is</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="72">
              <span class="hits">6</span>
              <code class="sql">    is_negated_flag := ut_utils.boolean_to_int(true);</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  member function negated return ut_matcher is</code></li>

            <li class="covered" data-hits="6" data-linenumber="76">
              <span class="hits">6</span>
              <code class="sql">    l_result ut_matcher := self;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="78">
              <span class="hits">6</span>
              <code class="sql">    l_result.negated();</code></li>

            <li class="covered" data-hits="6" data-linenumber="79">
              <span class="hits">6</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">  member function is_negated return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="645" data-linenumber="84">
              <span class="hits">645</span>
              <code class="sql">    return coalesce(ut_utils.int_to_boolean(is_negated_flag), false);</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="BE7CAFEFF2C3C27B9D3BEA05964FB8B1"><div class="header"> <h3>UT3.UT_MATCHER_OPTIONS</h3><h4><span class="green">92.31 %</span> lines covered</h4><div> <b>13</b> relevant lines. <span class="green"><b>12</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_matcher_options as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_matcher_options(self in out nocopy ut_matcher_options, a_nulls_are_equal in boolean := null) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="395" data-linenumber="21">
              <span class="hits">395</span>
              <code class="sql">    nulls_are_equal_flag := ut_utils.boolean_to_int( coalesce(a_nulls_are_equal, ut_expectation_processor.nulls_are_equal()) );</code></li>

            <li class="covered" data-hits="395" data-linenumber="22">
              <span class="hits">395</span>
              <code class="sql">    is_unordered := ut_utils.boolean_to_int(false);</code></li>

            <li class="covered" data-hits="395" data-linenumber="23">
              <span class="hits">395</span>
              <code class="sql">    columns_are_unordered_flag := ut_utils.boolean_to_int(false);</code></li>

            <li class="covered" data-hits="395" data-linenumber="24">
              <span class="hits">395</span>
              <code class="sql">    include := ut_matcher_options_items();</code></li>

            <li class="covered" data-hits="395" data-linenumber="25">
              <span class="hits">395</span>
              <code class="sql">    exclude := ut_matcher_options_items();</code></li>

            <li class="covered" data-hits="395" data-linenumber="26">
              <span class="hits">395</span>
              <code class="sql">    join_by := ut_matcher_options_items();</code></li>

            <li class="covered" data-hits="395" data-linenumber="27">
              <span class="hits">395</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  member procedure nulls_are_equal(self in out nocopy ut_matcher_options) is</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="32">
              <code class="sql">    self.nulls_are_equal_flag := ut_utils.boolean_to_int(true);</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  member function nulls_are_equal return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="66" data-linenumber="37">
              <span class="hits">66</span>
              <code class="sql">    return ut_utils.int_to_boolean(self.nulls_are_equal_flag);</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  member procedure unordered_columns(self in out nocopy ut_matcher_options) is</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="42">
              <span class="hits">10</span>
              <code class="sql">    columns_are_unordered_flag := ut_utils.boolean_to_int(true);</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  member function ordered_columns return boolean is</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="213" data-linenumber="47">
              <span class="hits">213</span>
              <code class="sql">    return not ut_utils.int_to_boolean(columns_are_unordered_flag);</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  member procedure unordered(self in out nocopy ut_matcher_options) is</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="77" data-linenumber="52">
              <span class="hits">77</span>
              <code class="sql">    is_unordered := ut_utils.boolean_to_int(true);</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  member function unordered return boolean  is</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="452" data-linenumber="57">
              <span class="hits">452</span>
              <code class="sql">    return ut_utils.int_to_boolean(is_unordered);</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="164942C44B44A3C2D22A5649BD38762C"><div class="header"> <h3>UT3.UT_MATCHER_OPTIONS_ITEMS</h3><h4><span class="yellow">88.89 %</span> lines covered</h4><div> <b>9</b> relevant lines. <span class="green"><b>8</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_matcher_options_items is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_matcher_options_items(self in out nocopy ut_matcher_options_items) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1185" data-linenumber="21">
              <span class="hits">1185</span>
              <code class="sql">    items := ut_varchar2_list();</code></li>

            <li class="covered" data-hits="1185" data-linenumber="22">
              <span class="hits">1185</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  member procedure add_items(self in out nocopy ut_matcher_options_items, a_items varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="136" data-linenumber="27">
              <span class="hits">136</span>
              <code class="sql">    items :=</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">      items</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">        multiset union all</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">      ut_utils.filter_list(</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">        ut_utils.trim_list_elements(</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">          ut_utils.string_to_table( replace( a_items , &apos;|&apos;, &apos;,&apos; ), &apos;,&apos; )</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">        , &apos;.+&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  member procedure add_items(self in out nocopy ut_matcher_options_items, a_items ut_varchar2_list) is</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_idx binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="89" data-linenumber="41">
              <span class="hits">89</span>
              <code class="sql">    if a_items is not null then</code></li>

            <li class="covered" data-hits="89" data-linenumber="42">
              <span class="hits">89</span>
              <code class="sql">      l_idx := a_items.first;</code></li>

            <li class="covered" data-hits="212" data-linenumber="43">
              <span class="hits">212</span>
              <code class="sql">      while l_idx is not null loop</code></li>

            <li class="covered" data-hits="123" data-linenumber="44">
              <span class="hits">123</span>
              <code class="sql">        add_items( a_items(l_idx) );</code></li>

            <li class="covered" data-hits="123" data-linenumber="45">
              <span class="hits">123</span>
              <code class="sql">        l_idx := a_items.next(l_idx);</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  member function to_xpath return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="52">
              <code class="sql">    return ut_utils.to_xpath(items);</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="3769ACE2F1075831943C1B83D79D22C2"><div class="header"> <h3>UT3.UT_EXPECTATION</h3><h4><span class="green">98.62 %</span> lines covered</h4><div> <b>145</b> relevant lines. <span class="green"><b>143</b> lines covered</span> and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_expectation as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql">  member procedure to_(self in ut_expectation, a_matcher ut_matcher) is</code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">    l_expectation_result boolean;</code></li>

            <li class="covered" data-hits="625" data-linenumber="20">
              <span class="hits">625</span>
              <code class="sql">    l_matcher       ut_matcher := a_matcher;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">    l_message       varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="625" data-linenumber="23">
              <span class="hits">625</span>
              <code class="sql">    if a_matcher.is_negated() then</code></li>

            <li class="covered" data-hits="4" data-linenumber="24">
              <span class="hits">4</span>
              <code class="sql">      self.not_to( a_matcher );</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="621" data-linenumber="26">
              <span class="hits">621</span>
              <code class="sql">      l_expectation_result := l_matcher.run_matcher( self.actual_data );</code></li>

            <li class="covered" data-hits="621" data-linenumber="27">
              <span class="hits">621</span>
              <code class="sql">      l_expectation_result := coalesce(l_expectation_result,false);</code></li>

            <li class="covered" data-hits="621" data-linenumber="28">
              <span class="hits">621</span>
              <code class="sql">      l_message := coalesce( l_matcher.error_message( self.actual_data ), l_matcher.failure_message( self.actual_data ) );</code></li>

            <li class="covered" data-hits="621" data-linenumber="29">
              <span class="hits">621</span>
              <code class="sql">      ut_expectation_processor.add_expectation_result( ut_expectation_result( ut_utils.to_test_result( l_expectation_result ), self.description, l_message ) );</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  member procedure not_to(self in ut_expectation, a_matcher ut_matcher) is</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    l_expectation_result boolean;</code></li>

            <li class="covered" data-hits="174" data-linenumber="35">
              <span class="hits">174</span>
              <code class="sql">    l_matcher       ut_matcher := a_matcher;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    l_message       varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="174" data-linenumber="38">
              <span class="hits">174</span>
              <code class="sql">    l_expectation_result := coalesce( l_matcher.run_matcher_negated( self.actual_data ), false );</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql"></code></li>

            <li class="covered" data-hits="174" data-linenumber="40">
              <span class="hits">174</span>
              <code class="sql">    l_message := coalesce( l_matcher.error_message( self.actual_data ), l_matcher.failure_message_when_negated( self.actual_data ) );</code></li>

            <li class="covered" data-hits="174" data-linenumber="41">
              <span class="hits">174</span>
              <code class="sql">    ut_expectation_processor.add_expectation_result( ut_expectation_result( ut_utils.to_test_result( l_expectation_result ), self.description, l_message ) );</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  member procedure to_be_null(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="42" data-linenumber="46">
              <span class="hits">42</span>
              <code class="sql">    self.to_( ut_be_null() );</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  member procedure to_be_not_null(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="51">
              <span class="hits">29</span>
              <code class="sql">    self.to_( ut_be_not_null() );</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  member procedure not_to_be_null(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="30" data-linenumber="56">
              <span class="hits">30</span>
              <code class="sql">    self.not_to( ut_be_null() );</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  member procedure not_to_be_not_null(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="61">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_not_null() );</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  member procedure to_be_true(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="66">
              <span class="hits">4</span>
              <code class="sql">    self.to_( ut_be_true() );</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">  member procedure to_be_false(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="71">
              <span class="hits">4</span>
              <code class="sql">    self.to_( ut_be_false() );</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  member procedure not_to_be_true(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="76">
              <span class="hits">4</span>
              <code class="sql">    self.not_to( ut_be_true() );</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  member procedure not_to_be_false(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="81">
              <span class="hits">4</span>
              <code class="sql">    self.not_to( ut_be_false() );</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  member procedure to_be_empty(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="14" data-linenumber="86">
              <span class="hits">14</span>
              <code class="sql">    self.to_( ut_be_empty() );</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  member procedure not_to_be_empty(self in ut_expectation) is</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="11" data-linenumber="91">
              <span class="hits">11</span>
              <code class="sql">    self.not_to( ut_be_empty() );</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected anydata, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="32" data-linenumber="96">
              <span class="hits">32</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected anydata, a_exclude varchar2, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="101">
              <span class="hits">4</span>
              <code class="sql">    ut_expectation_processor.add_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">        ut_utils.build_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">            &apos;to_equal( a_expected anydata, a_exclude varchar2 )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">            &apos;to_equal( a_expected anydata ).exclude( a_exclude varchar2 )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">        )</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="4" data-linenumber="107">
              <span class="hits">4</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal).exclude(a_exclude) );</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected anydata, a_exclude ut_varchar2_list, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="112">
              <span class="hits">2</span>
              <code class="sql">    ut_expectation_processor.add_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">        ut_utils.build_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">            &apos;to_equal( a_expected anydata, a_exclude ut_varchar2_list )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">            &apos;to_equal( a_expected anydata ).exclude( a_exclude ut_varchar2_list )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">        )</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="2" data-linenumber="118">
              <span class="hits">2</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal).exclude(a_exclude) );</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected blob, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="123">
              <span class="hits">9</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected boolean, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="11" data-linenumber="128">
              <span class="hits">11</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected clob, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="133">
              <span class="hits">9</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected date, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="138">
              <span class="hits">9</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected number, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="73" data-linenumber="143">
              <span class="hits">73</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected sys_refcursor, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="38" data-linenumber="148">
              <span class="hits">38</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected sys_refcursor, a_exclude varchar2, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="153">
              <span class="hits">5</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">      &apos;to_equal( a_expected sys_refcursor, a_exclude varchar2 )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">      &apos;to_equal( a_expected sys_refcursor ).exclude( a_exclude varchar2 )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="5" data-linenumber="157">
              <span class="hits">5</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal).exclude(a_exclude) );</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected sys_refcursor, a_exclude ut_varchar2_list, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="162">
              <span class="hits">4</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">      &apos;to_equal( a_expected sys_refcursor, a_exclude ut_varchar2_list )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">      &apos;to_equal( a_expected sys_refcursor ).exclude( a_exclude ut_varchar2_list )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="4" data-linenumber="166">
              <span class="hits">4</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal).exclude(a_exclude) );</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected timestamp_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="171">
              <span class="hits">10</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected timestamp_ltz_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="176">
              <span class="hits">9</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected timestamp_tz_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="181">
              <span class="hits">9</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected varchar2, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="23" data-linenumber="186">
              <span class="hits">23</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected yminterval_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="191">
              <span class="hits">9</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected dsinterval_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="196">
              <span class="hits">9</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">  member procedure to_equal(self in ut_expectation, a_expected json_element_t, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="201">
              <span class="hits">10</span>
              <code class="sql">    self.to_( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected anydata, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="206">
              <span class="hits">3</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="208">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected anydata, a_exclude varchar2, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="211">
              <span class="hits">1</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">      &apos;not_to_equal( a_expected anydata, a_exclude varchar2 )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql">      &apos;not_to_equal( a_expected anydata ).exclude( a_exclude varchar2 )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="215">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal).exclude(a_exclude) );</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected anydata, a_exclude ut_varchar2_list, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="220">
              <span class="hits">1</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">      &apos;not_to_equal( a_expected anydata, a_exclude ut_varchar2_list )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">      &apos;not_to_equal( a_expected anydata ).exclude( a_exclude ut_varchar2_list )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="224">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal).exclude(a_exclude) );</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected blob, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="229">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected boolean, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="234">
              <span class="hits">2</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected clob, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="239">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected date, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="244">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected number, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="249">
              <span class="hits">2</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="251">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected sys_refcursor, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="254">
              <span class="hits">2</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="255">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected sys_refcursor, a_exclude varchar2, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="259">
              <span class="hits">1</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">      &apos;not_to_equal( a_expected sys_refcursor, a_exclude varchar2 )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql">      &apos;not_to_equal( a_expected sys_refcursor ).exclude( a_exclude varchar2 )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="262">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="263">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal).exclude(a_exclude) );</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="266">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected sys_refcursor, a_exclude ut_varchar2_list, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="267">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="268">
              <span class="hits">1</span>
              <code class="sql">    ut_expectation_processor.add_depreciation_warning(</code></li>

            <li class="never" data-hits="" data-linenumber="269">
            <code class="sql">      &apos;not_to_equal( a_expected sys_refcursor, a_exclude ut_varchar2_list )&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="270">
            <code class="sql">      &apos;not_to_equal( a_expected sys_refcursor ).exclude( a_exclude ut_varchar2_list )&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="1" data-linenumber="272">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal).exclude(a_exclude) );</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected timestamp_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="276">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="277">
              <span class="hits">2</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="278">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="279">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="280">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected timestamp_ltz_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="282">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="283">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="285">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected timestamp_tz_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="286">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="287">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="288">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="289">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected varchar2, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="291">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="292">
              <span class="hits">2</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="293">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="294">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="295">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected yminterval_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="296">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="297">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="298">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="299">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="300">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected dsinterval_unconstrained, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="301">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="302">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="303">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="304">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="305">
            <code class="sql">  member procedure not_to_equal(self in ut_expectation, a_expected json_element_t, a_nulls_are_equal boolean := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="306">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="307">
              <code class="sql">    self.not_to( ut_equal(a_expected, a_nulls_are_equal) );</code></li>

            <li class="never" data-hits="" data-linenumber="308">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="309">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="310">
            <code class="sql">  member procedure to_be_like(self in ut_expectation, a_mask in varchar2, a_escape_char in varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="311">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="312">
              <span class="hits">9</span>
              <code class="sql">    self.to_( ut_be_like(a_mask, a_escape_char) );</code></li>

            <li class="never" data-hits="" data-linenumber="313">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="314">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="315">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql">  member procedure to_match(self in ut_expectation, a_pattern in varchar2, a_modifiers in varchar2 default null) is</code></li>

            <li class="never" data-hits="" data-linenumber="317">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="9" data-linenumber="318">
              <span class="hits">9</span>
              <code class="sql">    self.to_( ut_match(a_pattern, a_modifiers) );</code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="320">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="321">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="322">
            <code class="sql">  member procedure not_to_be_like(self in ut_expectation, a_mask in varchar2, a_escape_char in varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="323">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="324">
              <span class="hits">8</span>
              <code class="sql">    self.not_to( ut_be_like(a_mask, a_escape_char) );</code></li>

            <li class="never" data-hits="" data-linenumber="325">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="326">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="327">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="328">
            <code class="sql">  member procedure not_to_match(self in ut_expectation, a_pattern in varchar2, a_modifiers in varchar2 default null) is</code></li>

            <li class="never" data-hits="" data-linenumber="329">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="330">
              <span class="hits">8</span>
              <code class="sql">    self.not_to( ut_match(a_pattern, a_modifiers) );</code></li>

            <li class="never" data-hits="" data-linenumber="331">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="332">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="333">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="334">
            <code class="sql">  member procedure to_be_between(self in ut_expectation, a_lower_bound date, a_upper_bound date) is</code></li>

            <li class="never" data-hits="" data-linenumber="335">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="336">
              <span class="hits">4</span>
              <code class="sql">    self.to_( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="337">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="338">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="339">
            <code class="sql">  member procedure to_be_between(self in ut_expectation, a_lower_bound dsinterval_unconstrained, a_upper_bound dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="340">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="341">
              <span class="hits">4</span>
              <code class="sql">    self.to_( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="342">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="343">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="344">
            <code class="sql">  member procedure to_be_between(self in ut_expectation, a_lower_bound number, a_upper_bound number) is</code></li>

            <li class="never" data-hits="" data-linenumber="345">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="346">
              <span class="hits">4</span>
              <code class="sql">    self.to_( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="347">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="348">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="349">
            <code class="sql">  member procedure to_be_between(self in ut_expectation, a_lower_bound timestamp_unconstrained, a_upper_bound timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="350">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="351">
              <span class="hits">5</span>
              <code class="sql">    self.to_( ut_be_between(a_lower_bound, a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="352">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="353">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="354">
            <code class="sql">  member procedure to_be_between(self in ut_expectation, a_lower_bound timestamp_ltz_unconstrained, a_upper_bound timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="355">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="356">
              <span class="hits">5</span>
              <code class="sql">    self.to_( ut_be_between(a_lower_bound, a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="357">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="358">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="359">
            <code class="sql">  member procedure to_be_between(self in ut_expectation, a_lower_bound timestamp_tz_unconstrained, a_upper_bound timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="360">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="361">
              <span class="hits">5</span>
              <code class="sql">    self.to_( ut_be_between(a_lower_bound, a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="362">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="363">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="364">
            <code class="sql">  member procedure to_be_between(self in ut_expectation, a_lower_bound varchar2, a_upper_bound varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="365">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="366">
              <span class="hits">5</span>
              <code class="sql">    self.to_( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="367">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="368">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="369">
            <code class="sql">  member procedure to_be_between(self in ut_expectation, a_lower_bound yminterval_unconstrained, a_upper_bound yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="370">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="371">
              <span class="hits">4</span>
              <code class="sql">    self.to_( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="372">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="373">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="374">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="375">
            <code class="sql">  member procedure to_be_greater_or_equal(self in ut_expectation, a_expected date) is</code></li>

            <li class="never" data-hits="" data-linenumber="376">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="377">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="378">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="379">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="380">
            <code class="sql">  member procedure to_be_greater_or_equal(self in ut_expectation, a_expected dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="381">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="382">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="383">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="384">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="385">
            <code class="sql">  member procedure to_be_greater_or_equal(self in ut_expectation, a_expected number) is</code></li>

            <li class="never" data-hits="" data-linenumber="386">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="387">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="388">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="389">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="390">
            <code class="sql">  member procedure to_be_greater_or_equal(self in ut_expectation, a_expected timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="391">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="392">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="393">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="394">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="395">
            <code class="sql">  member procedure to_be_greater_or_equal(self in ut_expectation, a_expected timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="396">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="397">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="398">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="399">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="400">
            <code class="sql">  member procedure to_be_greater_or_equal(self in ut_expectation, a_expected timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="401">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="402">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="403">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="404">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="405">
            <code class="sql">  member procedure to_be_greater_or_equal(self in ut_expectation, a_expected yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="406">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="407">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="408">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="409">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="410">
            <code class="sql">  member procedure to_be_greater_than(self in ut_expectation, a_expected date) is</code></li>

            <li class="never" data-hits="" data-linenumber="411">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="412">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="413">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="414">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="415">
            <code class="sql">  member procedure to_be_greater_than(self in ut_expectation, a_expected dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="416">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="417">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="418">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="419">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="420">
            <code class="sql">  member procedure to_be_greater_than(self in ut_expectation, a_expected number) is</code></li>

            <li class="never" data-hits="" data-linenumber="421">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="422">
              <span class="hits">4</span>
              <code class="sql">    self.to_( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="423">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="424">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="425">
            <code class="sql">  member procedure to_be_greater_than(self in ut_expectation, a_expected timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="426">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="427">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="428">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="429">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="430">
            <code class="sql">  member procedure to_be_greater_than(self in ut_expectation, a_expected timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="431">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="432">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="433">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="434">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="435">
            <code class="sql">  member procedure to_be_greater_than(self in ut_expectation, a_expected timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="436">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="437">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="438">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="439">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="440">
            <code class="sql">  member procedure to_be_greater_than(self in ut_expectation, a_expected yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="441">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="442">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="443">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="444">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="445">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="446">
            <code class="sql">  member procedure to_be_less_or_equal(self in ut_expectation, a_expected date) is</code></li>

            <li class="never" data-hits="" data-linenumber="447">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="448">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="449">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="450">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="451">
            <code class="sql">  member procedure to_be_less_or_equal(self in ut_expectation, a_expected dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="452">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="453">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="454">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="455">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="456">
            <code class="sql">  member procedure to_be_less_or_equal(self in ut_expectation, a_expected number) is</code></li>

            <li class="never" data-hits="" data-linenumber="457">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="458">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="459">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="460">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="461">
            <code class="sql">  member procedure to_be_less_or_equal(self in ut_expectation, a_expected timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="462">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="463">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="464">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="465">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="466">
            <code class="sql">  member procedure to_be_less_or_equal(self in ut_expectation, a_expected timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="467">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="468">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="469">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="470">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="471">
            <code class="sql">  member procedure to_be_less_or_equal(self in ut_expectation, a_expected timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="472">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="473">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="474">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="475">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="476">
            <code class="sql">  member procedure to_be_less_or_equal(self in ut_expectation, a_expected yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="477">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="478">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="479">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="480">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="481">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="482">
            <code class="sql">  member procedure to_be_less_than(self in ut_expectation, a_expected date) is</code></li>

            <li class="never" data-hits="" data-linenumber="483">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="484">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="485">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="486">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="487">
            <code class="sql">  member procedure to_be_less_than(self in ut_expectation, a_expected dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="488">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="489">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="490">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="491">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="492">
            <code class="sql">  member procedure to_be_less_than(self in ut_expectation, a_expected number) is</code></li>

            <li class="never" data-hits="" data-linenumber="493">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="494">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="495">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="496">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="497">
            <code class="sql">  member procedure to_be_less_than(self in ut_expectation, a_expected timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="498">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="499">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="500">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="501">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="502">
            <code class="sql">  member procedure to_be_less_than(self in ut_expectation, a_expected timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="503">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="504">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="505">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="506">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="507">
            <code class="sql">  member procedure to_be_less_than(self in ut_expectation, a_expected timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="508">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="509">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="510">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="511">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="512">
            <code class="sql">  member procedure to_be_less_than(self in ut_expectation, a_expected yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="513">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="514">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="515">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="516">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="517">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="518">
            <code class="sql">  member procedure not_to_be_between(self in ut_expectation, a_lower_bound date, a_upper_bound date) is</code></li>

            <li class="never" data-hits="" data-linenumber="519">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="520">
              <span class="hits">4</span>
              <code class="sql">    self.not_to( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="521">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="522">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="523">
            <code class="sql">  member procedure not_to_be_between(self in ut_expectation, a_lower_bound dsinterval_unconstrained, a_upper_bound dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="524">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="525">
              <span class="hits">4</span>
              <code class="sql">    self.not_to( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="526">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="527">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="528">
            <code class="sql">  member procedure not_to_be_between(self in ut_expectation, a_lower_bound number, a_upper_bound number) is</code></li>

            <li class="never" data-hits="" data-linenumber="529">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="530">
              <span class="hits">4</span>
              <code class="sql">    self.not_to( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="531">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="532">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="533">
            <code class="sql">  member procedure not_to_be_between(self in ut_expectation, a_lower_bound timestamp_unconstrained, a_upper_bound timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="534">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="535">
              <span class="hits">5</span>
              <code class="sql">    self.not_to( ut_be_between(a_lower_bound, a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="536">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="537">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="538">
            <code class="sql">  member procedure not_to_be_between(self in ut_expectation, a_lower_bound timestamp_ltz_unconstrained, a_upper_bound timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="539">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="540">
              <span class="hits">5</span>
              <code class="sql">    self.not_to( ut_be_between(a_lower_bound, a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="541">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="542">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="543">
            <code class="sql">  member procedure not_to_be_between(self in ut_expectation, a_lower_bound timestamp_tz_unconstrained, a_upper_bound timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="544">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="545">
              <span class="hits">5</span>
              <code class="sql">    self.not_to( ut_be_between(a_lower_bound, a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="546">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="547">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="548">
            <code class="sql">  member procedure not_to_be_between(self in ut_expectation, a_lower_bound varchar2, a_upper_bound varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="549">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="550">
              <span class="hits">4</span>
              <code class="sql">    self.not_to( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="551">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="552">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="553">
            <code class="sql">  member procedure not_to_be_between(self in ut_expectation, a_lower_bound yminterval_unconstrained, a_upper_bound yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="554">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="555">
              <span class="hits">4</span>
              <code class="sql">    self.not_to( ut_be_between(a_lower_bound,a_upper_bound) );</code></li>

            <li class="never" data-hits="" data-linenumber="556">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="557">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="558">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="559">
            <code class="sql">  member procedure not_to_be_greater_or_equal(self in ut_expectation, a_expected date) is</code></li>

            <li class="never" data-hits="" data-linenumber="560">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="561">
              <span class="hits">1</span>
              <code class="sql">    self.not_to(  ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="562">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="563">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="564">
            <code class="sql">  member procedure not_to_be_greater_or_equal(self in ut_expectation, a_expected dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="565">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="566">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="567">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="568">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="569">
            <code class="sql">  member procedure not_to_be_greater_or_equal(self in ut_expectation, a_expected number) is</code></li>

            <li class="never" data-hits="" data-linenumber="570">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="571">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="572">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="573">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="574">
            <code class="sql">  member procedure not_to_be_greater_or_equal(self in ut_expectation, a_expected timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="575">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="576">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="577">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="578">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="579">
            <code class="sql">  member procedure not_to_be_greater_or_equal(self in ut_expectation, a_expected timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="580">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="581">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="582">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="583">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="584">
            <code class="sql">  member procedure not_to_be_greater_or_equal(self in ut_expectation, a_expected timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="585">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="586">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="587">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="588">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="589">
            <code class="sql">  member procedure not_to_be_greater_or_equal(self in ut_expectation, a_expected yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="590">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="591">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="592">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="593">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="594">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="595">
            <code class="sql">  member procedure not_to_be_greater_than(self in ut_expectation, a_expected date) is</code></li>

            <li class="never" data-hits="" data-linenumber="596">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="597">
              <span class="hits">1</span>
              <code class="sql">    self.not_to(  ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="598">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="599">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="600">
            <code class="sql">  member procedure not_to_be_greater_than(self in ut_expectation, a_expected dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="601">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="602">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="603">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="604">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="605">
            <code class="sql">  member procedure not_to_be_greater_than(self in ut_expectation, a_expected number) is</code></li>

            <li class="never" data-hits="" data-linenumber="606">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="607">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="608">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="609">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="610">
            <code class="sql">  member procedure not_to_be_greater_than(self in ut_expectation, a_expected timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="611">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="612">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="613">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="614">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="615">
            <code class="sql">  member procedure not_to_be_greater_than(self in ut_expectation, a_expected timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="616">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="617">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="618">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="619">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="620">
            <code class="sql">  member procedure not_to_be_greater_than(self in ut_expectation, a_expected timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="621">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="622">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="623">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="624">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="625">
            <code class="sql">  member procedure not_to_be_greater_than(self in ut_expectation, a_expected yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="626">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="627">
              <span class="hits">1</span>
              <code class="sql">    self.not_to(  ut_be_greater_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="628">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="629">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="630">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="631">
            <code class="sql">  member procedure not_to_be_less_or_equal(self in ut_expectation, a_expected date) is</code></li>

            <li class="never" data-hits="" data-linenumber="632">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="633">
              <span class="hits">1</span>
              <code class="sql">    self.not_to(  ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="634">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="635">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="636">
            <code class="sql">  member procedure not_to_be_less_or_equal(self in ut_expectation, a_expected dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="637">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="638">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="639">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="640">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="641">
            <code class="sql">  member procedure not_to_be_less_or_equal(self in ut_expectation, a_expected number) is</code></li>

            <li class="never" data-hits="" data-linenumber="642">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="643">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="644">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="645">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="646">
            <code class="sql">  member procedure not_to_be_less_or_equal(self in ut_expectation, a_expected timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="647">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="648">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="649">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="650">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="651">
            <code class="sql">  member procedure not_to_be_less_or_equal(self in ut_expectation, a_expected timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="652">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="653">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="654">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="655">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="656">
            <code class="sql">  member procedure not_to_be_less_or_equal(self in ut_expectation, a_expected timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="657">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="658">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="659">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="660">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="661">
            <code class="sql">  member procedure not_to_be_less_or_equal(self in ut_expectation, a_expected yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="662">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="663">
              <span class="hits">1</span>
              <code class="sql">    self.not_to(  ut_be_less_or_equal (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="664">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="665">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="666">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="667">
            <code class="sql">  member procedure not_to_be_less_than(self in ut_expectation, a_expected date) is</code></li>

            <li class="never" data-hits="" data-linenumber="668">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="669">
              <span class="hits">1</span>
              <code class="sql">    self.not_to(  ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="670">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="671">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="672">
            <code class="sql">  member procedure not_to_be_less_than(self in ut_expectation, a_expected dsinterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="673">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="674">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="675">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="676">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="677">
            <code class="sql">  member procedure not_to_be_less_than(self in ut_expectation, a_expected number) is</code></li>

            <li class="never" data-hits="" data-linenumber="678">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="679">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="680">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="681">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="682">
            <code class="sql">  member procedure not_to_be_less_than(self in ut_expectation, a_expected timestamp_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="683">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="684">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="685">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="686">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="687">
            <code class="sql">  member procedure not_to_be_less_than(self in ut_expectation, a_expected timestamp_ltz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="688">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="689">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="690">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="691">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="692">
            <code class="sql">  member procedure not_to_be_less_than(self in ut_expectation, a_expected timestamp_tz_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="693">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="694">
              <span class="hits">1</span>
              <code class="sql">    self.not_to( ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="695">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="696">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="697">
            <code class="sql">  member procedure not_to_be_less_than(self in ut_expectation, a_expected yminterval_unconstrained) is</code></li>

            <li class="never" data-hits="" data-linenumber="698">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="699">
              <span class="hits">1</span>
              <code class="sql">    self.not_to(  ut_be_less_than (a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="700">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="701">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="702">
            <code class="sql">  member procedure to_contain(self in ut_expectation, a_expected sys_refcursor) is</code></li>

            <li class="never" data-hits="" data-linenumber="703">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="704">
              <span class="hits">5</span>
              <code class="sql">    self.to_( ut_contain(a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="705">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="706">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="707">
            <code class="sql">  member procedure not_to_contain(self in ut_expectation, a_expected sys_refcursor) is</code></li>

            <li class="never" data-hits="" data-linenumber="708">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="709">
              <span class="hits">2</span>
              <code class="sql">    self.not_to( ut_contain(a_expected).negated() );</code></li>

            <li class="never" data-hits="" data-linenumber="710">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="711">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="712">
            <code class="sql">  member procedure to_contain(self in ut_expectation, a_expected anydata) is</code></li>

            <li class="never" data-hits="" data-linenumber="713">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="714">
              <span class="hits">2</span>
              <code class="sql">    self.to_( ut_contain(a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="715">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="716">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="717">
            <code class="sql">  member procedure not_to_contain(self in ut_expectation, a_expected anydata) is</code></li>

            <li class="never" data-hits="" data-linenumber="718">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="719">
              <code class="sql">    self.not_to( ut_contain(a_expected).negated() );</code></li>

            <li class="never" data-hits="" data-linenumber="720">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="721">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="722">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="A659E9166621A7E72A595C3ABA0EF6A7"><div class="header"> <h3>UT3.UT_EXPECTATION_COMPOUND</h3><h4><span class="red">77.19 %</span> lines covered</h4><div> <b>57</b> relevant lines. <span class="green"><b>44</b> lines covered</span> and <span class="red"><b>13</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_expectation_compound as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_expectation_compound(self in out nocopy ut_expectation_compound, a_actual_data ut_data_value, a_description varchar2) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="259" data-linenumber="21">
              <span class="hits">259</span>
              <code class="sql">    self.actual_data := a_actual_data;</code></li>

            <li class="covered" data-hits="259" data-linenumber="22">
              <span class="hits">259</span>
              <code class="sql">    self.description := a_description;</code></li>

            <li class="covered" data-hits="259" data-linenumber="23">
              <span class="hits">259</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  member procedure to_have_count(self in ut_expectation_compound, a_expected integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="11" data-linenumber="28">
              <span class="hits">11</span>
              <code class="sql">    self.to_( ut_have_count(a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  member procedure not_to_have_count(self in ut_expectation_compound, a_expected integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="33">
              <span class="hits">7</span>
              <code class="sql">    self.not_to( ut_have_count(a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  member function to_equal(a_expected anydata, a_nulls_are_equal boolean := null) return ut_expectation_compound is</code></li>

            <li class="covered" data-hits="16" data-linenumber="38">
              <span class="hits">16</span>
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="16" data-linenumber="40">
              <span class="hits">16</span>
              <code class="sql">    l_result.matcher := ut_equal(a_expected, a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="16" data-linenumber="41">
              <span class="hits">16</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  member function not_to_equal(a_expected anydata, a_nulls_are_equal boolean := null) return ut_expectation_compound is</code></li>

            <li class="covered" data-hits="1" data-linenumber="45">
              <span class="hits">1</span>
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="47">
              <span class="hits">1</span>
              <code class="sql">    l_result.matcher := ut_equal(a_expected, a_nulls_are_equal).negated();</code></li>

            <li class="covered" data-hits="1" data-linenumber="48">
              <span class="hits">1</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">   member function to_equal(a_expected sys_refcursor, a_nulls_are_equal boolean := null) return ut_expectation_compound is</code></li>

            <li class="covered" data-hits="57" data-linenumber="52">
              <span class="hits">57</span>
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="57" data-linenumber="54">
              <span class="hits">57</span>
              <code class="sql">    l_result.matcher := ut_equal(a_expected, a_nulls_are_equal);</code></li>

            <li class="covered" data-hits="57" data-linenumber="55">
              <span class="hits">57</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  member function not_to_equal(a_expected sys_refcursor, a_nulls_are_equal boolean := null) return ut_expectation_compound is</code></li>

            <li class="missed" data-hits="0" data-linenumber="59">
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="61">
              <code class="sql">    l_result.matcher := ut_equal(a_expected, a_nulls_are_equal).negated();</code></li>

            <li class="missed" data-hits="0" data-linenumber="62">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  member function to_contain(a_expected sys_refcursor) return ut_expectation_compound is</code></li>

            <li class="covered" data-hits="8" data-linenumber="66">
              <span class="hits">8</span>
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="68">
              <span class="hits">8</span>
              <code class="sql">    l_result.matcher := ut_contain(a_expected);</code></li>

            <li class="covered" data-hits="8" data-linenumber="69">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">  member function not_to_contain(a_expected sys_refcursor) return ut_expectation_compound is</code></li>

            <li class="covered" data-hits="3" data-linenumber="73">
              <span class="hits">3</span>
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="75">
              <span class="hits">3</span>
              <code class="sql">    l_result.matcher := ut_contain(a_expected).negated();</code></li>

            <li class="covered" data-hits="3" data-linenumber="76">
              <span class="hits">3</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">  member function to_contain(a_expected anydata) return ut_expectation_compound is</code></li>

            <li class="missed" data-hits="0" data-linenumber="80">
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="82">
              <code class="sql">    l_result.matcher := ut_contain(a_expected);</code></li>

            <li class="missed" data-hits="0" data-linenumber="83">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  member function not_to_contain(a_expected anydata) return ut_expectation_compound is</code></li>

            <li class="missed" data-hits="0" data-linenumber="87">
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="89">
              <code class="sql">    l_result.matcher := ut_contain(a_expected).negated();</code></li>

            <li class="missed" data-hits="0" data-linenumber="90">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">  member function include(a_items varchar2) return ut_expectation_compound is</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="95">
              <span class="hits">1</span>
              <code class="sql">    return include( ut_varchar2_list( a_items ) );</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  member function include(a_items ut_varchar2_list) return ut_expectation_compound is</code></li>

            <li class="covered" data-hits="6" data-linenumber="99">
              <span class="hits">6</span>
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="101">
              <span class="hits">6</span>
              <code class="sql">    l_result.matcher := treat(l_result.matcher as ut_equal).include(a_items);</code></li>

            <li class="covered" data-hits="6" data-linenumber="102">
              <span class="hits">6</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  member procedure include(self in ut_expectation_compound, a_items varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="107">
              <span class="hits">7</span>
              <code class="sql">    include( ut_varchar2_list( a_items ) );</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">  member procedure include(self in ut_expectation_compound, a_items ut_varchar2_list) is</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="16" data-linenumber="112">
              <span class="hits">16</span>
              <code class="sql">    self.to_( treat(matcher as ut_equal).include(a_items) );</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">  member function exclude(a_items varchar2) return ut_expectation_compound is</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="117">
              <span class="hits">2</span>
              <code class="sql">    return exclude( ut_varchar2_list( a_items ) );</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">  member function exclude(a_items ut_varchar2_list) return ut_expectation_compound is</code></li>

            <li class="covered" data-hits="8" data-linenumber="121">
              <span class="hits">8</span>
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="123">
              <span class="hits">8</span>
              <code class="sql">    l_result.matcher := treat(l_result.matcher as ut_equal).exclude(a_items);</code></li>

            <li class="covered" data-hits="8" data-linenumber="124">
              <span class="hits">8</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  member procedure exclude(self in ut_expectation_compound, a_items varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="129">
              <span class="hits">3</span>
              <code class="sql">    exclude( ut_varchar2_list( a_items ) );</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  member procedure exclude(self in ut_expectation_compound, a_items ut_varchar2_list) is</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="134">
              <span class="hits">7</span>
              <code class="sql">    self.to_( treat(matcher as ut_equal).exclude(a_items) );</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">  member function unordered return ut_expectation_compound is</code></li>

            <li class="covered" data-hits="1" data-linenumber="138">
              <span class="hits">1</span>
              <code class="sql">    l_result ut_expectation_compound := self;</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="140">
              <span class="hits">1</span>
              <code class="sql">    l_result.matcher := treat(l_result.matcher as ut_equal).unordered();</code></li>

            <li class="covered" data-hits="1" data-linenumber="141">
              <span class="hits">1</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">  member procedure unordered(self in ut_expectation_compound) is</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="14" data-linenumber="146">
              <span class="hits">14</span>
              <code class="sql">    self.to_( treat(matcher as ut_equal).unordered() );</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  member function join_by(a_columns varchar2) return ut_expectation_compound is</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="151">
              <span class="hits">3</span>
              <code class="sql">    return join_by( ut_varchar2_list( a_columns ) );</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">  member function join_by(a_columns ut_varchar2_list) return ut_expectation_compound is</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">    l_result ut_expectation_compound;</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="157">
              <span class="hits">4</span>
              <code class="sql">    l_result := self;</code></li>

            <li class="covered" data-hits="4" data-linenumber="158">
              <span class="hits">4</span>
              <code class="sql">    l_result.matcher := treat(l_result.matcher as ut_equal).join_by(a_columns);</code></li>

            <li class="covered" data-hits="4" data-linenumber="159">
              <span class="hits">4</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">  member procedure join_by(self in ut_expectation_compound, a_columns varchar2) is</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="31" data-linenumber="164">
              <span class="hits">31</span>
              <code class="sql">    join_by( ut_varchar2_list( a_columns ) );</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">  member procedure join_by(self in ut_expectation_compound, a_columns ut_varchar2_list) is</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="38" data-linenumber="169">
              <span class="hits">38</span>
              <code class="sql">    self.to_( treat(matcher as ut_equal).join_by(a_columns) );</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">  member function unordered_columns return ut_expectation_compound is</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">    l_result ut_expectation_compound;</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="175">
              <code class="sql">    l_result := self;</code></li>

            <li class="missed" data-hits="0" data-linenumber="176">
              <code class="sql">    l_result.matcher := treat(l_result.matcher as ut_equal).unordered_columns;</code></li>

            <li class="missed" data-hits="0" data-linenumber="177">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="178">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="179">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">  member procedure unordered_columns(self in ut_expectation_compound) is</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="182">
              <span class="hits">10</span>
              <code class="sql">    self.to_( treat(matcher as ut_equal).unordered_columns );</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">  member function uc return ut_expectation_compound is</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="187">
              <code class="sql">    return unordered_columns;</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">  member procedure uc(self in ut_expectation_compound) is</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="192">
              <span class="hits">5</span>
              <code class="sql">    unordered_columns;</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="B8232653463E14C26B6FCF7386779AFB"><div class="header"> <h3>UT3.UT_EXPECTATION_JSON</h3><h4><span class="red">45.45 %</span> lines covered</h4><div> <b>11</b> relevant lines. <span class="green"><b>5</b> lines covered</span> and <span class="red"><b>6</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_expectation_json as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_expectation_json(self in out nocopy ut_expectation_json, a_actual_data ut_data_value, a_description varchar2) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="23" data-linenumber="21">
              <span class="hits">23</span>
              <code class="sql">    self.actual_data := a_actual_data;</code></li>

            <li class="covered" data-hits="23" data-linenumber="22">
              <span class="hits">23</span>
              <code class="sql">    self.description := a_description;</code></li>

            <li class="covered" data-hits="23" data-linenumber="23">
              <span class="hits">23</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  member function to_equal(a_expected json_element_t, a_nulls_are_equal boolean := null) return ut_expectation_json is</code></li>

            <li class="missed" data-hits="0" data-linenumber="27">
              <code class="sql">    l_result ut_expectation_json := self;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="29">
              <code class="sql">    l_result.matcher := ut_equal(a_expected, a_nulls_are_equal);</code></li>

            <li class="missed" data-hits="0" data-linenumber="30">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  member function not_to_equal(a_expected json_element_t, a_nulls_are_equal boolean := null) return ut_expectation_json is</code></li>

            <li class="missed" data-hits="0" data-linenumber="34">
              <code class="sql">    l_result ut_expectation_json := self;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="36">
              <code class="sql">    l_result.matcher := ut_equal(a_expected, a_nulls_are_equal).negated();</code></li>

            <li class="missed" data-hits="0" data-linenumber="37">
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  member procedure to_have_count(self in ut_expectation_json, a_expected integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="42">
              <span class="hits">3</span>
              <code class="sql">    self.to_( ut_have_count(a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  member procedure not_to_have_count(self in ut_expectation_json, a_expected integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="47">
              <span class="hits">2</span>
              <code class="sql">    self.not_to( ut_have_count(a_expected) );</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="243F7561332AD985B019E751846E3EE4"><div class="header"> <h3>UT3.UT_ANSICONSOLE_HELPER</h3><h4><span class="green">92.86 %</span> lines covered</h4><div> <b>14</b> relevant lines. <span class="green"><b>13</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_ansiconsole_helper as</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="covered" data-hits="1" data-linenumber="18">
              <span class="hits">1</span>
              <code class="sql">  gc_red     constant varchar2(7) := chr(27) || &apos;[31m&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="19">
              <span class="hits">1</span>
              <code class="sql">  gc_green   constant varchar2(7) := chr(27) || &apos;[32m&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="20">
              <span class="hits">1</span>
              <code class="sql">  gc_yellow  constant varchar2(7) := chr(27) || &apos;[33m&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="21">
              <span class="hits">1</span>
              <code class="sql">  gc_cyan    constant varchar2(7) := chr(27) || &apos;[36m&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="22">
              <span class="hits">1</span>
              <code class="sql">  gc_reset   constant varchar2(7) := chr(27) || &apos;[0m&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="23">
              <span class="hits">1</span>
              <code class="sql">  g_enabled  boolean := false;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  procedure color_enabled(a_enabled boolean) is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="116" data-linenumber="27">
              <span class="hits">116</span>
              <code class="sql">    g_enabled := a_enabled;</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  function add_color(a_text varchar2, a_color varchar2 := gc_reset) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="398" data-linenumber="32">
              <span class="hits">398</span>
              <code class="sql">    if g_enabled and a_text is not null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="33">
              <code class="sql">      return a_color||a_text||gc_reset;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="398" data-linenumber="35">
              <span class="hits">398</span>
              <code class="sql">      return a_text;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">  function red(a_text varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="207" data-linenumber="41">
              <span class="hits">207</span>
              <code class="sql">    return add_color(a_text, gc_red);</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">  function green(a_text varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="180" data-linenumber="46">
              <span class="hits">180</span>
              <code class="sql">    return add_color(a_text, gc_green);</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  function yellow(a_text varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="51">
              <span class="hits">1</span>
              <code class="sql">    return add_color(a_text, gc_yellow);</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  function cyan(a_text varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="56">
              <span class="hits">10</span>
              <code class="sql">    return add_color(a_text, gc_cyan);</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="CC1779EBFD943CA5C94CE204C548B0DE"><div class="header"> <h3>UT3.UT_COVERAGE_COBERTURA_REPORTER</h3><h4><span class="green">91.8 %</span> lines covered</h4><div> <b>61</b> relevant lines. <span class="green"><b>56</b> lines covered</span> and <span class="red"><b>5</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_coverage_cobertura_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_coverage_cobertura_reporter(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_coverage_cobertura_reporter</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="23">
              <span class="hits">2</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="2" data-linenumber="24">
              <span class="hits">2</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  overriding member procedure after_calling_run(self in out nocopy ut_coverage_cobertura_reporter, a_run in ut_run) as</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">    l_report_lines  ut_varchar2_list;</code></li>

            <li class="covered" data-hits="2" data-linenumber="30">
              <span class="hits">2</span>
              <code class="sql">    l_coverage_data ut_coverage.t_coverage;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    function get_lines_xml(a_unit_coverage ut_coverage.t_unit_coverage) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">      l_file_part    varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">      l_result       clob;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">      l_line_no      binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">      l_pct          integer;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="38">
              <span class="hits">2</span>
              <code class="sql">      dbms_lob.createtemporary(l_result, true);</code></li>

            <li class="covered" data-hits="2" data-linenumber="39">
              <span class="hits">2</span>
              <code class="sql">      l_line_no := a_unit_coverage.lines.first;</code></li>

            <li class="covered" data-hits="2" data-linenumber="40">
              <span class="hits">2</span>
              <code class="sql">      if l_line_no is null then</code></li>

            <li class="covered" data-hits="16" data-linenumber="41">
              <span class="hits">16</span>
              <code class="sql">        for i in 1 .. a_unit_coverage.total_lines loop</code></li>

            <li class="covered" data-hits="15" data-linenumber="42">
              <span class="hits">15</span>
              <code class="sql">          ut_utils.append_to_clob(l_result, &apos;&lt;line number=&quot;&apos;||i||&apos;&quot; hits=&quot;0&quot; branch=&quot;false&quot;/&gt;&apos;||chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="4" data-linenumber="45">
              <span class="hits">4</span>
              <code class="sql">        while l_line_no is not null loop</code></li>

            <li class="covered" data-hits="3" data-linenumber="46">
              <span class="hits">3</span>
              <code class="sql">          if a_unit_coverage.lines(l_line_no).executions = 0 then</code></li>

            <li class="covered" data-hits="1" data-linenumber="47">
              <span class="hits">1</span>
              <code class="sql">            l_file_part := &apos;&lt;line number=&quot;&apos;||l_line_no||&apos;&quot; hits=&quot;0&quot; branch=&quot;false&quot;/&gt;&apos;||chr(10);</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">          else</code></li>

            <li class="covered" data-hits="2" data-linenumber="49">
              <span class="hits">2</span>
              <code class="sql">            l_file_part := &apos;&lt;line number=&quot;&apos;||l_line_no||&apos;&quot; hits=&quot;&apos;||a_unit_coverage.lines(l_line_no).executions||&apos;&quot;&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="50">
              <span class="hits">2</span>
              <code class="sql">            if a_unit_coverage.lines(l_line_no).covered_blocks &lt; a_unit_coverage.lines(l_line_no).no_blocks then</code></li>

            <li class="missed" data-hits="0" data-linenumber="51">
              <code class="sql">              l_file_part := l_file_part || &apos; branch=&quot;true&quot;&apos;;</code></li>

            <li class="missed" data-hits="0" data-linenumber="52">
              <code class="sql">              l_pct := (a_unit_coverage.lines(l_line_no).covered_blocks/a_unit_coverage.lines(l_line_no).no_blocks)*100;</code></li>

            <li class="missed" data-hits="0" data-linenumber="53">
              <code class="sql">              l_file_part := l_file_part || &apos; condition-coverage=&quot;&apos;||l_pct||&apos;%&apos;;</code></li>

            <li class="missed" data-hits="0" data-linenumber="54">
              <code class="sql">              l_file_part := l_file_part || &apos; (&apos;||a_unit_coverage.lines(l_line_no).covered_blocks||&apos;/&apos;||a_unit_coverage.lines(l_line_no).no_blocks||&apos;)&quot;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">            else</code></li>

            <li class="covered" data-hits="2" data-linenumber="56">
              <span class="hits">2</span>
              <code class="sql">              l_file_part := l_file_part || &apos; branch=&quot;false&quot;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">            end if;</code></li>

            <li class="covered" data-hits="2" data-linenumber="58">
              <span class="hits">2</span>
              <code class="sql">            l_file_part := l_file_part ||&apos;/&gt;&apos;||chr(10);</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="3" data-linenumber="60">
              <span class="hits">3</span>
              <code class="sql">          ut_utils.append_to_clob(l_result, l_file_part);</code></li>

            <li class="covered" data-hits="3" data-linenumber="61">
              <span class="hits">3</span>
              <code class="sql">          l_line_no := a_unit_coverage.lines.next(l_line_no);</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="2" data-linenumber="64">
              <span class="hits">2</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">    function get_coverage_xml(</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">      a_coverage_data ut_coverage.t_coverage,</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">      a_run ut_run</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    ) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">      l_file_part       varchar2(32767);</code></li>

            <li class="covered" data-hits="2" data-linenumber="72">
              <span class="hits">2</span>
              <code class="sql">      l_result          ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">      l_unit            ut_coverage.t_full_name;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">      l_obj_name        ut_coverage.t_object_name;</code></li>

            <li class="covered" data-hits="2" data-linenumber="75">
              <span class="hits">2</span>
              <code class="sql">      c_coverage_def    constant varchar2(200) := &apos;&lt;!DOCTYPE coverage SYSTEM &quot;http://cobertura.sourceforge.net/xml/coverage-04.dtd&quot;&gt;&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="76">
              <span class="hits">2</span>
              <code class="sql">      c_file_footer     constant varchar2(30) := &apos;&lt;/file&gt;&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="77">
              <span class="hits">2</span>
              <code class="sql">      c_coverage_footer constant varchar2(30) := &apos;&lt;/coverage&gt;&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="78">
              <span class="hits">2</span>
              <code class="sql">      c_sources_footer  constant varchar2(30) := &apos;&lt;/sources&gt;&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="79">
              <span class="hits">2</span>
              <code class="sql">      c_packages_footer constant varchar2(30) := &apos;&lt;/packages&gt;&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="80">
              <span class="hits">2</span>
              <code class="sql">      c_package_footer  constant varchar2(30) := &apos;&lt;/package&gt;&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="81">
              <span class="hits">2</span>
              <code class="sql">      c_class_footer    constant varchar2(30) := &apos;&lt;/class&gt;&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="82">
              <span class="hits">2</span>
              <code class="sql">      c_lines_footer    constant varchar2(30) := &apos;&lt;/lines&gt;&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="83">
              <span class="hits">2</span>
              <code class="sql">      l_epoch           varchar2(50) := (sysdate - to_date(&apos;01-01-1970 00:00:00&apos;, &apos;dd-mm-yyyy hh24:mi:ss&apos;)) * 24 * 60 * 60;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">      begin</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="86">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list( l_result, ut_utils.get_xml_header(a_run.client_character_set) );</code></li>

            <li class="covered" data-hits="2" data-linenumber="87">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list( l_result, c_coverage_def );</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">      --write header</code></li>

            <li class="covered" data-hits="2" data-linenumber="90">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">        l_result,</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">        &apos;&lt;coverage line-rate=&quot;0&quot; branch-rate=&quot;0.0&quot; lines-covered=&quot;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">          ||a_coverage_data.covered_lines||&apos;&quot; lines-valid=&quot;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">          ||TO_CHAR(a_coverage_data.covered_lines + a_coverage_data.uncovered_lines)</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">          ||&apos;&quot; branches-covered=&quot;0&quot; branches-valid=&quot;0&quot; complexity=&quot;0&quot; version=&quot;1&quot; timestamp=&quot;&apos;||l_epoch||&apos;&quot;&gt;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">      --Write sources</code></li>

            <li class="covered" data-hits="2" data-linenumber="100">
              <span class="hits">2</span>
              <code class="sql">      l_unit := a_coverage_data.objects.first;</code></li>

            <li class="covered" data-hits="2" data-linenumber="101">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list( l_result, &apos;&lt;sources&gt;&apos; );</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="103">
              <span class="hits">4</span>
              <code class="sql">       while l_unit is not null loop</code></li>

            <li class="covered" data-hits="3" data-linenumber="104">
              <span class="hits">3</span>
              <code class="sql">        ut_utils.append_to_list(l_result, &apos;&lt;source&gt;&apos;||dbms_xmlgen.convert(l_unit)||&apos;&lt;/source&gt;&apos;);</code></li>

            <li class="covered" data-hits="2" data-linenumber="105">
              <span class="hits">2</span>
              <code class="sql">        l_unit := a_coverage_data.objects.next(l_unit);</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="2" data-linenumber="107">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list(l_result, c_sources_footer);</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">      --write packages</code></li>

            <li class="covered" data-hits="2" data-linenumber="110">
              <span class="hits">2</span>
              <code class="sql">      l_unit := a_coverage_data.objects.first;</code></li>

            <li class="covered" data-hits="2" data-linenumber="111">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list(l_result, &apos;&lt;packages&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="113">
              <span class="hits">4</span>
              <code class="sql">      while l_unit is not null loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="114">
              <span class="hits">2</span>
              <code class="sql">        l_obj_name := a_coverage_data.objects(l_unit).name;</code></li>

            <li class="covered" data-hits="2" data-linenumber="115">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">          l_result,</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">          &apos;&lt;package name=&quot;&apos;||dbms_xmlgen.convert(l_obj_name)||&apos;&quot; line-rate=&quot;0.0&quot; branch-rate=&quot;0.0&quot; complexity=&quot;0.0&quot;&gt;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="120">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">          l_result,</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">          &apos;&lt;class name=&quot;&apos;||dbms_xmlgen.convert(l_obj_name)||&apos;&quot; filename=&quot;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">            ||dbms_xmlgen.convert(l_unit)||&apos;&quot; line-rate=&quot;0.0&quot; branch-rate=&quot;0.0&quot; complexity=&quot;0.0&quot;&gt;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="126">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list(l_result, &apos;&lt;lines&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="128">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list( l_result, get_lines_xml(a_coverage_data.objects(l_unit)) );</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="130">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list(l_result, c_lines_footer);</code></li>

            <li class="covered" data-hits="2" data-linenumber="131">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list(l_result, c_class_footer);</code></li>

            <li class="covered" data-hits="2" data-linenumber="132">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list(l_result, c_package_footer);</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="134">
              <span class="hits">2</span>
              <code class="sql">        l_unit := a_coverage_data.objects.next(l_unit);</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="137">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list(l_result, c_packages_footer);</code></li>

            <li class="covered" data-hits="2" data-linenumber="138">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list(l_result, c_coverage_footer);</code></li>

            <li class="covered" data-hits="2" data-linenumber="139">
              <span class="hits">2</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="142">
              <span class="hits">3</span>
              <code class="sql">    ut_coverage.coverage_stop();</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="144">
              <span class="hits">2</span>
              <code class="sql">    l_coverage_data := ut_coverage.get_coverage_data(a_run.coverage_options);</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="146">
              <span class="hits">2</span>
              <code class="sql">    self.print_text_lines( get_coverage_xml( l_coverage_data, a_run ) );</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="148">
              <span class="hits">2</span>
              <code class="sql">    (self as ut_reporter_base).after_calling_run(a_run);</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql"> overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql"> begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="153">
              <code class="sql">   return &apos;Generates a Cobertura coverage report providing information on code coverage with line numbers.&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">          &apos;Designed for Jenkins and TFS to report coverage. &apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">          &apos;Cobertura Document Type Definition can be found: http://cobertura.sourceforge.net/xml/coverage-04.dtd.&apos;|| chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">          &apos;Sample file: https://github.com/leobalter/testing-examples/blob/master/solutions/3/report/cobertura-coverage.xml.&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="157">
            <code class="sql"> end;</code></li>

            <li class="never" data-hits="" data-linenumber="158">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="159">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="739E87217CAFAE9F9E684E139B35EEEB"><div class="header"> <h3>UT3.UT_COVERAGE_HTML_REPORTER</h3><h4><span class="yellow">88.89 %</span> lines covered</h4><div> <b>9</b> relevant lines. <span class="green"><b>8</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_coverage_html_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_coverage_html_reporter(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_coverage_html_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">    a_project_name varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">    a_html_report_assets_path varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="25">
              <span class="hits">1</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="1" data-linenumber="26">
              <span class="hits">1</span>
              <code class="sql">    self.project_name := a_project_name;</code></li>

            <li class="covered" data-hits="1" data-linenumber="27">
              <span class="hits">1</span>
              <code class="sql">    assets_path := nvl(a_html_report_assets_path, ut_coverage_report_html_helper.get_default_html_assets_path());</code></li>

            <li class="covered" data-hits="1" data-linenumber="28">
              <span class="hits">1</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  overriding member procedure after_calling_run(self in out nocopy ut_coverage_html_reporter, a_run in ut_run) as</code></li>

            <li class="covered" data-hits="1" data-linenumber="32">
              <span class="hits">1</span>
              <code class="sql">    l_coverage_data ut_coverage.t_coverage;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="34">
              <span class="hits">2</span>
              <code class="sql">    ut_coverage.coverage_stop();</code></li>

            <li class="covered" data-hits="1" data-linenumber="35">
              <span class="hits">1</span>
              <code class="sql">    l_coverage_data := ut_coverage.get_coverage_data(a_run.coverage_options);</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="37">
              <span class="hits">1</span>
              <code class="sql">    self.print_text_lines(</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">        ut_coverage_report_html_helper.get_index(</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">            a_coverage_data =&gt; l_coverage_data,</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">            a_assets_path   =&gt; self.assets_path,</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">            a_project_name  =&gt; self.project_name,</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">            a_charset       =&gt; a_run.client_character_set</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">        )</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">  overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="50">
              <code class="sql">    return &apos;Generates a HTML coverage report with summary and line by line information on code coverage.&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">           &apos;Based on open-source simplecov-html coverage reporter for Ruby.&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">           &apos;Includes source code in the report.&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="31F3132F85029D11E692E073D549DC3E"><div class="header"> <h3>UT3.UT_COVERAGE_REPORT_HTML_HELPER</h3><h4><span class="green">94.44 %</span> lines covered</h4><div> <b>108</b> relevant lines. <span class="green"><b>102</b> lines covered</span> and <span class="red"><b>6</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_coverage_report_html_helper is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="19">
              <span class="hits">1</span>
              <code class="sql">  gc_green_coverage_pct  constant integer := 90;</code></li>

            <li class="covered" data-hits="1" data-linenumber="20">
              <span class="hits">1</span>
              <code class="sql">  gc_yellow_coverage_pct constant integer := 80;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="22">
              <span class="hits">1</span>
              <code class="sql">  gc_green_css  constant varchar2(10) := &apos;green&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="23">
              <span class="hits">1</span>
              <code class="sql">  gc_yellow_css constant varchar2(10) := &apos;yellow&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="24">
              <span class="hits">1</span>
              <code class="sql">  gc_red_css    constant varchar2(10) := &apos;red&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="26">
              <span class="hits">1</span>
              <code class="sql">  gc_missed      constant varchar2(7) := &apos;missed&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="27">
              <span class="hits">1</span>
              <code class="sql">  gc_skipped     constant varchar2(7) := &apos;skipped&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="28">
              <span class="hits">1</span>
              <code class="sql">  gc_disabled    constant varchar2(7) := &apos;never&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="29">
              <span class="hits">1</span>
              <code class="sql">  gc_covered     constant varchar2(7) := &apos;covered&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="30">
              <span class="hits">1</span>
              <code class="sql">  gc_partcovered constant varchar2(7) := &apos;partcov&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  function get_default_html_assets_path return varchar2 deterministic is</code></li>

            <li class="covered" data-hits="1" data-linenumber="33">
              <span class="hits">1</span>
              <code class="sql">    c_assets_path constant varchar2(200) := &apos;https://utplsql.github.io/utPLSQL-coverage-html/assets/&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="35">
              <span class="hits">1</span>
              <code class="sql">    return c_assets_path;</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">  function coverage_css_class(a_covered_pct number) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">    l_result varchar2(10);</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="41">
              <span class="hits">5</span>
              <code class="sql">    if a_covered_pct &gt; gc_green_coverage_pct then</code></li>

            <li class="missed" data-hits="0" data-linenumber="42">
              <code class="sql">      l_result := gc_green_css;</code></li>

            <li class="covered" data-hits="5" data-linenumber="43">
              <span class="hits">5</span>
              <code class="sql">    elsif a_covered_pct &gt; gc_yellow_coverage_pct then</code></li>

            <li class="missed" data-hits="0" data-linenumber="44">
              <code class="sql">      l_result := gc_yellow_css;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="5" data-linenumber="46">
              <span class="hits">5</span>
              <code class="sql">      l_result := gc_red_css;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="5" data-linenumber="48">
              <span class="hits">5</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">  function line_status(a_executions in ut_coverage.t_line_executions) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    l_result varchar2(10);</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="16" data-linenumber="54">
              <span class="hits">16</span>
              <code class="sql">    if a_executions.executions &gt; 0 then</code></li>

            <li class="covered" data-hits="3" data-linenumber="55">
              <span class="hits">3</span>
              <code class="sql">      if NVL(a_executions.partcove,0) = 0 then</code></li>

            <li class="covered" data-hits="2" data-linenumber="56">
              <span class="hits">2</span>
              <code class="sql">        l_result := gc_covered;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="1" data-linenumber="58">
              <span class="hits">1</span>
              <code class="sql">        l_result := gc_partcovered;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="13" data-linenumber="60">
              <span class="hits">13</span>
              <code class="sql">    elsif a_executions.executions = 0 then</code></li>

            <li class="covered" data-hits="1" data-linenumber="61">
              <span class="hits">1</span>
              <code class="sql">      l_result := gc_missed;</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="12" data-linenumber="63">
              <span class="hits">12</span>
              <code class="sql">      l_result := gc_disabled;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="16" data-linenumber="65">
              <span class="hits">16</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">  function executions_per_line(a_executions number, a_lines integer) return integer is</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="70">
              <span class="hits">3</span>
              <code class="sql">    return nvl(a_executions / nullif(a_lines, 0), 0);</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  function line_hits_css_class(a_line_hist number) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">    l_result varchar2(10);</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="76">
              <span class="hits">1</span>
              <code class="sql">    if a_line_hist &gt; 1 then</code></li>

            <li class="missed" data-hits="0" data-linenumber="77">
              <code class="sql">      l_result := gc_green_css;</code></li>

            <li class="covered" data-hits="1" data-linenumber="78">
              <span class="hits">1</span>
              <code class="sql">    elsif a_line_hist = 1 then</code></li>

            <li class="covered" data-hits="1" data-linenumber="79">
              <span class="hits">1</span>
              <code class="sql">      l_result := gc_yellow_css;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">    else</code></li>

            <li class="missed" data-hits="0" data-linenumber="81">
              <code class="sql">      l_result := gc_red_css;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="1" data-linenumber="83">
              <span class="hits">1</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  function coverage_pct(a_covered_lines integer, a_uncovered_lines integer) return number is</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="88">
              <span class="hits">4</span>
              <code class="sql">    return ROUND(nvl(a_covered_lines / nullif(a_covered_lines + a_uncovered_lines, 0), 0) * 100, 2);</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  function object_id(a_object_full_name varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="93">
              <span class="hits">3</span>
              <code class="sql">    return rawtohex(utl_raw.cast_to_raw(dbms_obfuscation_toolkit.md5(input_string =&gt; a_object_full_name)));</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">  function link_to_source_file(a_object_full_name varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="98">
              <span class="hits">1</span>
              <code class="sql">    return &apos;&lt;a href=&quot;#&apos; || object_id(a_object_full_name) || &apos;&quot; class=&quot;src_link&quot; title=&quot;&apos; || a_object_full_name || &apos;&quot;&gt;&apos; || a_object_full_name || &apos;&lt;/a&gt;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">  function get_details_file_content(</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">    a_object_id varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">    a_unit ut_object_name,</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">    a_unit_coverage ut_coverage.t_unit_coverage</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">  ) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">    function get_block_file_attributes(a_coverage_unit ut_coverage.t_unit_coverage) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">      l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="113">
              <span class="hits">1</span>
              <code class="sql">      if (a_coverage_unit.partcovered_lines is not null) AND (a_coverage_unit.partcovered_lines &gt; 0) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="114">
              <span class="hits">1</span>
              <code class="sql">        l_result := &apos; (including &lt;span class=&quot;yellow&quot;&gt;&lt;b&gt;&apos;|| a_coverage_unit.partcovered_lines ||&apos;&lt;/b&gt; lines partially covered&lt;/span&gt; )&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">      else</code></li>

            <li class="missed" data-hits="0" data-linenumber="116">
              <code class="sql">        l_result := null;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="1" data-linenumber="118">
              <span class="hits">1</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">    function get_common_file_attributes(a_coverage_unit ut_coverage.t_unit_coverage) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">    l_attributes varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="124">
              <span class="hits">1</span>
              <code class="sql">    l_attributes := &apos;&lt;div&gt; &lt;b&gt;&apos; ||(a_coverage_unit.covered_lines + a_coverage_unit.uncovered_lines)</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">                    ||&apos;&lt;/b&gt; relevant lines. &apos; || &apos;&lt;span class=&quot;green&quot;&gt;&lt;b&gt;&apos; || a_coverage_unit.covered_lines</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">                    ||&apos;&lt;/b&gt; lines covered&lt;/span&gt;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">                    || get_block_file_attributes(a_coverage_unit)</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">                    || &apos; and &lt;span class=&quot;red&quot;&gt;&lt;b&gt;&apos; || a_coverage_unit.uncovered_lines ||&apos;&lt;/b&gt; lines missed&lt;/span&gt;&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="129">
              <span class="hits">1</span>
              <code class="sql">      return l_attributes;</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">    function build_details_file_content(a_object_id varchar2, a_object_full_name varchar2, a_source_code ut_varchar2_list, a_coverage_unit ut_coverage.t_unit_coverage)</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">      return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">      l_file_part           varchar2(32767);</code></li>

            <li class="covered" data-hits="1" data-linenumber="135">
              <span class="hits">1</span>
              <code class="sql">      l_result              ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">      l_coverage_pct        number(5, 2);</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">      l_coverage_block_pct  number(5, 2);</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">      l_hits                varchar2(30);</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">      l_blocks              varchar2(30);</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="142">
              <span class="hits">1</span>
              <code class="sql">     l_coverage_pct := coverage_pct(a_coverage_unit.covered_lines, a_coverage_unit.uncovered_lines);</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="144">
              <span class="hits">1</span>
              <code class="sql">     l_file_part := &apos;&lt;div class=&quot;source_table&quot; id=&quot;&apos; || a_object_id || &apos;&quot;&gt;&lt;div class=&quot;header&quot;&gt; &lt;h3&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">                     dbms_xmlgen.convert(a_object_full_name) || &apos;&lt;/h3&gt;&lt;h4&gt;&lt;span class=&quot;&apos; || coverage_css_class(l_coverage_pct) || &apos;&quot;&gt;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">                    || l_coverage_pct || &apos; %&lt;/span&gt; lines covered&lt;/h4&gt;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">                    ||get_common_file_attributes(a_coverage_unit) ||&apos;&lt;/div&gt;&lt;/div&gt;&lt;pre&gt;&lt;ol&gt;&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="148">
              <span class="hits">1</span>
              <code class="sql">      ut_utils.append_to_list(l_result, l_file_part);</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql"></code></li>

            <li class="covered" data-hits="17" data-linenumber="150">
              <span class="hits">17</span>
              <code class="sql">      for line_no in 1 .. a_source_code.count loop</code></li>

            <li class="covered" data-hits="16" data-linenumber="151">
              <span class="hits">16</span>
              <code class="sql">        if not a_coverage_unit.lines.exists(line_no) then</code></li>

            <li class="covered" data-hits="12" data-linenumber="152">
              <span class="hits">12</span>
              <code class="sql">          l_file_part := &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">            &lt;li class=&quot;&apos; || line_status(null) || &apos;&quot; data-hits=&quot;&quot; data-linenumber=&quot;&apos; || line_no || &apos;&quot;&gt;</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">            &lt;code class=&quot;sql&quot;&gt;&apos; || (dbms_xmlgen.convert(a_source_code(line_no))) ||</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql">                         &apos;&lt;/code&gt;&lt;/li&gt;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="4" data-linenumber="157">
              <span class="hits">4</span>
              <code class="sql">          l_hits := to_char(a_coverage_unit.lines(line_no).executions);</code></li>

            <li class="covered" data-hits="4" data-linenumber="158">
              <span class="hits">4</span>
              <code class="sql">          if nvl(a_coverage_unit.lines(line_no).covered_blocks,0) &lt; nvl(a_coverage_unit.lines(line_no).no_blocks,0)</code></li>

            <li class="covered" data-hits="1" data-linenumber="159">
              <span class="hits">1</span>
              <code class="sql">          and nvl(a_coverage_unit.lines(line_no).partcove,0) = 1 then</code></li>

            <li class="covered" data-hits="1" data-linenumber="160">
              <span class="hits">1</span>
              <code class="sql">            l_blocks := to_char(a_coverage_unit.lines(line_no).covered_blocks) || chr(47)||</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">                        to_char(a_coverage_unit.lines(line_no).no_blocks);</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">          else</code></li>

            <li class="covered" data-hits="3" data-linenumber="163">
              <span class="hits">3</span>
              <code class="sql">           l_blocks := null;</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="166">
              <span class="hits">4</span>
              <code class="sql">          l_file_part := &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">            &lt;li class=&quot;&apos; || line_status(a_coverage_unit.lines(line_no)) || &apos;&quot; data-hits=&quot;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">                         dbms_xmlgen.convert(l_hits)|| &apos;&quot;&apos;||</code></li>

            <li class="covered" data-hits="1" data-linenumber="169">
              <span class="hits">1</span>
              <code class="sql">                         case</code></li>

            <li class="covered" data-hits="1" data-linenumber="170">
              <span class="hits">1</span>
              <code class="sql">                           when l_blocks is not null</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">                             then &apos; data-blocks=&quot;&apos;||dbms_xmlgen.convert(l_blocks)||&apos;&quot;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">                           else</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql">                             null</code></li>

            <li class="never" data-hits="" data-linenumber="174">
            <code class="sql">                           end</code></li>

            <li class="never" data-hits="" data-linenumber="175">
            <code class="sql">                         ||&apos; data-linenumber=&quot;&apos; || (line_no) || &apos;&quot;&gt;&apos;;</code></li>

            <li class="covered" data-hits="4" data-linenumber="176">
              <span class="hits">4</span>
              <code class="sql">          if a_coverage_unit.lines(line_no).executions &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="177">
            <code class="sql"></code></li>

            <li class="covered" data-hits="3" data-linenumber="178">
              <span class="hits">3</span>
              <code class="sql">            l_file_part := l_file_part ||</code></li>

            <li class="covered" data-hits="1" data-linenumber="179">
              <span class="hits">1</span>
              <code class="sql">            case when l_blocks is not null</code></li>

            <li class="never" data-hits="" data-linenumber="180">
            <code class="sql">              then &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">                &lt;span class=&quot;blocks&quot;&gt;&apos; ||dbms_xmlgen.convert(l_blocks) ||</code></li>

            <li class="never" data-hits="" data-linenumber="182">
            <code class="sql">                &apos;&lt;/span&gt;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">              else</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">                null</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql">              end</code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">            || &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">              &lt;span class=&quot;hits&quot;&gt;&apos; || dbms_xmlgen.convert(l_hits) ||</code></li>

            <li class="never" data-hits="" data-linenumber="188">
            <code class="sql">                           &apos;&lt;/span&gt;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="189">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="4" data-linenumber="190">
              <span class="hits">4</span>
              <code class="sql">          l_file_part := l_file_part || &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="191">
            <code class="sql">              &lt;code class=&quot;sql&quot;&gt;&apos; || (dbms_xmlgen.convert(a_source_code(line_no))) ||</code></li>

            <li class="never" data-hits="" data-linenumber="192">
            <code class="sql">                         &apos;&lt;/code&gt;&lt;/li&gt;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="193">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="16" data-linenumber="194">
              <span class="hits">16</span>
              <code class="sql">        ut_utils.append_to_list(l_result, l_file_part);</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="197">
              <span class="hits">1</span>
              <code class="sql">      l_file_part := &apos;&lt;/ol&gt;&lt;/pre&gt;&lt;/div&gt;&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="198">
              <span class="hits">1</span>
              <code class="sql">      ut_utils.append_to_list(l_result, l_file_part);</code></li>

            <li class="covered" data-hits="1" data-linenumber="199">
              <span class="hits">1</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="200">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="201">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="202">
              <span class="hits">1</span>
              <code class="sql">    return build_details_file_content(</code></li>

            <li class="never" data-hits="" data-linenumber="203">
            <code class="sql">      a_object_id,</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">      a_unit.identity,</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql">      ut_coverage_helper.get_tmp_table_object_lines(a_unit.owner, a_unit.name),</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">      a_unit_coverage</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="208">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql">    function get_block_list_attributes(a_coverage_unit ut_coverage.t_coverage) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="211">
            <code class="sql">      l_result varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="213">
              <span class="hits">1</span>
              <code class="sql">      if (a_coverage_unit.partcovered_lines is not null) AND (a_coverage_unit.partcovered_lines &gt; 0) then</code></li>

            <li class="covered" data-hits="1" data-linenumber="214">
              <span class="hits">1</span>
              <code class="sql">        l_result := &apos; (including &lt;span class=&quot;yellow&quot;&gt;&lt;b&gt;&apos;|| a_coverage_unit.partcovered_lines ||&apos;&lt;/b&gt; lines partially covered&lt;/span&gt; )&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">      else</code></li>

            <li class="missed" data-hits="0" data-linenumber="216">
              <code class="sql">        l_result := null;</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="1" data-linenumber="218">
              <span class="hits">1</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="221">
            <code class="sql">  function file_list(a_title varchar2, a_coverage ut_coverage.t_coverage) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">    l_file_part     varchar2(32767);</code></li>

            <li class="covered" data-hits="1" data-linenumber="223">
              <span class="hits">1</span>
              <code class="sql">    l_title         varchar2(100) := &apos;All files&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">    l_coverage_pct  number(5, 2);</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">    l_coverage_block_pct  number(5, 2);</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql">    l_result        ut_varchar2_rows;</code></li>

            <li class="covered" data-hits="1" data-linenumber="227">
              <span class="hits">1</span>
              <code class="sql">    l_id            varchar2(50) := object_id(a_title);</code></li>

            <li class="covered" data-hits="1" data-linenumber="228">
              <span class="hits">1</span>
              <code class="sql">    l_unit_coverage ut_coverage.t_unit_coverage;</code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">    l_unit          ut_coverage.t_object_name;</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="231">
              <span class="hits">1</span>
              <code class="sql">    l_coverage_pct := coverage_pct(a_coverage.covered_lines, a_coverage.uncovered_lines);</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="233">
              <span class="hits">1</span>
              <code class="sql">    l_file_part := &apos;&lt;div class=&quot;file_list_container&quot; id=&quot;&apos; || l_id || &apos;&quot;&gt;&apos; || &apos;&lt;h2&gt;&lt;span class=&quot;group_name&quot;&gt;&apos; || l_title ||</code></li>

            <li class="never" data-hits="" data-linenumber="234">
            <code class="sql">                   &apos;&lt;/span&gt;&apos; || &apos; (&lt;span class=&quot;covered_percent&quot;&gt;&lt;span class=&quot;&apos; || coverage_css_class(l_coverage_pct) || &apos;&quot;&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">                   l_coverage_pct || &apos;%&lt;/span&gt;&lt;/span&gt;&apos; || &apos; lines covered&apos;||</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql">                   &apos; at &lt;span class=&quot;covered_strength&quot;&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">                   &apos;&lt;span class=&quot;&apos; ||line_hits_css_class(executions_per_line(a_coverage.executions</code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">                                                             ,a_coverage.uncovered_lines + a_coverage.covered_lines)) || &apos;&quot;&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">                      executions_per_line(a_coverage.executions, a_coverage.uncovered_lines + a_coverage.covered_lines)</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">                     || &apos;&lt;/span&gt;&lt;/span&gt; hits/line)&lt;/h2&gt;&apos; || &apos;&lt;a id=&quot;a_&apos; || l_id || &apos;&quot;&gt;&lt;/a&gt;&apos; || &apos;&lt;div&gt;&lt;b&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql">                      a_coverage.objects.count || &apos;&lt;/b&gt; files in total. &lt;/div&gt;&lt;div&gt;&apos; || &apos;&lt;b&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql">                      (a_coverage.uncovered_lines + a_coverage.covered_lines)</code></li>

            <li class="never" data-hits="" data-linenumber="243">
            <code class="sql">                   || &apos;&lt;/b&gt; relevant lines. &apos; || &apos;&lt;span class=&quot;green&quot;&gt;&lt;b&gt;&apos; || a_coverage.covered_lines ||</code></li>

            <li class="never" data-hits="" data-linenumber="244">
            <code class="sql">                   &apos;&lt;/b&gt; lines covered&lt;/span&gt;&apos;|| get_block_list_attributes(a_coverage)</code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql">                   ||&apos; and &lt;span class=&quot;red&quot;&gt;&lt;b&gt;&apos; || a_coverage.uncovered_lines || &apos;&lt;/b&gt; lines missed.&lt;/span&gt;&apos;||</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql">                   &apos;&lt;table class=&quot;file_list&quot;&gt;&lt;thead&gt;&apos; || &apos;&lt;tr&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql">                   &apos;&lt;th&gt;File&lt;/th&gt;&lt;th&gt;% covered&lt;/th&gt;&lt;th&gt;Lines&lt;/th&gt;&lt;th&gt;Relevant Lines&lt;/th&gt;&lt;th&gt;Lines covered&lt;/th&gt;&lt;th&gt;Lines missed&lt;/th&gt;&lt;th&gt;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">                   ||&apos;Avg. Hits / Line &lt;/th&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql">                   &apos;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="250">
              <span class="hits">1</span>
              <code class="sql">    ut_utils.append_to_list( l_result, l_file_part );</code></li>

            <li class="covered" data-hits="1" data-linenumber="251">
              <span class="hits">1</span>
              <code class="sql">    l_unit := a_coverage.objects.first;</code></li>

            <li class="covered" data-hits="2" data-linenumber="252">
              <span class="hits">2</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="253">
              <span class="hits">2</span>
              <code class="sql">      exit when l_unit is null;</code></li>

            <li class="covered" data-hits="1" data-linenumber="254">
              <span class="hits">1</span>
              <code class="sql">      l_unit_coverage := a_coverage.objects(l_unit);</code></li>

            <li class="covered" data-hits="1" data-linenumber="255">
              <span class="hits">1</span>
              <code class="sql">      l_coverage_pct := coverage_pct(l_unit_coverage.covered_lines, l_unit_coverage.uncovered_lines);</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="257">
              <span class="hits">1</span>
              <code class="sql">     l_file_part := chr(10) || &apos;&lt;tr&gt;&apos; || &apos;&lt;td class=&quot;strong&quot;&gt;&apos; || link_to_source_file(dbms_xmlgen.convert(l_unit)) ||</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql">                     &apos;&lt;/td&gt;&apos; || &apos;&lt;td class=&quot;&apos; || coverage_css_class(l_coverage_pct) || &apos; strong&quot;&gt;&apos; || l_coverage_pct ||</code></li>

            <li class="never" data-hits="" data-linenumber="259">
            <code class="sql">                     &apos; %&lt;/td&gt;&apos; || &apos;&lt;td&gt;&apos; || l_unit_coverage.total_lines || &apos;&lt;/td&gt;&apos; || &apos;&lt;td&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">                       (l_unit_coverage.covered_lines + l_unit_coverage.uncovered_lines) || &apos;&lt;/td&gt;&apos; || &apos;&lt;td&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql">                       l_unit_coverage.covered_lines || &apos;&lt;/td&gt;&lt;td&gt;&apos; || l_unit_coverage.uncovered_lines || &apos;&lt;/td&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="262">
            <code class="sql">                       &apos;&lt;td&gt;&apos; || to_char(executions_per_line(l_unit_coverage.executions</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql">                                        ,l_unit_coverage.uncovered_lines + l_unit_coverage.covered_lines))</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">                       || &apos;&lt;/td&gt;&lt;/tr&gt;&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="265">
              <span class="hits">1</span>
              <code class="sql">      ut_utils.append_to_list( l_result, l_file_part );</code></li>

            <li class="covered" data-hits="1" data-linenumber="266">
              <span class="hits">1</span>
              <code class="sql">      l_unit := a_coverage.objects.next(l_unit);</code></li>

            <li class="never" data-hits="" data-linenumber="267">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="1" data-linenumber="268">
              <span class="hits">1</span>
              <code class="sql">    l_file_part := &apos;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="269">
              <span class="hits">1</span>
              <code class="sql">    ut_utils.append_to_list( l_result, l_file_part );</code></li>

            <li class="covered" data-hits="1" data-linenumber="270">
              <span class="hits">1</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql">  * public definitions</code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="276">
            <code class="sql">  function get_index(</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">    a_coverage_data ut_coverage.t_coverage,</code></li>

            <li class="never" data-hits="" data-linenumber="278">
            <code class="sql">    a_assets_path   varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="279">
            <code class="sql">    a_project_name  varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="280">
            <code class="sql">    a_command_line  varchar2 := null,</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql">    a_charset       varchar2 := null</code></li>

            <li class="never" data-hits="" data-linenumber="282">
            <code class="sql">  ) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="283">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql">    l_file_part     varchar2(32767);</code></li>

            <li class="covered" data-hits="1" data-linenumber="285">
              <span class="hits">1</span>
              <code class="sql">    l_result        ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="286">
            <code class="sql">    l_title         varchar2(250);</code></li>

            <li class="never" data-hits="" data-linenumber="287">
            <code class="sql">    l_coverage_pct  number(5, 2);</code></li>

            <li class="never" data-hits="" data-linenumber="288">
            <code class="sql">    l_time_str      varchar2(50);</code></li>

            <li class="never" data-hits="" data-linenumber="289">
            <code class="sql">    l_using         varchar2(1000);</code></li>

            <li class="never" data-hits="" data-linenumber="290">
            <code class="sql">    l_unit          ut_coverage.t_full_name;</code></li>

            <li class="never" data-hits="" data-linenumber="291">
            <code class="sql">    l_charset       varchar2(1000);</code></li>

            <li class="never" data-hits="" data-linenumber="292">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="293">
              <span class="hits">1</span>
              <code class="sql">    l_charset := coalesce(upper(a_charset),&apos;UTF-8&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="294">
              <span class="hits">1</span>
              <code class="sql">    l_coverage_pct := coverage_pct(a_coverage_data.covered_lines, a_coverage_data.uncovered_lines);</code></li>

            <li class="never" data-hits="" data-linenumber="295">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="296">
              <span class="hits">1</span>
              <code class="sql">    l_time_str := to_char(sysdate,&apos;yyyy-mm-dd&quot;T&quot;hh24:mi:ss&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="297">
              <span class="hits">1</span>
              <code class="sql">    l_using := case</code></li>

            <li class="covered" data-hits="1" data-linenumber="298">
              <span class="hits">1</span>
              <code class="sql">                 when a_command_line is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="299">
            <code class="sql">                  &apos;&lt;br/&gt;using &apos; || dbms_xmlgen.convert(a_command_line)</code></li>

            <li class="never" data-hits="" data-linenumber="300">
            <code class="sql">               end;</code></li>

            <li class="covered" data-hits="1" data-linenumber="301">
              <span class="hits">1</span>
              <code class="sql">    l_title := case</code></li>

            <li class="covered" data-hits="1" data-linenumber="302">
              <span class="hits">1</span>
              <code class="sql">                 when a_project_name is null then</code></li>

            <li class="never" data-hits="" data-linenumber="303">
            <code class="sql">                  &apos;Code coverage&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="304">
            <code class="sql">                 else</code></li>

            <li class="never" data-hits="" data-linenumber="305">
            <code class="sql">                  dbms_xmlgen.convert(a_project_name) || &apos; code coverage&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="306">
            <code class="sql">               end;</code></li>

            <li class="never" data-hits="" data-linenumber="307">
            <code class="sql">    --TODO - build main file containing total run data and per schema data</code></li>

            <li class="covered" data-hits="1" data-linenumber="308">
              <span class="hits">1</span>
              <code class="sql">    l_file_part := &apos;&lt;!DOCTYPE html&gt;&lt;html xmlns=&apos;&apos;http://www.w3.org/1999/xhtml&apos;&apos;&gt;&lt;head&gt;&apos; || &apos;&lt;title&gt;&apos; || l_title ||</code></li>

            <li class="never" data-hits="" data-linenumber="309">
            <code class="sql">                   &apos;&lt;/title&gt;&apos; || &apos;&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=&apos;||l_charset||&apos;&quot; /&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="310">
            <code class="sql">                   &apos;&lt;script src=&apos;&apos;&apos; || a_assets_path || &apos;application.js&apos;&apos;&gt;&lt;/script&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="311">
            <code class="sql">                   &apos;&lt;link href=&apos;&apos;&apos; || a_assets_path ||</code></li>

            <li class="never" data-hits="" data-linenumber="312">
            <code class="sql">                   &apos;application.css&apos;&apos; media=&apos;&apos;screen, print&apos;&apos; rel=&apos;&apos;stylesheet&apos;&apos; type=&apos;&apos;text/css&apos;&apos;/&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="313">
            <code class="sql">                   &apos;&lt;link rel=&quot;shortcut icon&quot; type=&quot;image/png&quot; href=&quot;&apos; || a_assets_path || &apos;favicon_&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="314">
            <code class="sql">                   coverage_css_class(l_coverage_pct) || &apos;.png&quot; /&gt;&apos; || &apos;&lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="315">
            <code class="sql">                   a_assets_path || &apos;favicon_&apos; || coverage_css_class(l_coverage_pct) || &apos;.png&quot; /&gt;&apos; || &apos;&lt;/head&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="316">
            <code class="sql">                   &apos;&lt;body&gt;&lt;div id=&quot;loading&quot;&gt;&lt;img src=&quot;&apos; || a_assets_path || &apos;loading.gif&quot; alt=&quot;loading&quot;/&gt;&lt;/div&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="317">
            <code class="sql">                   &apos;&lt;div id=&quot;wrapper&quot; style=&quot;display:none;&quot;&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="318">
            <code class="sql">                   &apos;&lt;div class=&quot;timestamp&quot;&gt;Generated &lt;abbr class=&quot;timeago&quot; title=&quot;&apos; || l_time_str || &apos;&quot;&gt;&apos; || l_time_str ||</code></li>

            <li class="never" data-hits="" data-linenumber="319">
            <code class="sql">                   &apos;&lt;/abbr&gt;&lt;/div&gt;&apos; || &apos;&lt;ul class=&quot;group_tabs&quot;&gt;&lt;/ul&gt;&apos; || &apos;&lt;div id=&quot;content&quot;&gt;&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="320">
              <span class="hits">1</span>
              <code class="sql">    ut_utils.append_to_list(l_result, l_file_part);</code></li>

            <li class="never" data-hits="" data-linenumber="321">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="322">
              <span class="hits">1</span>
              <code class="sql">    ut_utils.append_to_list(l_result, file_list(&apos;All files&apos;, a_coverage_data));</code></li>

            <li class="never" data-hits="" data-linenumber="323">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="324">
              <span class="hits">1</span>
              <code class="sql">    l_file_part := chr(10) || &apos;&lt;/div&gt;&lt;div id=&quot;footer&quot;&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="325">
            <code class="sql">                   &apos;Generated by &lt;a href=&quot;http://github.com/utPLSQL/utPLSQL&quot;&gt;utPLSQL &apos; || ut_utils.gc_version ||</code></li>

            <li class="never" data-hits="" data-linenumber="326">
            <code class="sql">                   &apos;&lt;/a&gt;&lt;br/&gt;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="327">
            <code class="sql">                   &apos;Based on &lt;a href=&quot;http://github.com/colszowka/simplecov-html&quot;&gt;simplecov-html&lt;/a&gt; v0.10.0 &apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="328">
            <code class="sql">                   l_using || &apos;&apos; || &apos;&lt;/div&gt;&lt;div class=&quot;source_files&quot;&gt;&apos;;</code></li>

            <li class="covered" data-hits="1" data-linenumber="329">
              <span class="hits">1</span>
              <code class="sql">    ut_utils.append_to_list(l_result, l_file_part);</code></li>

            <li class="never" data-hits="" data-linenumber="330">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="331">
              <span class="hits">1</span>
              <code class="sql">    l_unit := a_coverage_data.objects.first;</code></li>

            <li class="covered" data-hits="2" data-linenumber="332">
              <span class="hits">2</span>
              <code class="sql">    loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="333">
              <span class="hits">2</span>
              <code class="sql">      exit when l_unit is null;</code></li>

            <li class="covered" data-hits="1" data-linenumber="334">
              <span class="hits">1</span>
              <code class="sql">      ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="335">
            <code class="sql">        l_result,</code></li>

            <li class="never" data-hits="" data-linenumber="336">
            <code class="sql">        get_details_file_content(</code></li>

            <li class="never" data-hits="" data-linenumber="337">
            <code class="sql">          object_id(l_unit),</code></li>

            <li class="never" data-hits="" data-linenumber="338">
            <code class="sql">          ut_object_name(a_coverage_data.objects(l_unit).owner,</code></li>

            <li class="never" data-hits="" data-linenumber="339">
            <code class="sql">          a_coverage_data.objects(l_unit).name),</code></li>

            <li class="never" data-hits="" data-linenumber="340">
            <code class="sql">          a_coverage_data.objects(l_unit)</code></li>

            <li class="never" data-hits="" data-linenumber="341">
            <code class="sql">        )</code></li>

            <li class="never" data-hits="" data-linenumber="342">
            <code class="sql">      );</code></li>

            <li class="covered" data-hits="1" data-linenumber="343">
              <span class="hits">1</span>
              <code class="sql">      l_unit := a_coverage_data.objects.next(l_unit);</code></li>

            <li class="never" data-hits="" data-linenumber="344">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="345">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="346">
              <span class="hits">1</span>
              <code class="sql">    l_file_part := &apos;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="347">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="348">
              <span class="hits">1</span>
              <code class="sql">    ut_utils.append_to_list(l_result, l_file_part);</code></li>

            <li class="covered" data-hits="1" data-linenumber="349">
              <span class="hits">1</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="350">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="351">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="352">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="A55EDC518246E892DB761EC4B571F16B"><div class="header"> <h3>UT3.UT_COVERAGE_SONAR_REPORTER</h3><h4><span class="green">97.14 %</span> lines covered</h4><div> <b>35</b> relevant lines. <span class="green"><b>34</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_coverage_sonar_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_coverage_sonar_reporter(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_coverage_sonar_reporter</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="23">
              <span class="hits">5</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="5" data-linenumber="24">
              <span class="hits">5</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  overriding member procedure after_calling_run(self in out nocopy ut_coverage_sonar_reporter, a_run in ut_run) as</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    function get_lines_xml(a_unit_coverage ut_coverage.t_unit_coverage) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">      l_file_part    varchar2(32767);</code></li>

            <li class="covered" data-hits="41" data-linenumber="32">
              <span class="hits">41</span>
              <code class="sql">      l_result       ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">      l_line_no      binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="41" data-linenumber="35">
              <span class="hits">41</span>
              <code class="sql">      l_line_no := a_unit_coverage.lines.first;</code></li>

            <li class="covered" data-hits="41" data-linenumber="36">
              <span class="hits">41</span>
              <code class="sql">      if l_line_no is null then</code></li>

            <li class="covered" data-hits="12356" data-linenumber="37">
              <span class="hits">12356</span>
              <code class="sql">        for i in 1 .. a_unit_coverage.total_lines loop</code></li>

            <li class="covered" data-hits="12319" data-linenumber="38">
              <span class="hits">12319</span>
              <code class="sql">          ut_utils.append_to_list(l_result, &apos;&lt;lineToCover lineNumber=&quot;&apos;||i||&apos;&quot; covered=&quot;false&quot;/&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="19" data-linenumber="41">
              <span class="hits">19</span>
              <code class="sql">        while l_line_no is not null loop</code></li>

            <li class="covered" data-hits="15" data-linenumber="42">
              <span class="hits">15</span>
              <code class="sql">          if a_unit_coverage.lines(l_line_no).executions = 0 then</code></li>

            <li class="covered" data-hits="4" data-linenumber="43">
              <span class="hits">4</span>
              <code class="sql">            l_file_part := &apos;&lt;lineToCover lineNumber=&quot;&apos;||l_line_no||&apos;&quot; covered=&quot;false&quot;/&gt;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">          else</code></li>

            <li class="covered" data-hits="11" data-linenumber="45">
              <span class="hits">11</span>
              <code class="sql">            l_file_part := &apos;&lt;lineToCover lineNumber=&quot;&apos;||l_line_no||&apos;&quot; covered=&quot;true&quot;&apos;;</code></li>

            <li class="covered" data-hits="11" data-linenumber="46">
              <span class="hits">11</span>
              <code class="sql">            if a_unit_coverage.lines(l_line_no).covered_blocks &lt;= a_unit_coverage.lines(l_line_no).no_blocks then</code></li>

            <li class="covered" data-hits="6" data-linenumber="47">
              <span class="hits">6</span>
              <code class="sql">              l_file_part := l_file_part || &apos; branchesToCover=&quot;&apos;||a_unit_coverage.lines(l_line_no).no_blocks||&apos;&quot;&apos;;</code></li>

            <li class="covered" data-hits="6" data-linenumber="48">
              <span class="hits">6</span>
              <code class="sql">              l_file_part := l_file_part || &apos; coveredBranches=&quot;&apos;||a_unit_coverage.lines(l_line_no).covered_blocks||&apos;&quot;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">            end if;</code></li>

            <li class="covered" data-hits="11" data-linenumber="50">
              <span class="hits">11</span>
              <code class="sql">            l_file_part := l_file_part ||&apos;/&gt;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="15" data-linenumber="52">
              <span class="hits">15</span>
              <code class="sql">          ut_utils.append_to_list(l_result, l_file_part);</code></li>

            <li class="covered" data-hits="15" data-linenumber="53">
              <span class="hits">15</span>
              <code class="sql">          l_line_no := a_unit_coverage.lines.next(l_line_no);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="41" data-linenumber="56">
              <span class="hits">41</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">    function get_coverage_xml(</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">      a_coverage_data ut_coverage.t_coverage,</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">      a_run ut_run</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">    ) return ut_varchar2_rows is</code></li>

            <li class="covered" data-hits="5" data-linenumber="63">
              <span class="hits">5</span>
              <code class="sql">      l_result               ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">      l_unit                 ut_coverage.t_full_name;</code></li>

            <li class="covered" data-hits="5" data-linenumber="65">
              <span class="hits">5</span>
              <code class="sql">      c_coverage_header constant varchar2(30) := &apos;&lt;coverage version=&quot;1&quot;&gt;&apos;;</code></li>

            <li class="covered" data-hits="5" data-linenumber="66">
              <span class="hits">5</span>
              <code class="sql">      c_file_footer     constant varchar2(30) := &apos;&lt;/file&gt;&apos;;</code></li>

            <li class="covered" data-hits="5" data-linenumber="67">
              <span class="hits">5</span>
              <code class="sql">      c_coverage_footer constant varchar2(30) := &apos;&lt;/coverage&gt;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="covered" data-hits="5" data-linenumber="70">
              <span class="hits">5</span>
              <code class="sql">    ut_utils.append_to_list(l_result, ut_utils.get_xml_header(a_run.client_character_set));</code></li>

            <li class="covered" data-hits="5" data-linenumber="71">
              <span class="hits">5</span>
              <code class="sql">    ut_utils.append_to_list(l_result, c_coverage_header);</code></li>

            <li class="covered" data-hits="5" data-linenumber="72">
              <span class="hits">5</span>
              <code class="sql">    l_unit := a_coverage_data.objects.first;</code></li>

            <li class="covered" data-hits="46" data-linenumber="73">
              <span class="hits">46</span>
              <code class="sql">    while l_unit is not null loop</code></li>

            <li class="covered" data-hits="42" data-linenumber="74">
              <span class="hits">42</span>
              <code class="sql">      ut_utils.append_to_list(l_result, &apos;&lt;file path=&quot;&apos;||dbms_xmlgen.convert(l_unit)||&apos;&quot;&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql"></code></li>

            <li class="covered" data-hits="41" data-linenumber="76">
              <span class="hits">41</span>
              <code class="sql">      ut_utils.append_to_list(l_result,get_lines_xml(a_coverage_data.objects(l_unit)));</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="covered" data-hits="41" data-linenumber="78">
              <span class="hits">41</span>
              <code class="sql">      ut_utils.append_to_list(l_result, c_file_footer);</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql"></code></li>

            <li class="covered" data-hits="41" data-linenumber="80">
              <span class="hits">41</span>
              <code class="sql">      l_unit := a_coverage_data.objects.next(l_unit);</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="5" data-linenumber="82">
              <span class="hits">5</span>
              <code class="sql">    ut_utils.append_to_list(l_result, c_coverage_footer);</code></li>

            <li class="covered" data-hits="5" data-linenumber="83">
              <span class="hits">5</span>
              <code class="sql">    return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="87">
              <span class="hits">6</span>
              <code class="sql">    ut_coverage.coverage_stop();</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql"></code></li>

            <li class="covered" data-hits="5" data-linenumber="89">
              <span class="hits">5</span>
              <code class="sql">    self.print_text_lines(</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">      get_coverage_xml(</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">        ut_coverage.get_coverage_data(a_run.coverage_options),</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">        a_run</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="99">
              <code class="sql">    return &apos;Generates a JSON coverage report providing information on code coverage with line numbers.&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">           &apos;Designed for [SonarQube](https://about.sonarqube.com/) to report coverage.&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">           &apos;JSON format returned conforms with the Sonar specification: https://docs.sonarqube.org/display/SONAR/Generic+Test+Data&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="993FAFE97092372D51170E754C78C88C"><div class="header"> <h3>UT3.UT_COVERALLS_REPORTER</h3><h4><span class="green">94.29 %</span> lines covered</h4><div> <b>35</b> relevant lines. <span class="green"><b>33</b> lines covered</span> and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_coveralls_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_coveralls_reporter(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_coveralls_reporter</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="23">
              <span class="hits">2</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="2" data-linenumber="24">
              <span class="hits">2</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member procedure after_calling_run(self in out nocopy ut_coveralls_reporter, a_run in ut_run) as</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">    function get_lines_json(a_unit_coverage ut_coverage.t_unit_coverage) return ut_varchar2_rows is</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">      l_file_part       varchar2(32767);</code></li>

            <li class="covered" data-hits="2" data-linenumber="31">
              <span class="hits">2</span>
              <code class="sql">      l_result          ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">      l_last_line_no    binary_integer;</code></li>

            <li class="covered" data-hits="2" data-linenumber="33">
              <span class="hits">2</span>
              <code class="sql">      c_coverage_header constant varchar2(30) := &apos;&quot;coverage&quot;: [&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="34">
              <span class="hits">2</span>
              <code class="sql">      c_null            constant varchar2(4) := &apos;null&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="36">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list(l_result, c_coverage_header);</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="38">
              <span class="hits">2</span>
              <code class="sql">      l_last_line_no := a_unit_coverage.lines.last;</code></li>

            <li class="covered" data-hits="2" data-linenumber="39">
              <span class="hits">2</span>
              <code class="sql">      if l_last_line_no is null then</code></li>

            <li class="covered" data-hits="1" data-linenumber="40">
              <span class="hits">1</span>
              <code class="sql">        ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">            l_result</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">            , rpad( to_clob( &apos;0&apos; ), ( a_unit_coverage.total_lines * 3 ) - 2, &apos;,&apos;||chr(10)||&apos;0&apos; )</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="8" data-linenumber="45">
              <span class="hits">8</span>
              <code class="sql">        for line_no in 1 .. l_last_line_no loop</code></li>

            <li class="covered" data-hits="7" data-linenumber="46">
              <span class="hits">7</span>
              <code class="sql">          if a_unit_coverage.lines.exists(line_no) then</code></li>

            <li class="covered" data-hits="3" data-linenumber="47">
              <span class="hits">3</span>
              <code class="sql">            l_file_part := to_char(a_unit_coverage.lines(line_no).executions);</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">          else</code></li>

            <li class="covered" data-hits="4" data-linenumber="49">
              <span class="hits">4</span>
              <code class="sql">            l_file_part := c_null;</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="7" data-linenumber="51">
              <span class="hits">7</span>
              <code class="sql">          if line_no &lt; l_last_line_no then</code></li>

            <li class="covered" data-hits="6" data-linenumber="52">
              <span class="hits">6</span>
              <code class="sql">            l_file_part := l_file_part ||&apos;,&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">          end if;</code></li>

            <li class="covered" data-hits="7" data-linenumber="54">
              <span class="hits">7</span>
              <code class="sql">          ut_utils.append_to_list(l_result, l_file_part);</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="2" data-linenumber="57">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list(l_result, &apos;]&apos;);</code></li>

            <li class="covered" data-hits="2" data-linenumber="58">
              <span class="hits">2</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">    function get_coverage_json(</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">      a_coverage_data ut_coverage.t_coverage</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    ) return ut_varchar2_rows is</code></li>

            <li class="covered" data-hits="2" data-linenumber="64">
              <span class="hits">2</span>
              <code class="sql">      l_result               ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">      l_unit                 ut_coverage.t_full_name;</code></li>

            <li class="covered" data-hits="2" data-linenumber="66">
              <span class="hits">2</span>
              <code class="sql">      c_coverage_header constant varchar2(30) := &apos;{&quot;source_files&quot;:[&apos;;</code></li>

            <li class="covered" data-hits="2" data-linenumber="67">
              <span class="hits">2</span>
              <code class="sql">      c_coverage_footer constant varchar2(30) := &apos;]}&apos;||chr(10)||&apos; &apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="69">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list(l_result, c_coverage_header);</code></li>

            <li class="covered" data-hits="2" data-linenumber="70">
              <span class="hits">2</span>
              <code class="sql">      l_unit := a_coverage_data.objects.first;</code></li>

            <li class="covered" data-hits="4" data-linenumber="71">
              <span class="hits">4</span>
              <code class="sql">      while l_unit is not null loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="72">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list(l_result, &apos;{ &quot;name&quot;: &quot;&apos;||l_unit||&apos;&quot;,&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="74">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list(l_result,get_lines_json(a_coverage_data.objects(l_unit)));</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="76">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list(l_result, &apos;}&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="78">
              <span class="hits">2</span>
              <code class="sql">        l_unit := a_coverage_data.objects.next(l_unit);</code></li>

            <li class="covered" data-hits="2" data-linenumber="79">
              <span class="hits">2</span>
              <code class="sql">        if l_unit is not null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="80">
              <code class="sql">          ut_utils.append_to_list(l_result, &apos;,&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="2" data-linenumber="83">
              <span class="hits">2</span>
              <code class="sql">      ut_utils.append_to_list(l_result, c_coverage_footer);</code></li>

            <li class="covered" data-hits="2" data-linenumber="84">
              <span class="hits">2</span>
              <code class="sql">      return l_result;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="87">
              <span class="hits">3</span>
              <code class="sql">    ut_coverage.coverage_stop();</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql"></code></li>

            <li class="covered" data-hits="2" data-linenumber="89">
              <span class="hits">2</span>
              <code class="sql">    self.print_text_lines(</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">      get_coverage_json(</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">        ut_coverage.get_coverage_data(a_run.coverage_options)</code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">  overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="98">
              <code class="sql">    return &apos;Generates a JSON coverage report providing information on code coverage with line numbers.&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">           &apos;Designed for [Coveralls](https://coveralls.io/).&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">           &apos;JSON format conforms with specification: https://docs.coveralls.io/api-introduction&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="30DDE07F9A3D6EA525169A4FCA50CF3F"><div class="header"> <h3>UT3.UT_DEBUG_REPORTER</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>25</b> relevant lines. <span class="green"><b>25</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_debug_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_debug_reporter(self in out nocopy ut_debug_reporter) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="21">
              <span class="hits">1</span>
              <code class="sql">    self.init($$plsql_unit,ut_output_clob_table_buffer());</code></li>

            <li class="covered" data-hits="1" data-linenumber="22">
              <span class="hits">1</span>
              <code class="sql">    self.start_time := current_timestamp();</code></li>

            <li class="covered" data-hits="1" data-linenumber="23">
              <span class="hits">1</span>
              <code class="sql">    self.event_time := current_timestamp();</code></li>

            <li class="covered" data-hits="1" data-linenumber="24">
              <span class="hits">1</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member function get_supported_events return ut_varchar2_list is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="29">
              <span class="hits">1</span>
              <code class="sql">    return ut_varchar2_list(ut_event_manager.gc_all);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member procedure on_event( self in out nocopy ut_debug_reporter, a_event_name varchar2, a_event_item ut_event_item) is</code></li>

            <li class="covered" data-hits="76" data-linenumber="33">
              <span class="hits">76</span>
              <code class="sql">    c_time            constant timestamp := current_timestamp();</code></li>

            <li class="covered" data-hits="76" data-linenumber="34">
              <span class="hits">76</span>
              <code class="sql">    c_time_from_start constant interval day(0) to second(6) := (c_time - self.start_time);</code></li>

            <li class="covered" data-hits="76" data-linenumber="35">
              <span class="hits">76</span>
              <code class="sql">    c_time_from_prev  constant interval day(0) to second(6) := (c_time - self.event_time);</code></li>

            <li class="covered" data-hits="76" data-linenumber="36">
              <span class="hits">76</span>
              <code class="sql">    l_stack varchar2(32767) := dbms_utility.format_call_stack();</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="76" data-linenumber="38">
              <span class="hits">76</span>
              <code class="sql">    l_stack := regexp_replace(</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">      substr( l_stack, instr( l_stack, chr(10), 1, 6 ) +1 ),</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">      &apos;[0-9abcdefx]+ +([0-9]+) +(package |type )?(body )?(.*)&apos;,&apos;at &quot;\4&quot;, line \1&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql"></code></li>

            <li class="covered" data-hits="76" data-linenumber="42">
              <span class="hits">76</span>
              <code class="sql">    if a_event_name = ut_event_manager.gc_initialize then</code></li>

            <li class="covered" data-hits="1" data-linenumber="43">
              <span class="hits">1</span>
              <code class="sql">      self.on_initialize(null);</code></li>

            <li class="covered" data-hits="1" data-linenumber="44">
              <span class="hits">1</span>
              <code class="sql">      self.print_text(&apos;&lt;DEBUG_LOG&gt;&apos;, ut_event_manager.gc_debug);</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="76" data-linenumber="46">
              <span class="hits">76</span>
              <code class="sql">    self.print_text(&apos;&lt;DEBUG&gt;&apos;, ut_event_manager.gc_debug);</code></li>

            <li class="covered" data-hits="76" data-linenumber="47">
              <span class="hits">76</span>
              <code class="sql">    self.print_text(</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">      &apos;  &lt;TIMESTAMP&gt;&apos; || ut_utils.to_string(c_time) || &apos;&lt;/TIMESTAMP&gt;&apos; || chr(10)</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">        || &apos;  &lt;TIME_FROM_START&gt;&apos;  || c_time_from_start || &apos;&lt;/TIME_FROM_START&gt;&apos; || chr(10)</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">        || &apos;  &lt;TIME_FROM_PREVIOUS&gt;&apos;  || c_time_from_prev || &apos;&lt;/TIME_FROM_PREVIOUS&gt;&apos; || chr(10)</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">        || &apos;  &lt;EVENT_NAME&gt;&apos; || a_event_name || &apos;&lt;/EVENT_NAME&gt;&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">      ut_event_manager.gc_debug</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">    );</code></li>

            <li class="covered" data-hits="76" data-linenumber="54">
              <span class="hits">76</span>
              <code class="sql">    self.print_text( &apos;  &lt;CALL_STACK&gt;&apos; || l_stack || &apos;&lt;/CALL_STACK&gt;&apos;, ut_event_manager.gc_debug);</code></li>

            <li class="covered" data-hits="76" data-linenumber="55">
              <span class="hits">76</span>
              <code class="sql">    if a_event_item is not null then</code></li>

            <li class="covered" data-hits="53" data-linenumber="56">
              <span class="hits">53</span>
              <code class="sql">      self.print_text_lines(</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">        ut_utils.convert_collection(</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">          ut_utils.clob_to_table( event_item_to_clob(a_event_item), ut_utils.gc_max_storage_varchar2_len )</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">        ),</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">        ut_event_manager.gc_debug</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="76" data-linenumber="63">
              <span class="hits">76</span>
              <code class="sql">    self.print_text(&apos;&lt;/DEBUG&gt;&apos;, ut_event_manager.gc_debug);</code></li>

            <li class="covered" data-hits="76" data-linenumber="64">
              <span class="hits">76</span>
              <code class="sql">    if a_event_name = ut_event_manager.gc_finalize then</code></li>

            <li class="covered" data-hits="1" data-linenumber="65">
              <span class="hits">1</span>
              <code class="sql">      self.print_text(&apos;&lt;/DEBUG_LOG&gt;&apos;, ut_event_manager.gc_debug);</code></li>

            <li class="covered" data-hits="1" data-linenumber="66">
              <span class="hits">1</span>
              <code class="sql">      self.on_finalize(null);</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="76" data-linenumber="68">
              <span class="hits">76</span>
              <code class="sql">    self.event_time := current_timestamp();</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  member function event_item_to_clob(a_event_item ut_event_item) return clob is</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">    l_clob clob;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="53" data-linenumber="74">
              <span class="hits">53</span>
              <code class="sql">    select xmlserialize( content deletexml(xmltype(a_event_item),&apos;/*/ITEMS|/*/ALL_EXPECTATIONS|/*/FAILED_EXPECTATIONS&apos;) as clob indent size = 2 ) into l_clob from dual;</code></li>

            <li class="covered" data-hits="53" data-linenumber="75">
              <span class="hits">53</span>
              <code class="sql">    return l_clob;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="75D21DED29E1976FAAB0BF39A21A508C"><div class="header"> <h3>UT3.UT_DOCUMENTATION_REPORTER</h3><h4><span class="green">98.89 %</span> lines covered</h4><div> <b>90</b> relevant lines. <span class="green"><b>89</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_documentation_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_documentation_reporter(self in out nocopy ut_documentation_reporter) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="71" data-linenumber="21">
              <span class="hits">71</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="71" data-linenumber="22">
              <span class="hits">71</span>
              <code class="sql">    self.lvl                       := 0;</code></li>

            <li class="covered" data-hits="71" data-linenumber="23">
              <span class="hits">71</span>
              <code class="sql">    self.failed_test_running_count := 0;</code></li>

            <li class="covered" data-hits="71" data-linenumber="24">
              <span class="hits">71</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  member function tab(self in ut_documentation_reporter) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1635" data-linenumber="29">
              <span class="hits">1635</span>
              <code class="sql">    return rpad(&apos; &apos;, self.lvl * 2);</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">  end tab;</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  overriding member procedure print_clob(self in out nocopy ut_documentation_reporter, a_clob clob, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    l_lines     ut_varchar2_list;</code></li>

            <li class="covered" data-hits="224" data-linenumber="34">
              <span class="hits">224</span>
              <code class="sql">    l_out_lines ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="224" data-linenumber="36">
              <span class="hits">224</span>
              <code class="sql">    if a_clob is not null and dbms_lob.getlength(a_clob) &gt; 0 then</code></li>

            <li class="covered" data-hits="158" data-linenumber="37">
              <span class="hits">158</span>
              <code class="sql">      l_lines := ut_utils.clob_to_table(a_clob, ut_utils.gc_max_storage_varchar2_len - length(nvl(tab(),0)));</code></li>

            <li class="covered" data-hits="614" data-linenumber="38">
              <span class="hits">614</span>
              <code class="sql">      for i in 1 .. l_lines.count loop</code></li>

            <li class="covered" data-hits="456" data-linenumber="39">
              <span class="hits">456</span>
              <code class="sql">        if l_lines(i) is not null then</code></li>

            <li class="covered" data-hits="298" data-linenumber="40">
              <span class="hits">298</span>
              <code class="sql">          ut_utils.append_to_list(l_out_lines, tab() || l_lines(i) );</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="158" data-linenumber="43">
              <span class="hits">158</span>
              <code class="sql">      (self as ut_output_reporter_base).print_text_lines(l_out_lines, a_item_type);</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">  overriding member procedure print_text(self in out nocopy ut_documentation_reporter, a_text varchar2, a_item_type varchar2 := null) is</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">    l_lines ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1035" data-linenumber="50">
              <span class="hits">1035</span>
              <code class="sql">    if a_text is not null then</code></li>

            <li class="covered" data-hits="1018" data-linenumber="51">
              <span class="hits">1018</span>
              <code class="sql">      l_lines := ut_utils.string_to_table(a_text);</code></li>

            <li class="covered" data-hits="2197" data-linenumber="52">
              <span class="hits">2197</span>
              <code class="sql">      for i in 1 .. l_lines.count loop</code></li>

            <li class="covered" data-hits="1179" data-linenumber="53">
              <span class="hits">1179</span>
              <code class="sql">        (self as ut_output_reporter_base).print_text(tab || l_lines(i), a_item_type);</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  overriding member procedure before_calling_suite(self in out nocopy ut_documentation_reporter, a_suite ut_logical_suite) as</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="206" data-linenumber="60">
              <span class="hits">206</span>
              <code class="sql">    self.print_text(coalesce(a_suite.description, a_suite.name));</code></li>

            <li class="covered" data-hits="206" data-linenumber="61">
              <span class="hits">206</span>
              <code class="sql">    lvl := lvl + 1;</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">  overriding member procedure after_calling_test(self in out nocopy ut_documentation_reporter, a_test ut_test) as</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">    l_message varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="216" data-linenumber="68">
              <span class="hits">216</span>
              <code class="sql">    l_message := coalesce(a_test.description, a_test.name)||&apos; [&apos;||round(a_test.execution_time,3)||&apos; sec]&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">    --if test failed, then add it to the failures list, print failure with number</code></li>

            <li class="covered" data-hits="216" data-linenumber="70">
              <span class="hits">216</span>
              <code class="sql">    if a_test.result = ut_utils.gc_disabled then</code></li>

            <li class="covered" data-hits="1" data-linenumber="71">
              <span class="hits">1</span>
              <code class="sql">      self.print_yellow_text(l_message || &apos; (DISABLED)&apos;);</code></li>

            <li class="covered" data-hits="215" data-linenumber="72">
              <span class="hits">215</span>
              <code class="sql">    elsif a_test.result = ut_utils.gc_success then</code></li>

            <li class="covered" data-hits="158" data-linenumber="73">
              <span class="hits">158</span>
              <code class="sql">      self.print_green_text(l_message);</code></li>

            <li class="covered" data-hits="57" data-linenumber="74">
              <span class="hits">57</span>
              <code class="sql">    elsif a_test.result &gt; ut_utils.gc_success then</code></li>

            <li class="covered" data-hits="57" data-linenumber="75">
              <span class="hits">57</span>
              <code class="sql">      failed_test_running_count := failed_test_running_count + 1;</code></li>

            <li class="covered" data-hits="57" data-linenumber="76">
              <span class="hits">57</span>
              <code class="sql">      self.print_red_text(l_message || &apos; (FAILED - &apos; || failed_test_running_count || &apos;)&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">    -- reproduce the output from before/after procedures and the test</code></li>

            <li class="covered" data-hits="216" data-linenumber="80">
              <span class="hits">216</span>
              <code class="sql">    self.print_clob(a_test.get_serveroutputs);</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  overriding member procedure after_calling_before_all(self in out nocopy ut_documentation_reporter, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="7" data-linenumber="85">
              <span class="hits">7</span>
              <code class="sql">    if a_executable.serveroutput is not null and a_executable.serveroutput != empty_clob() then</code></li>

            <li class="covered" data-hits="4" data-linenumber="86">
              <span class="hits">4</span>
              <code class="sql">      self.print_clob(a_executable.serveroutput);</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">  overriding member procedure after_calling_after_all(self in out nocopy ut_documentation_reporter, a_executable in ut_executable) is</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="92">
              <span class="hits">5</span>
              <code class="sql">    if a_executable.serveroutput is not null and a_executable.serveroutput != empty_clob() then</code></li>

            <li class="covered" data-hits="4" data-linenumber="93">
              <span class="hits">4</span>
              <code class="sql">      self.print_clob(a_executable.serveroutput);</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  overriding member procedure after_calling_suite(self in out nocopy ut_documentation_reporter, a_suite ut_logical_suite) as</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="206" data-linenumber="99">
              <span class="hits">206</span>
              <code class="sql">    lvl := lvl - 1;</code></li>

            <li class="covered" data-hits="206" data-linenumber="100">
              <span class="hits">206</span>
              <code class="sql">    if lvl = 0 then</code></li>

            <li class="covered" data-hits="93" data-linenumber="101">
              <span class="hits">93</span>
              <code class="sql">      self.print_text(&apos; &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  overriding member procedure after_calling_run(self in out nocopy ut_documentation_reporter, a_run in ut_run) as</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">    l_summary_text   varchar2(4000);</code></li>

            <li class="covered" data-hits="70" data-linenumber="107">
              <span class="hits">70</span>
              <code class="sql">    l_warning_index pls_integer := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">    -- make all warning indexes uniformly indented</code></li>

            <li class="covered" data-hits="70" data-linenumber="109">
              <span class="hits">70</span>
              <code class="sql">    c_warnings_lpad constant integer := length(to_char(a_run.results_count.warnings_count));</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">    procedure print_failure_for_expectation(a_expectation ut_expectation_result) is</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">      l_lines ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="114">
              <span class="hits">10</span>
              <code class="sql">      l_lines := a_expectation.get_result_lines();</code></li>

            <li class="covered" data-hits="33" data-linenumber="115">
              <span class="hits">33</span>
              <code class="sql">      for i in 1 .. l_lines.count loop</code></li>

            <li class="covered" data-hits="23" data-linenumber="116">
              <span class="hits">23</span>
              <code class="sql">        self.print_red_text(l_lines(i));</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="10" data-linenumber="118">
              <span class="hits">10</span>
              <code class="sql">      self.print_cyan_text(a_expectation.caller_info);</code></li>

            <li class="covered" data-hits="10" data-linenumber="119">
              <span class="hits">10</span>
              <code class="sql">      self.print_text(&apos; &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">    procedure print_failures_for_test(a_test ut_test, a_failure_no in out nocopy integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="181" data-linenumber="124">
              <span class="hits">181</span>
              <code class="sql">      if a_test.result &gt; ut_utils.gc_success then</code></li>

            <li class="covered" data-hits="57" data-linenumber="125">
              <span class="hits">57</span>
              <code class="sql">        a_failure_no := a_failure_no + 1;</code></li>

            <li class="covered" data-hits="57" data-linenumber="126">
              <span class="hits">57</span>
              <code class="sql">        self.print_text(lpad(a_failure_no, length(failed_test_running_count) + 2, &apos; &apos;) || &apos;) &apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">                        nvl(a_test.name, a_test.item.form_name));</code></li>

            <li class="covered" data-hits="57" data-linenumber="128">
              <span class="hits">57</span>
              <code class="sql">        self.lvl := self.lvl + 3;</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql"></code></li>

            <li class="covered" data-hits="57" data-linenumber="130">
              <span class="hits">57</span>
              <code class="sql">        self.print_red_text(ut_utils.table_to_clob(a_test.get_error_stack_traces()));</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql"></code></li>

            <li class="covered" data-hits="67" data-linenumber="132">
              <span class="hits">67</span>
              <code class="sql">        for j in 1 .. a_test.failed_expectations.count loop</code></li>

            <li class="covered" data-hits="10" data-linenumber="133">
              <span class="hits">10</span>
              <code class="sql">          print_failure_for_expectation(a_test.failed_expectations(j));</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql"></code></li>

            <li class="covered" data-hits="57" data-linenumber="136">
              <span class="hits">57</span>
              <code class="sql">        self.lvl := self.lvl - 3;</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">    procedure print_failures_from_suite(a_suite ut_logical_suite, a_failure_no in out nocopy integer) is</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="417" data-linenumber="142">
              <span class="hits">417</span>
              <code class="sql">      for i in 1 .. a_suite.items.count loop</code></li>

            <li class="covered" data-hits="267" data-linenumber="143">
              <span class="hits">267</span>
              <code class="sql">        if a_suite.items(i) is of(ut_logical_suite) then</code></li>

            <li class="covered" data-hits="86" data-linenumber="144">
              <span class="hits">86</span>
              <code class="sql">          print_failures_from_suite(treat(a_suite.items(i) as ut_logical_suite), a_failure_no);</code></li>

            <li class="covered" data-hits="181" data-linenumber="145">
              <span class="hits">181</span>
              <code class="sql">        elsif a_suite.items(i) is of(ut_test) then</code></li>

            <li class="covered" data-hits="181" data-linenumber="146">
              <span class="hits">181</span>
              <code class="sql">          print_failures_for_test(treat(a_suite.items(i) as ut_test), a_failure_no);</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">    procedure print_failures_details(a_run in ut_run) is</code></li>

            <li class="covered" data-hits="70" data-linenumber="152">
              <span class="hits">70</span>
              <code class="sql">      l_failure_no integer := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="70" data-linenumber="154">
              <span class="hits">70</span>
              <code class="sql">      if a_run.results_count.failure_count &gt; 0 or a_run.results_count.errored_count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql"></code></li>

            <li class="covered" data-hits="46" data-linenumber="156">
              <span class="hits">46</span>
              <code class="sql">        self.print_text(&apos;Failures:&apos;);</code></li>

            <li class="covered" data-hits="46" data-linenumber="157">
              <span class="hits">46</span>
              <code class="sql">        self.print_text(&apos; &apos;);</code></li>

            <li class="covered" data-hits="110" data-linenumber="158">
              <span class="hits">110</span>
              <code class="sql">        for i in 1 .. a_run.items.count loop</code></li>

            <li class="covered" data-hits="64" data-linenumber="159">
              <span class="hits">64</span>
              <code class="sql">          print_failures_from_suite(treat(a_run.items(i) as ut_logical_suite), l_failure_no);</code></li>

            <li class="never" data-hits="" data-linenumber="160">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="161">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="162">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="163">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">    procedure print_item_warnings(a_item in ut_suite_item) is</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql">      l_items ut_suite_items;</code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="29" data-linenumber="167">
              <span class="hits">29</span>
              <code class="sql">      if a_item is of (ut_logical_suite) then</code></li>

            <li class="covered" data-hits="6" data-linenumber="168">
              <span class="hits">6</span>
              <code class="sql">        l_items := treat(a_item as ut_logical_suite).items;</code></li>

            <li class="covered" data-hits="32" data-linenumber="169">
              <span class="hits">32</span>
              <code class="sql">        for i in 1 .. l_items.count loop</code></li>

            <li class="covered" data-hits="26" data-linenumber="170">
              <span class="hits">26</span>
              <code class="sql">          print_item_warnings(l_items(i));</code></li>

            <li class="never" data-hits="" data-linenumber="171">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="172">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="173">
            <code class="sql"></code></li>

            <li class="covered" data-hits="29" data-linenumber="174">
              <span class="hits">29</span>
              <code class="sql">      if a_item.warnings is not null and a_item.warnings.count &gt; 0 then</code></li>

            <li class="covered" data-hits="26" data-linenumber="175">
              <span class="hits">26</span>
              <code class="sql">        for i in 1 .. a_item.warnings.count loop</code></li>

            <li class="covered" data-hits="22" data-linenumber="176">
              <span class="hits">22</span>
              <code class="sql">          l_warning_index := l_warning_index + 1;</code></li>

            <li class="covered" data-hits="22" data-linenumber="177">
              <span class="hits">22</span>
              <code class="sql">          self.print_text(&apos;  &apos; || lpad(l_warning_index, c_warnings_lpad) || &apos;) &apos; || a_item.path);</code></li>

            <li class="covered" data-hits="22" data-linenumber="178">
              <span class="hits">22</span>
              <code class="sql">          self.lvl := self.lvl + 3;</code></li>

            <li class="covered" data-hits="22" data-linenumber="179">
              <span class="hits">22</span>
              <code class="sql">          self.print_red_text(a_item.warnings(i));</code></li>

            <li class="covered" data-hits="22" data-linenumber="180">
              <span class="hits">22</span>
              <code class="sql">          self.lvl := self.lvl - 3;</code></li>

            <li class="never" data-hits="" data-linenumber="181">
            <code class="sql">        end loop;</code></li>

            <li class="covered" data-hits="4" data-linenumber="182">
              <span class="hits">4</span>
              <code class="sql">        self.print_text(&apos; &apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="183">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="184">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="185">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="186">
            <code class="sql">    procedure print_warnings(a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="187">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="70" data-linenumber="188">
              <span class="hits">70</span>
              <code class="sql">      if a_run.results_count.warnings_count &gt; 0 then</code></li>

            <li class="covered" data-hits="3" data-linenumber="189">
              <span class="hits">3</span>
              <code class="sql">        self.print_text(&apos; &apos;);</code></li>

            <li class="covered" data-hits="3" data-linenumber="190">
              <span class="hits">3</span>
              <code class="sql">        self.print_text(&apos;Warnings:&apos;);</code></li>

            <li class="covered" data-hits="3" data-linenumber="191">
              <span class="hits">3</span>
              <code class="sql">        self.print_text(&apos; &apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="192">
              <span class="hits">6</span>
              <code class="sql">        for i in 1 .. a_run.items.count loop</code></li>

            <li class="covered" data-hits="3" data-linenumber="193">
              <span class="hits">3</span>
              <code class="sql">          print_item_warnings(treat(a_run.items(i) as ut_suite_item));</code></li>

            <li class="never" data-hits="" data-linenumber="194">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="195">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="196">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="198">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="70" data-linenumber="199">
              <span class="hits">70</span>
              <code class="sql">    print_failures_details(a_run);</code></li>

            <li class="covered" data-hits="70" data-linenumber="200">
              <span class="hits">70</span>
              <code class="sql">    print_warnings(a_run);</code></li>

            <li class="covered" data-hits="70" data-linenumber="201">
              <span class="hits">70</span>
              <code class="sql">    self.print_text(&apos;Finished in &apos; || a_run.execution_time || &apos; seconds&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="202">
            <code class="sql"></code></li>

            <li class="covered" data-hits="70" data-linenumber="203">
              <span class="hits">70</span>
              <code class="sql">    l_summary_text :=</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">      a_run.results_count.total_count || &apos; tests, &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql">      || a_run.results_count.failure_count || &apos; failed, &apos; || a_run.results_count.errored_count || &apos; errored, &apos;</code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">      || a_run.results_count.disabled_count ||&apos; disabled, &apos; || a_run.results_count.warnings_count || &apos; warning(s)&apos;;</code></li>

            <li class="covered" data-hits="70" data-linenumber="207">
              <span class="hits">70</span>
              <code class="sql">    if a_run.results_count.failure_count + a_run.results_count.errored_count + a_run.results_count.warnings_count &gt; 0 then</code></li>

            <li class="covered" data-hits="48" data-linenumber="208">
              <span class="hits">48</span>
              <code class="sql">      self.print_red_text(l_summary_text);</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">    else</code></li>

            <li class="covered" data-hits="22" data-linenumber="210">
              <span class="hits">22</span>
              <code class="sql">      self.print_green_text(l_summary_text);</code></li>

            <li class="never" data-hits="" data-linenumber="211">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="70" data-linenumber="212">
              <span class="hits">70</span>
              <code class="sql">    if a_run.random_test_order_seed is not null then</code></li>

            <li class="covered" data-hits="4" data-linenumber="213">
              <span class="hits">4</span>
              <code class="sql">      self.print_text(&apos;Tests were executed with random order seed &apos;&apos;&apos;||a_run.random_test_order_seed||&apos;&apos;&apos;.&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="70" data-linenumber="215">
              <span class="hits">70</span>
              <code class="sql">    self.print_text(&apos; &apos;);</code></li>

            <li class="covered" data-hits="70" data-linenumber="216">
              <span class="hits">70</span>
              <code class="sql">    (self as ut_reporter_base).after_calling_run(a_run);</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="218">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">  overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="220">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="221">
              <code class="sql">    return &apos;A textual pretty-print of unit test results (usually use for console output)&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="7BF22C8928D405D114E29619147867B3"><div class="header"> <h3>UT3.UT_JUNIT_REPORTER</h3><h4><span class="green">93.85 %</span> lines covered</h4><div> <b>65</b> relevant lines. <span class="green"><b>61</b> lines covered</span> and <span class="red"><b>4</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_junit_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_junit_reporter(self in out nocopy ut_junit_reporter) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="11" data-linenumber="21">
              <span class="hits">11</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="11" data-linenumber="22">
              <span class="hits">11</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member procedure after_calling_run(self in out nocopy ut_junit_reporter, a_run in ut_run) is</code></li>

            <li class="covered" data-hits="12" data-linenumber="26">
              <span class="hits">12</span>
              <code class="sql">    l_suite_id    integer := 0;</code></li>

            <li class="covered" data-hits="12" data-linenumber="27">
              <span class="hits">12</span>
              <code class="sql">    l_tests_count integer := a_run.results_count.disabled_count + a_run.results_count.success_count +</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">                             a_run.results_count.failure_count + a_run.results_count.errored_count;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    function get_path(a_path_with_name varchar2, a_name varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="19" data-linenumber="32">
              <span class="hits">19</span>
              <code class="sql">      return regexp_substr(a_path_with_name, &apos;(.*)\.&apos; ||a_name||&apos;$&apos;,subexpression=&gt;1);</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    procedure print_test_elements(a_test ut_test) is</code></li>

            <li class="covered" data-hits="19" data-linenumber="36">
              <span class="hits">19</span>
              <code class="sql">      l_results ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">      l_output  clob;</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="19" data-linenumber="39">
              <span class="hits">19</span>
              <code class="sql">      ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">        l_results,</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">        &apos;&lt;testcase classname=&quot;&apos; || dbms_xmlgen.convert(get_path(a_test.path, a_test.name)) || &apos;&quot;&apos; || &apos; assertions=&quot;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">        || nvl(a_test.all_expectations.count,0) || self.get_common_item_attributes(a_test)</code></li>

            <li class="covered" data-hits="1" data-linenumber="43">
              <span class="hits">1</span>
              <code class="sql">        || case when a_test.result != ut_utils.gc_success then</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">                &apos; status=&quot;&apos; || ut_utils.test_result_to_char(a_test.result) || &apos;&quot;&apos; end || &apos;&gt;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">      );</code></li>

            <li class="covered" data-hits="19" data-linenumber="46">
              <span class="hits">19</span>
              <code class="sql">      if a_test.result = ut_utils.gc_disabled then</code></li>

            <li class="covered" data-hits="2" data-linenumber="47">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;skipped/&gt;&apos; );</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="19" data-linenumber="49">
              <span class="hits">19</span>
              <code class="sql">      if a_test.result = ut_utils.gc_error then</code></li>

            <li class="covered" data-hits="2" data-linenumber="50">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;error&gt;&apos;);</code></li>

            <li class="covered" data-hits="2" data-linenumber="51">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list( l_results, ut_utils.to_cdata( ut_utils.convert_collection( a_test.get_error_stack_traces() ) ) );</code></li>

            <li class="covered" data-hits="2" data-linenumber="52">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;/error&gt;&apos;);</code></li>

            <li class="covered" data-hits="17" data-linenumber="53">
              <span class="hits">17</span>
              <code class="sql">      elsif a_test.result &gt; ut_utils.gc_success then</code></li>

            <li class="covered" data-hits="8" data-linenumber="54">
              <span class="hits">8</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;failure&gt;&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="55">
              <span class="hits">8</span>
              <code class="sql">        ut_utils.append_to_list( l_results, ut_utils.to_cdata( a_test.get_failed_expectation_lines() ) );</code></li>

            <li class="covered" data-hits="8" data-linenumber="56">
              <span class="hits">8</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;/failure&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql"></code></li>

            <li class="covered" data-hits="19" data-linenumber="59">
              <span class="hits">19</span>
              <code class="sql">      l_output := a_test.get_serveroutputs();</code></li>

            <li class="covered" data-hits="19" data-linenumber="60">
              <span class="hits">19</span>
              <code class="sql">      if l_output is not null then</code></li>

            <li class="covered" data-hits="6" data-linenumber="61">
              <span class="hits">6</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;system-out&gt;&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="62">
              <span class="hits">6</span>
              <code class="sql">        ut_utils.append_to_list( l_results, ut_utils.to_cdata( a_test.get_serveroutputs() ) );</code></li>

            <li class="covered" data-hits="6" data-linenumber="63">
              <span class="hits">6</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;/system-out&gt;&apos; );</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">      else</code></li>

            <li class="covered" data-hits="13" data-linenumber="65">
              <span class="hits">13</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;system-out/&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="19" data-linenumber="67">
              <span class="hits">19</span>
              <code class="sql">      ut_utils.append_to_list( l_results, &apos;&lt;system-err/&gt;&apos;);</code></li>

            <li class="covered" data-hits="19" data-linenumber="68">
              <span class="hits">19</span>
              <code class="sql">      ut_utils.append_to_list( l_results, &apos;&lt;/testcase&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql"></code></li>

            <li class="covered" data-hits="19" data-linenumber="70">
              <span class="hits">19</span>
              <code class="sql">      self.print_text_lines(l_results);</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">    procedure print_suite_elements(a_suite ut_logical_suite, a_suite_id in out nocopy integer) is</code></li>

            <li class="covered" data-hits="24" data-linenumber="74">
              <span class="hits">24</span>
              <code class="sql">      l_count       integer := a_suite.results_count.disabled_count + a_suite.results_count.success_count +</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">                               a_suite.results_count.failure_count + a_suite.results_count.errored_count;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">      l_suite       ut_suite;</code></li>

            <li class="covered" data-hits="24" data-linenumber="77">
              <span class="hits">24</span>
              <code class="sql">      l_tests       ut_suite_items := ut_suite_items();</code></li>

            <li class="covered" data-hits="24" data-linenumber="78">
              <span class="hits">24</span>
              <code class="sql">      l_results     ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">      l_data        clob;</code></li>

            <li class="never" data-hits="" data-linenumber="80">
            <code class="sql">      l_errors      ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="24" data-linenumber="82">
              <span class="hits">24</span>
              <code class="sql">      a_suite_id := a_suite_id + 1;</code></li>

            <li class="covered" data-hits="24" data-linenumber="83">
              <span class="hits">24</span>
              <code class="sql">      self.print_text(&apos;&lt;testsuite tests=&quot;&apos; || l_count || &apos;&quot;&apos; || &apos; id=&quot;&apos; || a_suite_id || &apos;&quot;&apos; || &apos; package=&quot;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">                      dbms_xmlgen.convert(a_suite.path) || &apos;&quot; &apos; || self.get_common_suite_attributes(a_suite) || &apos;&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">       -- Becasue testsuites have to appear before test we capture test and leave it for later.</code></li>

            <li class="covered" data-hits="55" data-linenumber="87">
              <span class="hits">55</span>
              <code class="sql">       for i in 1 .. a_suite.items.count loop</code></li>

            <li class="covered" data-hits="31" data-linenumber="88">
              <span class="hits">31</span>
              <code class="sql">        if a_suite.items(i) is of(ut_test) then</code></li>

            <li class="covered" data-hits="19" data-linenumber="89">
              <span class="hits">19</span>
              <code class="sql">          l_tests.extend;</code></li>

            <li class="covered" data-hits="19" data-linenumber="90">
              <span class="hits">19</span>
              <code class="sql">          l_tests(l_tests.last) :=  treat(a_suite.items(i) as ut_test);</code></li>

            <li class="covered" data-hits="12" data-linenumber="91">
              <span class="hits">12</span>
              <code class="sql">        elsif a_suite.items(i) is of(ut_logical_suite) then</code></li>

            <li class="covered" data-hits="12" data-linenumber="92">
              <span class="hits">12</span>
              <code class="sql">          print_suite_elements(treat(a_suite.items(i) as ut_logical_suite), a_suite_id);</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">      -- Now when all testsuite are printed do the testcases.</code></li>

            <li class="covered" data-hits="43" data-linenumber="97">
              <span class="hits">43</span>
              <code class="sql">      for i in 1 .. l_tests.count loop</code></li>

            <li class="covered" data-hits="19" data-linenumber="98">
              <span class="hits">19</span>
              <code class="sql">       print_test_elements(treat(l_tests(i) as ut_test));</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql"></code></li>

            <li class="covered" data-hits="24" data-linenumber="101">
              <span class="hits">24</span>
              <code class="sql">      if a_suite is of(ut_suite) then</code></li>

            <li class="covered" data-hits="14" data-linenumber="102">
              <span class="hits">14</span>
              <code class="sql">        l_suite := treat(a_suite as ut_suite);</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql"></code></li>

            <li class="covered" data-hits="14" data-linenumber="104">
              <span class="hits">14</span>
              <code class="sql">        l_data := l_suite.get_serveroutputs();</code></li>

            <li class="covered" data-hits="14" data-linenumber="105">
              <span class="hits">14</span>
              <code class="sql">        if l_data is not null then</code></li>

            <li class="covered" data-hits="2" data-linenumber="106">
              <span class="hits">2</span>
              <code class="sql">          ut_utils.append_to_list( l_results, &apos;&lt;system-out&gt;&apos;);</code></li>

            <li class="covered" data-hits="2" data-linenumber="107">
              <span class="hits">2</span>
              <code class="sql">          ut_utils.append_to_list( l_results, ut_utils.to_cdata( l_data ) );</code></li>

            <li class="covered" data-hits="2" data-linenumber="108">
              <span class="hits">2</span>
              <code class="sql">          ut_utils.append_to_list( l_results, &apos;&lt;/system-out&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="12" data-linenumber="110">
              <span class="hits">12</span>
              <code class="sql">          ut_utils.append_to_list( l_results, &apos;&lt;system-out/&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql"></code></li>

            <li class="covered" data-hits="14" data-linenumber="113">
              <span class="hits">14</span>
              <code class="sql">        l_errors := l_suite.get_error_stack_traces();</code></li>

            <li class="covered" data-hits="14" data-linenumber="114">
              <span class="hits">14</span>
              <code class="sql">        if l_errors is not empty then</code></li>

            <li class="missed" data-hits="0" data-linenumber="115">
              <code class="sql">          ut_utils.append_to_list( l_results, &apos;&lt;system-err&gt;&apos;);</code></li>

            <li class="missed" data-hits="0" data-linenumber="116">
              <code class="sql">          ut_utils.append_to_list( l_results, ut_utils.to_cdata( ut_utils.convert_collection(  l_errors ) ) );</code></li>

            <li class="missed" data-hits="0" data-linenumber="117">
              <code class="sql">          ut_utils.append_to_list( l_results, &apos;&lt;/system-err&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="118">
            <code class="sql">        else</code></li>

            <li class="covered" data-hits="14" data-linenumber="119">
              <span class="hits">14</span>
              <code class="sql">          ut_utils.append_to_list( l_results, &apos;&lt;system-err/&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="121">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="24" data-linenumber="122">
              <span class="hits">24</span>
              <code class="sql">      ut_utils.append_to_list( l_results, &apos;&lt;/testsuite&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql"></code></li>

            <li class="covered" data-hits="24" data-linenumber="124">
              <span class="hits">24</span>
              <code class="sql">      self.print_text_lines(l_results);</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="12" data-linenumber="128">
              <span class="hits">12</span>
              <code class="sql">    l_suite_id := 0;</code></li>

            <li class="covered" data-hits="12" data-linenumber="129">
              <span class="hits">12</span>
              <code class="sql">    self.print_text(ut_utils.get_xml_header(a_run.client_character_set));</code></li>

            <li class="covered" data-hits="12" data-linenumber="130">
              <span class="hits">12</span>
              <code class="sql">    self.print_text(&apos;&lt;testsuites tests=&quot;&apos; || l_tests_count || &apos;&quot;&apos; || self.get_common_suite_attributes(a_run) || &apos;&gt;&apos;);</code></li>

            <li class="covered" data-hits="24" data-linenumber="131">
              <span class="hits">24</span>
              <code class="sql">    for i in 1 .. a_run.items.count loop</code></li>

            <li class="covered" data-hits="12" data-linenumber="132">
              <span class="hits">12</span>
              <code class="sql">      print_suite_elements(treat(a_run.items(i) as ut_logical_suite), l_suite_id);</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="12" data-linenumber="134">
              <span class="hits">12</span>
              <code class="sql">    self.print_text(&apos;&lt;/testsuites&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql">  member function get_common_item_attributes(a_item ut_suite_item) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="55" data-linenumber="139">
              <span class="hits">55</span>
              <code class="sql">    return &apos;&quot; name=&quot;&apos; || dbms_xmlgen.convert(nvl(a_item.description, a_item.name))</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">           || &apos;&quot; time=&quot;&apos; || ut_utils.to_xml_number_format(a_item.execution_time()) || &apos;&quot; &apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">  member function get_common_suite_attributes(a_item ut_suite_item) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="144">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="36" data-linenumber="145">
              <span class="hits">36</span>
              <code class="sql">    return &apos; disabled=&quot;&apos; || a_item.results_count.disabled_count</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">           || &apos;&quot; errors=&quot;&apos; || a_item.results_count.errored_count</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">           || &apos;&quot; failures=&quot;&apos; || a_item.results_count.failure_count</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">           ||  get_common_item_attributes(a_item);</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="153">
              <code class="sql">    return &apos;Provides outcomes in a format conforming with JUnit 4 and above as defined in: https://gist.github.com/kuzuha/232902acab1344d6b578&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="155">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="156">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="6D30D3B0B842FCC6B0842D8E35B4D0B8"><div class="header"> <h3>UT3.UT_REALTIME_REPORTER</h3><h4><span class="green">100 %</span> lines covered</h4><div> <b>138</b> relevant lines. <span class="green"><b>138</b> lines covered</span> and <span class="red"><b>0</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_realtime_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_realtime_reporter(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_realtime_reporter</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="2" data-linenumber="23">
              <span class="hits">2</span>
              <code class="sql">    self.init($$plsql_unit,ut_output_clob_table_buffer());</code></li>

            <li class="covered" data-hits="2" data-linenumber="24">
              <span class="hits">2</span>
              <code class="sql">    total_number_of_tests := 0;</code></li>

            <li class="covered" data-hits="2" data-linenumber="25">
              <span class="hits">2</span>
              <code class="sql">    current_test_number := 0;</code></li>

            <li class="covered" data-hits="2" data-linenumber="26">
              <span class="hits">2</span>
              <code class="sql">    current_indent := 0;</code></li>

            <li class="covered" data-hits="2" data-linenumber="27">
              <span class="hits">2</span>
              <code class="sql">    print_buffer := ut_varchar2_rows();</code></li>

            <li class="covered" data-hits="2" data-linenumber="28">
              <span class="hits">2</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">  overriding member procedure before_calling_run(</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">    self  in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    a_run in            ut_run</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">    procedure print_test_elements(</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">      a_test in ut_test</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">    ) is</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="39">
              <span class="hits">8</span>
              <code class="sql">      total_number_of_tests := total_number_of_tests + 1;</code></li>

            <li class="covered" data-hits="8" data-linenumber="40">
              <span class="hits">8</span>
              <code class="sql">      self.print_start_node(&apos;test&apos;, &apos;id&apos;, a_test.path);</code></li>

            <li class="covered" data-hits="8" data-linenumber="41">
              <span class="hits">8</span>
              <code class="sql">      self.print_node(&apos;executableType&apos;, a_test.item.executable_type);</code></li>

            <li class="covered" data-hits="8" data-linenumber="42">
              <span class="hits">8</span>
              <code class="sql">      self.print_node(&apos;ownerName&apos;, a_test.item.owner_name);</code></li>

            <li class="covered" data-hits="8" data-linenumber="43">
              <span class="hits">8</span>
              <code class="sql">      self.print_node(&apos;objectName&apos;, a_test.item.object_name);</code></li>

            <li class="covered" data-hits="8" data-linenumber="44">
              <span class="hits">8</span>
              <code class="sql">      self.print_node(&apos;procedureName&apos;, a_test.item.procedure_name);</code></li>

            <li class="covered" data-hits="8" data-linenumber="45">
              <span class="hits">8</span>
              <code class="sql">      self.print_node(&apos;disabled&apos;, case when a_test.get_disabled_flag() then &apos;true&apos; else &apos;false&apos; end);</code></li>

            <li class="covered" data-hits="8" data-linenumber="46">
              <span class="hits">8</span>
              <code class="sql">      self.print_node(&apos;name&apos;, a_test.name);</code></li>

            <li class="covered" data-hits="8" data-linenumber="47">
              <span class="hits">8</span>
              <code class="sql">      self.print_node(&apos;description&apos;,  a_test.description);</code></li>

            <li class="covered" data-hits="8" data-linenumber="48">
              <span class="hits">8</span>
              <code class="sql">      self.print_node(&apos;testNumber&apos;, to_char(total_number_of_tests));</code></li>

            <li class="covered" data-hits="8" data-linenumber="49">
              <span class="hits">8</span>
              <code class="sql">      self.print_end_node(&apos;test&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    end print_test_elements;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    procedure print_suite_elements(</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">      a_suite in ut_logical_suite</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    ) is</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="56">
              <span class="hits">6</span>
              <code class="sql">      self.print_start_node(&apos;suite&apos;, &apos;id&apos;, a_suite.path);</code></li>

            <li class="covered" data-hits="6" data-linenumber="57">
              <span class="hits">6</span>
              <code class="sql">      self.print_node(&apos;name&apos;, a_suite.name);</code></li>

            <li class="covered" data-hits="6" data-linenumber="58">
              <span class="hits">6</span>
              <code class="sql">      self.print_node(&apos;description&apos;, a_suite.description);</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">      &lt;&lt;suite_elements&gt;&gt;</code></li>

            <li class="covered" data-hits="6" data-linenumber="60">
              <span class="hits">6</span>
              <code class="sql">      self.print_start_node(&apos;items&apos;);</code></li>

            <li class="covered" data-hits="19" data-linenumber="61">
              <span class="hits">19</span>
              <code class="sql">      for i in 1 .. a_suite.items.count loop</code></li>

            <li class="covered" data-hits="13" data-linenumber="62">
              <span class="hits">13</span>
              <code class="sql">        if a_suite.items(i) is of(ut_test) then</code></li>

            <li class="covered" data-hits="8" data-linenumber="63">
              <span class="hits">8</span>
              <code class="sql">          print_test_elements(treat(a_suite.items(i) as ut_test));</code></li>

            <li class="covered" data-hits="5" data-linenumber="64">
              <span class="hits">5</span>
              <code class="sql">        elsif a_suite.items(i) is of(ut_logical_suite) then</code></li>

            <li class="covered" data-hits="5" data-linenumber="65">
              <span class="hits">5</span>
              <code class="sql">          print_suite_elements(treat(a_suite.items(i) as ut_logical_suite));</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">      end loop suite_elements;</code></li>

            <li class="covered" data-hits="6" data-linenumber="68">
              <span class="hits">6</span>
              <code class="sql">      self.print_end_node(&apos;items&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="69">
              <span class="hits">6</span>
              <code class="sql">      self.print_end_node(&apos;suite&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    end print_suite_elements;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="72">
              <span class="hits">1</span>
              <code class="sql">    xml_header := ut_utils.get_xml_header(a_run.client_character_set);</code></li>

            <li class="covered" data-hits="1" data-linenumber="73">
              <span class="hits">1</span>
              <code class="sql">    self.print_xml_fragment(xml_header);</code></li>

            <li class="covered" data-hits="1" data-linenumber="74">
              <span class="hits">1</span>
              <code class="sql">    self.print_start_node(&apos;event&apos;, &apos;type&apos;, &apos;pre-run&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="75">
              <span class="hits">1</span>
              <code class="sql">    self.print_start_node(&apos;items&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">    &lt;&lt;items&gt;&gt;</code></li>

            <li class="covered" data-hits="2" data-linenumber="77">
              <span class="hits">2</span>
              <code class="sql">    for i in 1 .. a_run.items.count loop</code></li>

            <li class="covered" data-hits="1" data-linenumber="78">
              <span class="hits">1</span>
              <code class="sql">      print_suite_elements(treat(a_run.items(i) as ut_logical_suite));</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">    end loop items;</code></li>

            <li class="covered" data-hits="1" data-linenumber="80">
              <span class="hits">1</span>
              <code class="sql">    self.print_end_node(&apos;items&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="81">
              <span class="hits">1</span>
              <code class="sql">    self.print_node(&apos;totalNumberOfTests&apos;, to_char(total_number_of_tests));</code></li>

            <li class="covered" data-hits="1" data-linenumber="82">
              <span class="hits">1</span>
              <code class="sql">    self.print_end_node(&apos;event&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="83">
              <span class="hits">1</span>
              <code class="sql">    self.flush_print_buffer(&apos;pre-run&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">  end before_calling_run;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="86">
            <code class="sql">  overriding member procedure after_calling_run(</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">    self  in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    a_run in            ut_run</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="91">
              <span class="hits">1</span>
              <code class="sql">    self.print_xml_fragment(xml_header);</code></li>

            <li class="covered" data-hits="1" data-linenumber="92">
              <span class="hits">1</span>
              <code class="sql">    self.print_start_node(&apos;event&apos;, &apos;type&apos;, &apos;post-run&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="93">
              <span class="hits">1</span>
              <code class="sql">    self.print_start_node(&apos;run&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="94">
              <span class="hits">1</span>
              <code class="sql">    self.print_node(&apos;startTime&apos;, to_char(a_run.start_time, &apos;YYYY-MM-DD&quot;T&quot;HH24:MI:SS.FF6&apos;));</code></li>

            <li class="covered" data-hits="1" data-linenumber="95">
              <span class="hits">1</span>
              <code class="sql">    self.print_node(&apos;endTime&apos;, to_char(a_run.end_time, &apos;YYYY-MM-DD&quot;T&quot;HH24:MI:SS.FF6&apos;));</code></li>

            <li class="covered" data-hits="1" data-linenumber="96">
              <span class="hits">1</span>
              <code class="sql">    self.print_node(&apos;executionTime&apos;, ut_utils.to_xml_number_format(a_run.execution_time()));</code></li>

            <li class="covered" data-hits="1" data-linenumber="97">
              <span class="hits">1</span>
              <code class="sql">    self.print_start_node(&apos;counter&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="98">
              <span class="hits">1</span>
              <code class="sql">    self.print_node(&apos;disabled&apos;, to_char(a_run.results_count.disabled_count));</code></li>

            <li class="covered" data-hits="1" data-linenumber="99">
              <span class="hits">1</span>
              <code class="sql">    self.print_node(&apos;success&apos;, to_char(a_run.results_count.success_count));</code></li>

            <li class="covered" data-hits="1" data-linenumber="100">
              <span class="hits">1</span>
              <code class="sql">    self.print_node(&apos;failure&apos;, to_char(a_run.results_count.failure_count));</code></li>

            <li class="covered" data-hits="1" data-linenumber="101">
              <span class="hits">1</span>
              <code class="sql">    self.print_node(&apos;error&apos;, to_char(a_run.results_count.errored_count));</code></li>

            <li class="covered" data-hits="1" data-linenumber="102">
              <span class="hits">1</span>
              <code class="sql">    self.print_node(&apos;warning&apos;, to_char(a_run.results_count.warnings_count));</code></li>

            <li class="covered" data-hits="1" data-linenumber="103">
              <span class="hits">1</span>
              <code class="sql">    self.print_end_node(&apos;counter&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="104">
              <span class="hits">1</span>
              <code class="sql">    self.print_cdata_node(&apos;errorStack&apos;, ut_utils.table_to_clob(a_run.get_error_stack_traces(), chr(10)||chr(10)));</code></li>

            <li class="covered" data-hits="1" data-linenumber="105">
              <span class="hits">1</span>
              <code class="sql">    self.print_cdata_node(&apos;serverOutput&apos;, a_run.get_serveroutputs());</code></li>

            <li class="covered" data-hits="1" data-linenumber="106">
              <span class="hits">1</span>
              <code class="sql">    self.print_end_node(&apos;run&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="107">
              <span class="hits">1</span>
              <code class="sql">    self.print_end_node(&apos;event&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="108">
              <span class="hits">1</span>
              <code class="sql">    self.flush_print_buffer(&apos;post-run&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">  end after_calling_run;</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">  overriding member procedure before_calling_suite(</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">    self    in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">    a_suite in            ut_logical_suite</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="116">
              <span class="hits">6</span>
              <code class="sql">    self.print_xml_fragment(xml_header);</code></li>

            <li class="covered" data-hits="6" data-linenumber="117">
              <span class="hits">6</span>
              <code class="sql">    self.print_start_node(&apos;event&apos;, &apos;type&apos;, &apos;pre-suite&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="118">
              <span class="hits">6</span>
              <code class="sql">    self.print_start_node(&apos;suite&apos;, &apos;id&apos;, a_suite.path);</code></li>

            <li class="covered" data-hits="6" data-linenumber="119">
              <span class="hits">6</span>
              <code class="sql">    self.print_end_node(&apos;suite&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="120">
              <span class="hits">6</span>
              <code class="sql">    self.print_end_node(&apos;event&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="121">
              <span class="hits">6</span>
              <code class="sql">    self.flush_print_buffer(&apos;pre-suite&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">  end before_calling_suite;</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">  overriding member procedure after_calling_suite(</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">    self    in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">    a_suite in            ut_logical_suite</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="128">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="129">
              <span class="hits">6</span>
              <code class="sql">    self.print_xml_fragment(xml_header);</code></li>

            <li class="covered" data-hits="6" data-linenumber="130">
              <span class="hits">6</span>
              <code class="sql">    self.print_start_node(&apos;event&apos;, &apos;type&apos;, &apos;post-suite&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="131">
              <span class="hits">6</span>
              <code class="sql">    self.print_start_node(&apos;suite&apos;, &apos;id&apos;, a_suite.path);</code></li>

            <li class="covered" data-hits="6" data-linenumber="132">
              <span class="hits">6</span>
              <code class="sql">    self.print_node(&apos;startTime&apos;, to_char(a_suite.start_time, &apos;YYYY-MM-DD&quot;T&quot;HH24:MI:SS.FF6&apos;));</code></li>

            <li class="covered" data-hits="6" data-linenumber="133">
              <span class="hits">6</span>
              <code class="sql">    self.print_node(&apos;endTime&apos;, to_char(a_suite.end_time, &apos;YYYY-MM-DD&quot;T&quot;HH24:MI:SS.FF6&apos;));</code></li>

            <li class="covered" data-hits="6" data-linenumber="134">
              <span class="hits">6</span>
              <code class="sql">    self.print_node(&apos;executionTime&apos;, ut_utils.to_xml_number_format(a_suite.execution_time()));</code></li>

            <li class="covered" data-hits="6" data-linenumber="135">
              <span class="hits">6</span>
              <code class="sql">    self.print_start_node(&apos;counter&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="136">
              <span class="hits">6</span>
              <code class="sql">    self.print_node(&apos;disabled&apos;, to_char(a_suite.results_count.disabled_count));</code></li>

            <li class="covered" data-hits="6" data-linenumber="137">
              <span class="hits">6</span>
              <code class="sql">    self.print_node(&apos;success&apos;, to_char(a_suite.results_count.success_count));</code></li>

            <li class="covered" data-hits="6" data-linenumber="138">
              <span class="hits">6</span>
              <code class="sql">    self.print_node(&apos;failure&apos;, to_char(a_suite.results_count.failure_count));</code></li>

            <li class="covered" data-hits="6" data-linenumber="139">
              <span class="hits">6</span>
              <code class="sql">    self.print_node(&apos;error&apos;, to_char(a_suite.results_count.errored_count));</code></li>

            <li class="covered" data-hits="6" data-linenumber="140">
              <span class="hits">6</span>
              <code class="sql">    self.print_node(&apos;warning&apos;, to_char(a_suite.results_count.warnings_count));</code></li>

            <li class="covered" data-hits="6" data-linenumber="141">
              <span class="hits">6</span>
              <code class="sql">    self.print_end_node(&apos;counter&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="142">
              <span class="hits">6</span>
              <code class="sql">    self.print_cdata_node(&apos;errorStack&apos;, ut_utils.table_to_clob(a_suite.get_error_stack_traces(), chr(10)||chr(10)));</code></li>

            <li class="covered" data-hits="6" data-linenumber="143">
              <span class="hits">6</span>
              <code class="sql">    self.print_cdata_node(&apos;serverOutput&apos;, a_suite.get_serveroutputs());</code></li>

            <li class="covered" data-hits="6" data-linenumber="144">
              <span class="hits">6</span>
              <code class="sql">    self.print_cdata_node(&apos;warnings&apos;, ut_utils.table_to_clob(a_suite.warnings, chr(10)||chr(10)));</code></li>

            <li class="covered" data-hits="6" data-linenumber="145">
              <span class="hits">6</span>
              <code class="sql">    self.print_end_node(&apos;suite&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="146">
              <span class="hits">6</span>
              <code class="sql">    self.print_end_node(&apos;event&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="147">
              <span class="hits">6</span>
              <code class="sql">    self.flush_print_buffer(&apos;post-suite&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">  end after_calling_suite;</code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">  overriding member procedure before_calling_test(</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">    self   in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql">    a_test in            ut_test</code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="154">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="155">
              <span class="hits">8</span>
              <code class="sql">    current_test_number := current_test_number + 1;</code></li>

            <li class="covered" data-hits="8" data-linenumber="156">
              <span class="hits">8</span>
              <code class="sql">    self.print_xml_fragment(xml_header);</code></li>

            <li class="covered" data-hits="8" data-linenumber="157">
              <span class="hits">8</span>
              <code class="sql">    self.print_start_node(&apos;event&apos;, &apos;type&apos;, &apos;pre-test&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="158">
              <span class="hits">8</span>
              <code class="sql">    self.print_start_node(&apos;test&apos;, &apos;id&apos;, a_test.path);</code></li>

            <li class="covered" data-hits="8" data-linenumber="159">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;testNumber&apos;, to_char(current_test_number));</code></li>

            <li class="covered" data-hits="8" data-linenumber="160">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;totalNumberOfTests&apos;, to_char(total_number_of_tests));</code></li>

            <li class="covered" data-hits="8" data-linenumber="161">
              <span class="hits">8</span>
              <code class="sql">    self.print_end_node(&apos;test&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="162">
              <span class="hits">8</span>
              <code class="sql">    self.print_end_node(&apos;event&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="163">
              <span class="hits">8</span>
              <code class="sql">    self.flush_print_buffer(&apos;pre-test&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="164">
            <code class="sql">  end before_calling_test;</code></li>

            <li class="never" data-hits="" data-linenumber="165">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="166">
            <code class="sql">  overriding member procedure after_calling_test(</code></li>

            <li class="never" data-hits="" data-linenumber="167">
            <code class="sql">    self   in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="168">
            <code class="sql">    a_test in            ut_test</code></li>

            <li class="never" data-hits="" data-linenumber="169">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="170">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="171">
              <span class="hits">8</span>
              <code class="sql">    self.print_xml_fragment(xml_header);</code></li>

            <li class="covered" data-hits="8" data-linenumber="172">
              <span class="hits">8</span>
              <code class="sql">    self.print_start_node(&apos;event&apos;, &apos;type&apos;, &apos;post-test&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="173">
              <span class="hits">8</span>
              <code class="sql">    self.print_start_node(&apos;test&apos;, &apos;id&apos;, a_test.path);</code></li>

            <li class="covered" data-hits="8" data-linenumber="174">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;testNumber&apos;, to_char(current_test_number));</code></li>

            <li class="covered" data-hits="8" data-linenumber="175">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;totalNumberOfTests&apos;, to_char(total_number_of_tests));</code></li>

            <li class="covered" data-hits="8" data-linenumber="176">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;startTime&apos;, to_char(a_test.start_time, &apos;YYYY-MM-DD&quot;T&quot;HH24:MI:SS.FF6&apos;));</code></li>

            <li class="covered" data-hits="8" data-linenumber="177">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;endTime&apos;, to_char(a_test.end_time, &apos;YYYY-MM-DD&quot;T&quot;HH24:MI:SS.FF6&apos;));</code></li>

            <li class="covered" data-hits="8" data-linenumber="178">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;executionTime&apos;, ut_utils.to_xml_number_format(a_test.execution_time()));</code></li>

            <li class="covered" data-hits="8" data-linenumber="179">
              <span class="hits">8</span>
              <code class="sql">    self.print_start_node(&apos;counter&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="180">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;disabled&apos;, to_char(a_test.results_count.disabled_count));</code></li>

            <li class="covered" data-hits="8" data-linenumber="181">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;success&apos;, to_char(a_test.results_count.success_count));</code></li>

            <li class="covered" data-hits="8" data-linenumber="182">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;failure&apos;, to_char(a_test.results_count.failure_count));</code></li>

            <li class="covered" data-hits="8" data-linenumber="183">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;error&apos;, to_char(a_test.results_count.errored_count));</code></li>

            <li class="covered" data-hits="8" data-linenumber="184">
              <span class="hits">8</span>
              <code class="sql">    self.print_node(&apos;warning&apos;, to_char(a_test.results_count.warnings_count));</code></li>

            <li class="covered" data-hits="8" data-linenumber="185">
              <span class="hits">8</span>
              <code class="sql">    self.print_end_node(&apos;counter&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="186">
              <span class="hits">8</span>
              <code class="sql">    self.print_cdata_node(&apos;errorStack&apos;, ut_utils.table_to_clob(a_test.get_error_stack_traces(), chr(10)||chr(10)));</code></li>

            <li class="covered" data-hits="8" data-linenumber="187">
              <span class="hits">8</span>
              <code class="sql">    self.print_cdata_node(&apos;serverOutput&apos;, a_test.get_serveroutputs());</code></li>

            <li class="covered" data-hits="8" data-linenumber="188">
              <span class="hits">8</span>
              <code class="sql">    if a_test.failed_expectations.count &gt; 0 then</code></li>

            <li class="covered" data-hits="2" data-linenumber="189">
              <span class="hits">2</span>
              <code class="sql">      self.print_start_node(&apos;failedExpectations&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="190">
            <code class="sql">      &lt;&lt;expectations&gt;&gt;</code></li>

            <li class="covered" data-hits="5" data-linenumber="191">
              <span class="hits">5</span>
              <code class="sql">      for i in 1 .. a_test.failed_expectations.count loop</code></li>

            <li class="covered" data-hits="3" data-linenumber="192">
              <span class="hits">3</span>
              <code class="sql">        self.print_start_node(&apos;expectation&apos;);</code></li>

            <li class="covered" data-hits="3" data-linenumber="193">
              <span class="hits">3</span>
              <code class="sql">        self.print_node(&apos;description&apos;, a_test.failed_expectations(i).description);</code></li>

            <li class="covered" data-hits="3" data-linenumber="194">
              <span class="hits">3</span>
              <code class="sql">        self.print_cdata_node(&apos;message&apos;, a_test.failed_expectations(i).message);</code></li>

            <li class="covered" data-hits="3" data-linenumber="195">
              <span class="hits">3</span>
              <code class="sql">        self.print_cdata_node(&apos;caller&apos;, a_test.failed_expectations(i).caller_info);</code></li>

            <li class="covered" data-hits="3" data-linenumber="196">
              <span class="hits">3</span>
              <code class="sql">        self.print_end_node(&apos;expectation&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="197">
            <code class="sql">      end loop expectations;</code></li>

            <li class="covered" data-hits="2" data-linenumber="198">
              <span class="hits">2</span>
              <code class="sql">      self.print_end_node(&apos;failedExpectations&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="199">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="8" data-linenumber="200">
              <span class="hits">8</span>
              <code class="sql">    self.print_cdata_node(&apos;warnings&apos;, ut_utils.table_to_clob(a_test.warnings, chr(10)||chr(10)));</code></li>

            <li class="covered" data-hits="8" data-linenumber="201">
              <span class="hits">8</span>
              <code class="sql">    self.print_end_node(&apos;test&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="202">
              <span class="hits">8</span>
              <code class="sql">    self.print_end_node(&apos;event&apos;);</code></li>

            <li class="covered" data-hits="8" data-linenumber="203">
              <span class="hits">8</span>
              <code class="sql">    self.flush_print_buffer(&apos;post-test&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="204">
            <code class="sql">  end after_calling_test;</code></li>

            <li class="never" data-hits="" data-linenumber="205">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="206">
            <code class="sql">  overriding member function get_description return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="207">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="208">
              <span class="hits">1</span>
              <code class="sql">    return &apos;Provides test results in a XML format, for clients such as SQL Developer interested in showing progressing details.&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="209">
            <code class="sql">  end get_description;</code></li>

            <li class="never" data-hits="" data-linenumber="210">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="211">
            <code class="sql">  member procedure print_start_node(</code></li>

            <li class="never" data-hits="" data-linenumber="212">
            <code class="sql">     self         in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="213">
            <code class="sql">     a_node_name  in            varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="214">
            <code class="sql">     a_attr_name  in            varchar2             default null,</code></li>

            <li class="never" data-hits="" data-linenumber="215">
            <code class="sql">     a_attr_value in            varchar2             default null</code></li>

            <li class="never" data-hits="" data-linenumber="216">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="217">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="100" data-linenumber="218">
              <span class="hits">100</span>
              <code class="sql">    self.print_xml_fragment(</code></li>

            <li class="never" data-hits="" data-linenumber="219">
            <code class="sql">       &apos;&lt;&apos; || a_node_name</code></li>

            <li class="covered" data-hits="1" data-linenumber="220">
              <span class="hits">1</span>
              <code class="sql">       || case</code></li>

            <li class="covered" data-hits="1" data-linenumber="221">
              <span class="hits">1</span>
              <code class="sql">            when a_attr_name is not null and a_attr_value is not null then</code></li>

            <li class="never" data-hits="" data-linenumber="222">
            <code class="sql">              &apos; &apos; || a_attr_name || &apos;=&quot;&apos; || dbms_xmlgen.convert(a_attr_value) || &apos;&quot;&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="223">
            <code class="sql">          end</code></li>

            <li class="never" data-hits="" data-linenumber="224">
            <code class="sql">       || &apos;&gt;&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="225">
            <code class="sql">       0, 1</code></li>

            <li class="never" data-hits="" data-linenumber="226">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="227">
            <code class="sql">  end print_start_node;</code></li>

            <li class="never" data-hits="" data-linenumber="228">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="229">
            <code class="sql">  member procedure print_end_node(</code></li>

            <li class="never" data-hits="" data-linenumber="230">
            <code class="sql">    self in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="231">
            <code class="sql">    a_name in varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="232">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="233">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="100" data-linenumber="234">
              <span class="hits">100</span>
              <code class="sql">    self.print_xml_fragment(&apos;&lt;/&apos; || a_name || &apos;&gt;&apos;, -1);</code></li>

            <li class="never" data-hits="" data-linenumber="235">
            <code class="sql">  end print_end_node;</code></li>

            <li class="never" data-hits="" data-linenumber="236">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="237">
            <code class="sql">  member procedure print_node(</code></li>

            <li class="never" data-hits="" data-linenumber="238">
            <code class="sql">     self      in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="239">
            <code class="sql">     a_name    in            varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="240">
            <code class="sql">     a_content in            clob</code></li>

            <li class="never" data-hits="" data-linenumber="241">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="242">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="232" data-linenumber="243">
              <span class="hits">232</span>
              <code class="sql">    if a_content is not null then</code></li>

            <li class="covered" data-hits="219" data-linenumber="244">
              <span class="hits">219</span>
              <code class="sql">       self.print_xml_fragment(&apos;&lt;&apos; || a_name || &apos;&gt;&apos; || dbms_xmlgen.convert(a_content) || &apos;&lt;/&apos; || a_name || &apos;&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="245">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="246">
            <code class="sql">  end print_node;</code></li>

            <li class="never" data-hits="" data-linenumber="247">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="248">
            <code class="sql">  member procedure print_cdata_node(</code></li>

            <li class="never" data-hits="" data-linenumber="249">
            <code class="sql">     self      in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="250">
            <code class="sql">     a_name    in            varchar2,</code></li>

            <li class="never" data-hits="" data-linenumber="251">
            <code class="sql">     a_content in            clob</code></li>

            <li class="never" data-hits="" data-linenumber="252">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="253">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="50" data-linenumber="254">
              <span class="hits">50</span>
              <code class="sql">    if a_content is not null then</code></li>

            <li class="covered" data-hits="13" data-linenumber="255">
              <span class="hits">13</span>
              <code class="sql">       self.print_xml_fragment(&apos;&lt;&apos; || a_name || &apos;&gt;&lt;![CDATA[&apos; || a_content || &apos;]]&gt;&lt;/&apos; || a_name || &apos;&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="256">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="257">
            <code class="sql">  end print_cdata_node;</code></li>

            <li class="never" data-hits="" data-linenumber="258">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="259">
            <code class="sql">  member procedure print_xml_fragment(</code></li>

            <li class="never" data-hits="" data-linenumber="260">
            <code class="sql">    self                    in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="261">
            <code class="sql">    a_fragment              in            clob,</code></li>

            <li class="never" data-hits="" data-linenumber="262">
            <code class="sql">    a_indent_summand_before in            integer              default 0,</code></li>

            <li class="never" data-hits="" data-linenumber="263">
            <code class="sql">    a_indent_summand_after  in            integer              default 0</code></li>

            <li class="never" data-hits="" data-linenumber="264">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="265">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="462" data-linenumber="266">
              <span class="hits">462</span>
              <code class="sql">    current_indent := current_indent + a_indent_summand_before;</code></li>

            <li class="covered" data-hits="462" data-linenumber="267">
              <span class="hits">462</span>
              <code class="sql">    ut_utils.append_to_list(print_buffer, lpad(&apos; &apos;, 2 * current_indent) || a_fragment);</code></li>

            <li class="covered" data-hits="462" data-linenumber="268">
              <span class="hits">462</span>
              <code class="sql">    current_indent := current_indent + a_indent_summand_after;</code></li>

            <li class="never" data-hits="" data-linenumber="269">
            <code class="sql">  end print_xml_fragment;</code></li>

            <li class="never" data-hits="" data-linenumber="270">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="271">
            <code class="sql">  member procedure flush_print_buffer(</code></li>

            <li class="never" data-hits="" data-linenumber="272">
            <code class="sql">    self        in out nocopy ut_realtime_reporter,</code></li>

            <li class="never" data-hits="" data-linenumber="273">
            <code class="sql">    a_item_type in            varchar2</code></li>

            <li class="never" data-hits="" data-linenumber="274">
            <code class="sql">  ) is</code></li>

            <li class="never" data-hits="" data-linenumber="275">
            <code class="sql">    l_doc clob;</code></li>

            <li class="covered" data-hits="30" data-linenumber="276">
              <span class="hits">30</span>
              <code class="sql">    l_rows integer := print_buffer.count;</code></li>

            <li class="never" data-hits="" data-linenumber="277">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="513" data-linenumber="278">
              <span class="hits">513</span>
              <code class="sql">    for i in 1 .. l_rows loop</code></li>

            <li class="covered" data-hits="483" data-linenumber="279">
              <span class="hits">483</span>
              <code class="sql">      ut_utils.append_to_clob(l_doc, print_buffer(i));</code></li>

            <li class="covered" data-hits="483" data-linenumber="280">
              <span class="hits">483</span>
              <code class="sql">      ut_utils.append_to_clob(l_doc, chr(10));</code></li>

            <li class="never" data-hits="" data-linenumber="281">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="30" data-linenumber="282">
              <span class="hits">30</span>
              <code class="sql">    self.print_clob(l_doc, a_item_type);</code></li>

            <li class="covered" data-hits="30" data-linenumber="283">
              <span class="hits">30</span>
              <code class="sql">    print_buffer.delete;</code></li>

            <li class="never" data-hits="" data-linenumber="284">
            <code class="sql">  end flush_print_buffer;</code></li>

            <li class="never" data-hits="" data-linenumber="285">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="286">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="8DBA06E904F411C976086F76E852406F"><div class="header"> <h3>UT3.UT_SONAR_TEST_REPORTER</h3><h4><span class="green">97.73 %</span> lines covered</h4><div> <b>44</b> relevant lines. <span class="green"><b>43</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_sonar_test_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_sonar_test_reporter(</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">    self in out nocopy ut_sonar_test_reporter</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql">  ) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="23">
              <span class="hits">10</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="10" data-linenumber="24">
              <span class="hits">10</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  overriding member procedure after_calling_run(self in out nocopy ut_sonar_test_reporter, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">    function map_package_to_file(a_suite ut_suite, a_file_mappings ut_file_mappings) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    l_file_name varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="20" data-linenumber="32">
              <span class="hits">20</span>
              <code class="sql">      if a_file_mappings is not null then</code></li>

            <li class="covered" data-hits="34" data-linenumber="33">
              <span class="hits">34</span>
              <code class="sql">        for i in 1 .. a_file_mappings.count loop</code></li>

            <li class="covered" data-hits="32" data-linenumber="34">
              <span class="hits">32</span>
              <code class="sql">          if upper(a_file_mappings(i).object_name) = upper(a_suite.object_name)</code></li>

            <li class="covered" data-hits="1" data-linenumber="35">
              <span class="hits">1</span>
              <code class="sql">            and upper(a_file_mappings(i).object_owner) = upper(a_suite.object_owner)</code></li>

            <li class="covered" data-hits="1" data-linenumber="36">
              <span class="hits">1</span>
              <code class="sql">            and a_file_mappings(i).object_type = &apos;PACKAGE BODY&apos; then</code></li>

            <li class="covered" data-hits="18" data-linenumber="37">
              <span class="hits">18</span>
              <code class="sql">            l_file_name := a_file_mappings(i).file_name;</code></li>

            <li class="covered" data-hits="18" data-linenumber="38">
              <span class="hits">18</span>
              <code class="sql">            exit;</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="20" data-linenumber="42">
              <span class="hits">20</span>
              <code class="sql">      return coalesce(l_file_name, a_suite.path);</code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">    procedure print_test_results(a_test ut_test) is</code></li>

            <li class="covered" data-hits="43" data-linenumber="46">
              <span class="hits">43</span>
              <code class="sql">      l_results             ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="43" data-linenumber="48">
              <span class="hits">43</span>
              <code class="sql">      ut_utils.append_to_list( l_results, &apos;&lt;testCase name=&quot;&apos;||dbms_xmlgen.convert(a_test.name)||&apos;&quot; duration=&quot;&apos;||round(a_test.execution_time()*1000,0)||&apos;&quot; &gt;&apos;);</code></li>

            <li class="covered" data-hits="43" data-linenumber="49">
              <span class="hits">43</span>
              <code class="sql">      if a_test.result = ut_utils.gc_disabled then</code></li>

            <li class="covered" data-hits="2" data-linenumber="50">
              <span class="hits">2</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;skipped message=&quot;skipped&quot;/&gt;&apos;);</code></li>

            <li class="covered" data-hits="41" data-linenumber="51">
              <span class="hits">41</span>
              <code class="sql">      elsif a_test.result = ut_utils.gc_error then</code></li>

            <li class="covered" data-hits="9" data-linenumber="52">
              <span class="hits">9</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;error message=&quot;encountered errors&quot;&gt;&apos;);</code></li>

            <li class="covered" data-hits="9" data-linenumber="53">
              <span class="hits">9</span>
              <code class="sql">        ut_utils.append_to_list( l_results, ut_utils.to_cdata( ut_utils.convert_collection( a_test.get_error_stack_traces() ) ) );</code></li>

            <li class="covered" data-hits="9" data-linenumber="54">
              <span class="hits">9</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;/error&gt;&apos;);</code></li>

            <li class="covered" data-hits="32" data-linenumber="55">
              <span class="hits">32</span>
              <code class="sql">      elsif a_test.result &gt; ut_utils.gc_success then</code></li>

            <li class="covered" data-hits="3" data-linenumber="56">
              <span class="hits">3</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;failure message=&quot;some expectations have failed&quot;&gt;&apos;);</code></li>

            <li class="covered" data-hits="3" data-linenumber="57">
              <span class="hits">3</span>
              <code class="sql">        ut_utils.append_to_list( l_results, ut_utils.to_cdata( a_test.get_failed_expectation_lines() ) );</code></li>

            <li class="covered" data-hits="3" data-linenumber="58">
              <span class="hits">3</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;/failure&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="43" data-linenumber="60">
              <span class="hits">43</span>
              <code class="sql">      ut_utils.append_to_list( l_results, &apos;&lt;/testCase&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql"></code></li>

            <li class="covered" data-hits="43" data-linenumber="62">
              <span class="hits">43</span>
              <code class="sql">      self.print_text_lines(l_results);</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">    procedure print_suite_results(a_suite ut_logical_suite, a_file_mappings ut_file_mappings) is</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql"></code></li>

            <li class="covered" data-hits="113" data-linenumber="68">
              <span class="hits">113</span>
              <code class="sql">      for i in 1 .. a_suite.items.count loop</code></li>

            <li class="covered" data-hits="71" data-linenumber="69">
              <span class="hits">71</span>
              <code class="sql">        if a_suite.items(i) is of(ut_logical_suite) and a_suite.items(i) is not of(ut_suite_context) then</code></li>

            <li class="covered" data-hits="26" data-linenumber="70">
              <span class="hits">26</span>
              <code class="sql">          print_suite_results(treat(a_suite.items(i) as ut_logical_suite), a_file_mappings);</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql"></code></li>

            <li class="covered" data-hits="42" data-linenumber="74">
              <span class="hits">42</span>
              <code class="sql">      if a_suite is of(ut_suite) and a_suite is not of(ut_suite_context) then</code></li>

            <li class="covered" data-hits="20" data-linenumber="75">
              <span class="hits">20</span>
              <code class="sql">        self.print_text(&apos;&lt;file path=&quot;&apos;||dbms_xmlgen.convert(map_package_to_file(treat(a_suite as ut_suite), a_file_mappings))||&apos;&quot;&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="covered" data-hits="113" data-linenumber="78">
              <span class="hits">113</span>
              <code class="sql">      for i in 1 .. a_suite.items.count loop</code></li>

            <li class="covered" data-hits="71" data-linenumber="79">
              <span class="hits">71</span>
              <code class="sql">        if a_suite.items(i) is of(ut_suite_context) then</code></li>

            <li class="covered" data-hits="2" data-linenumber="80">
              <span class="hits">2</span>
              <code class="sql">          print_suite_results(treat(a_suite.items(i) as ut_suite_context), a_file_mappings);</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql"></code></li>

            <li class="covered" data-hits="42" data-linenumber="84">
              <span class="hits">42</span>
              <code class="sql">      if a_suite is of(ut_suite) then</code></li>

            <li class="covered" data-hits="73" data-linenumber="85">
              <span class="hits">73</span>
              <code class="sql">        for i in 1 .. a_suite.items.count loop</code></li>

            <li class="covered" data-hits="51" data-linenumber="86">
              <span class="hits">51</span>
              <code class="sql">          if a_suite.items(i) is of(ut_test) then</code></li>

            <li class="covered" data-hits="43" data-linenumber="87">
              <span class="hits">43</span>
              <code class="sql">            print_test_results(treat(a_suite.items(i) as ut_test));</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">          end if;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">        end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql"></code></li>

            <li class="covered" data-hits="42" data-linenumber="92">
              <span class="hits">42</span>
              <code class="sql">      if a_suite is of(ut_suite) and a_suite is not of(ut_suite_context) then</code></li>

            <li class="covered" data-hits="20" data-linenumber="93">
              <span class="hits">20</span>
              <code class="sql">        self.print_text(&apos;&lt;/file&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="98">
              <span class="hits">10</span>
              <code class="sql">    self.print_text(ut_utils.get_xml_header(a_run.client_character_set));</code></li>

            <li class="covered" data-hits="10" data-linenumber="99">
              <span class="hits">10</span>
              <code class="sql">    self.print_text(&apos;&lt;testExecutions version=&quot;1&quot;&gt;&apos;);</code></li>

            <li class="covered" data-hits="24" data-linenumber="100">
              <span class="hits">24</span>
              <code class="sql">    for i in 1 .. a_run.items.count loop</code></li>

            <li class="covered" data-hits="14" data-linenumber="101">
              <span class="hits">14</span>
              <code class="sql">      print_suite_results(treat(a_run.items(i) as ut_logical_suite), a_run.test_file_mappings);</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">    end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="104">
              <span class="hits">10</span>
              <code class="sql">    self.print_text(&apos;&lt;/testExecutions&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">  overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="109">
              <code class="sql">    return &apos;Generates a JSON report providing detailed information on test execution.&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">           &apos;Designed for [SonarQube](https://about.sonarqube.com/) to report test execution.&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">           &apos;JSON format returned conforms with the Sonar specification: https://docs.sonarqube.org/display/SONAR/Generic+Test+Data&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="8FA1BAC4515D97F9BD603588112C8EB3"><div class="header"> <h3>UT3.UT_TEAMCITY_REPORTER</h3><h4><span class="green">94.44 %</span> lines covered</h4><div> <b>36</b> relevant lines. <span class="green"><b>34</b> lines covered</span> (including <span class="yellow"><b>1</b> lines partially covered</span> ) and <span class="red"><b>2</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_teamcity_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_teamcity_reporter(self in out nocopy ut_teamcity_reporter) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="21">
              <span class="hits">3</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="3" data-linenumber="22">
              <span class="hits">3</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member procedure before_calling_suite(self in out nocopy ut_teamcity_reporter, a_suite in ut_logical_suite) is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="27">
              <span class="hits">8</span>
              <code class="sql">    self.print_text(</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">      ut_teamcity_reporter_helper.test_suite_started(</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">        a_suite_name =&gt; nvl(replace(trim(a_suite.description),&apos;.&apos;),a_suite.path)</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">  overriding member procedure after_calling_suite(self in out nocopy ut_teamcity_reporter, a_suite in ut_logical_suite) is</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="36">
              <span class="hits">8</span>
              <code class="sql">    self.print_text(</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">      ut_teamcity_reporter_helper.test_suite_finished(</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">        a_suite_name =&gt; nvl(replace(trim(a_suite.description),&apos;.&apos;),a_suite.path)</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">  overriding member procedure before_calling_test(self in out nocopy ut_teamcity_reporter, a_test in ut_test) is</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    l_test_full_name varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="45">
            <code class="sql">  begin</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql"></code></li>

            <li class="covered" data-hits="6" data-linenumber="47">
              <span class="hits">6</span>
              <code class="sql">    l_test_full_name := lower(a_test.item.owner_name) || &apos;.&apos; || lower(a_test.item.object_name) || &apos;.&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql">                        lower(a_test.item.procedure_name);</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="covered" data-hits="6" data-linenumber="50">
              <span class="hits">6</span>
              <code class="sql">    self.print_text(</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql">      ut_teamcity_reporter_helper.test_started(</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">        a_test_name =&gt; l_test_full_name,</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">        a_capture_standard_output =&gt; true</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">      )</code></li>

            <li class="never" data-hits="" data-linenumber="55">
            <code class="sql">    );</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="57">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  overriding member procedure after_calling_test(self in out nocopy ut_teamcity_reporter, a_test in ut_test) is</code></li>

            <li class="covered" data-hits="6" data-linenumber="60">
              <span class="hits">6</span>
              <code class="sql">    l_results        ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">    l_test_full_name varchar2(4000);</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">    l_std_err_msg    varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">    function add_error_message( a_message varchar2, a_message_name varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="3" data-linenumber="65">
              <span class="hits">3</span>
              <code class="sql">      return</code></li>

            <li class="covered" data-hits="1" data-linenumber="66">
              <span class="hits">1</span>
              <code class="sql">        case</code></li>

            <li class="covered" data-hits="1" data-linenumber="67">
              <span class="hits">1</span>
              <code class="sql">          when a_message is not null</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">          then a_message_name || chr(10) || a_message || chr(10)</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">        end;</code></li>

            <li class="never" data-hits="" data-linenumber="70">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">    function add_error_messages(a_executables ut_executables, a_message_name varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="72">
            <code class="sql">      l_message varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">      l_idx     binary_integer;</code></li>

            <li class="never" data-hits="" data-linenumber="74">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="75">
              <span class="hits">4</span>
              <code class="sql">      l_idx := a_executables.first;</code></li>

            <li class="covered" data-hits="6" data-linenumber="76">
              <span class="hits">6</span>
              <code class="sql">      while l_idx is not null loop</code></li>

            <li class="covered" data-hits="2" data-linenumber="77">
              <span class="hits">2</span>
              <code class="sql">        l_message := l_message || add_error_message(a_executables(l_idx).error_backtrace, a_message_name);</code></li>

            <li class="covered" data-hits="2" data-linenumber="78">
              <span class="hits">2</span>
              <code class="sql">        l_idx := a_executables.next(l_idx);</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql">      end loop;</code></li>

            <li class="covered" data-hits="4" data-linenumber="80">
              <span class="hits">4</span>
              <code class="sql">      return l_message;</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="83">
              <span class="hits">6</span>
              <code class="sql">    l_test_full_name := lower(a_test.item.owner_name) || &apos;.&apos; || lower(a_test.item.object_name) || &apos;.&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">                        lower(a_test.item.procedure_name);</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql"></code></li>

            <li class="covered" data-hits="7" data-linenumber="86">
              <span class="hits">7</span>
              <code class="sql">    if a_test.result = ut_utils.gc_disabled then</code></li>

            <li class="covered" data-hits="1" data-linenumber="87">
              <span class="hits">1</span>
              <code class="sql">      ut_utils.append_to_list( l_results, ut_teamcity_reporter_helper.test_disabled(l_test_full_name));</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">    else</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql"></code></li>

            <li class="covered" data-hits="5" data-linenumber="90">
              <span class="hits">5</span>
              <code class="sql">      ut_utils.append_to_list( l_results, a_test.get_serveroutputs());</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql"></code></li>

            <li class="covered" data-hits="5" data-linenumber="92">
              <span class="hits">5</span>
              <code class="sql">      if a_test.result = ut_utils.gc_error then</code></li>

            <li class="covered" data-hits="1" data-linenumber="93">
              <span class="hits">1</span>
              <code class="sql">        l_std_err_msg := l_std_err_msg || add_error_messages(a_test.before_each_list, &apos;Before each exception:&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="94">
              <span class="hits">1</span>
              <code class="sql">        l_std_err_msg := l_std_err_msg || add_error_messages(a_test.before_test_list, &apos;Before test exception:&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="95">
              <span class="hits">1</span>
              <code class="sql">        l_std_err_msg := l_std_err_msg || add_error_message(a_test.item.error_backtrace, &apos;Test exception:&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="96">
              <span class="hits">1</span>
              <code class="sql">        l_std_err_msg := l_std_err_msg || add_error_messages(a_test.after_test_list, &apos;After test exception:&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="97">
              <span class="hits">1</span>
              <code class="sql">        l_std_err_msg := l_std_err_msg || add_error_messages(a_test.after_each_list, &apos;After each exception:&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql"></code></li>

            <li class="covered" data-hits="1" data-linenumber="99">
              <span class="hits">1</span>
              <code class="sql">        ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">          l_results,</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">          ut_teamcity_reporter_helper.test_std_err(</code></li>

            <li class="never" data-hits="" data-linenumber="102">
            <code class="sql">            a_test_name =&gt; l_test_full_name,</code></li>

            <li class="never" data-hits="" data-linenumber="103">
            <code class="sql">            a_out       =&gt; trim(l_std_err_msg)</code></li>

            <li class="never" data-hits="" data-linenumber="104">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="105">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="1" data-linenumber="106">
              <span class="hits">1</span>
              <code class="sql">        ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">          l_results,</code></li>

            <li class="never" data-hits="" data-linenumber="108">
            <code class="sql">          ut_teamcity_reporter_helper.test_failed(</code></li>

            <li class="never" data-hits="" data-linenumber="109">
            <code class="sql">            a_test_name =&gt; l_test_full_name,</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">            a_msg       =&gt; &apos;Error occured&apos;,</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql">            a_details   =&gt;</code></li>

            <li class="never" data-hits="" data-linenumber="112">
            <code class="sql">              trim(l_std_err_msg)</code></li>

            <li class="partcov" data-hits="1" data-blocks="2/3" data-linenumber="113">
                <span class="blocks">2/3</span>
              <span class="hits">1</span>
              <code class="sql">                || case when a_test.failed_expectations is not null</code></li>

            <li class="covered" data-hits="1" data-linenumber="114">
              <span class="hits">1</span>
              <code class="sql">                      and a_test.failed_expectations.count&gt;0</code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">                   then a_test.failed_expectations(1).message end</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="4" data-linenumber="118">
              <span class="hits">4</span>
              <code class="sql">      elsif a_test.failed_expectations is not null and a_test.failed_expectations.count &gt; 0 then</code></li>

            <li class="never" data-hits="" data-linenumber="119">
            <code class="sql">        -- Teamcity supports only a single failure message</code></li>

            <li class="never" data-hits="" data-linenumber="120">
            <code class="sql"></code></li>

            <li class="covered" data-hits="3" data-linenumber="121">
              <span class="hits">3</span>
              <code class="sql">        ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">          l_results,</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">          ut_teamcity_reporter_helper.test_failed(</code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">            a_test_name =&gt; l_test_full_name,</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">            a_msg       =&gt; a_test.failed_expectations(a_test.failed_expectations.first).description,</code></li>

            <li class="never" data-hits="" data-linenumber="126">
            <code class="sql">            a_details   =&gt; a_test.failed_expectations(a_test.failed_expectations.first).message )</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql">        );</code></li>

            <li class="covered" data-hits="1" data-linenumber="128">
              <span class="hits">1</span>
              <code class="sql">      elsif a_test.result = ut_utils.gc_failure then</code></li>

            <li class="missed" data-hits="0" data-linenumber="129">
              <code class="sql">        ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">          l_results,</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql">          ut_teamcity_reporter_helper.test_failed(</code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">            a_test_name =&gt; l_test_full_name,</code></li>

            <li class="never" data-hits="" data-linenumber="133">
            <code class="sql">            a_msg       =&gt; &apos;Test failed&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="134">
            <code class="sql">          )</code></li>

            <li class="never" data-hits="" data-linenumber="135">
            <code class="sql">        );</code></li>

            <li class="never" data-hits="" data-linenumber="136">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="137">
            <code class="sql"></code></li>

            <li class="covered" data-hits="5" data-linenumber="138">
              <span class="hits">5</span>
              <code class="sql">      ut_utils.append_to_list(</code></li>

            <li class="never" data-hits="" data-linenumber="139">
            <code class="sql">        l_results,</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">        ut_teamcity_reporter_helper.test_finished(l_test_full_name, trunc(a_test.execution_time * 1e3))</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql">      );</code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">    end if;</code></li>

            <li class="covered" data-hits="6" data-linenumber="144">
              <span class="hits">6</span>
              <code class="sql">    self.print_text_lines(l_results);</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">  overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="149">
              <code class="sql">    return &apos;Provides the TeamCity (a CI server by jetbrains) reporting-format that allows tracking of progress of a CI step/task as it executes.&apos; || chr(10) ||</code></li>

            <li class="never" data-hits="" data-linenumber="150">
            <code class="sql">           &apos;https://confluence.jetbrains.com/display/TCD9/Build+Script+Interaction+with+TeamCity&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="151">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="152">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="153">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="F4D03BD90D5DE54D36E3104D1E9E1345"><div class="header"> <h3>UT3.UT_TEAMCITY_REPORTER_HELPER</h3><h4><span class="green">93.18 %</span> lines covered</h4><div> <b>44</b> relevant lines. <span class="green"><b>41</b> lines covered</span> and <span class="red"><b>3</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">package body ut_teamcity_reporter_helper is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  subtype t_prop_index is varchar2(2000 char);</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  type t_props is table of varchar2(32767) index by t_prop_index;</code></li>

            <li class="never" data-hits="" data-linenumber="21">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="22">
            <code class="sql">  function escape_value(a_value in varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="52" data-linenumber="24">
              <span class="hits">52</span>
              <code class="sql">    return translate(regexp_replace(a_value, q&apos;/(\&apos;|\||\[|\]|/&apos; || chr(13) || &apos;|&apos; || chr(10) || &apos;)&apos;, &apos;|\1&apos;),chr(13)||chr(10),&apos;rn&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="27">
            <code class="sql">  function message(a_command in varchar2, a_props t_props default cast(null as t_props)) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">    l_message varchar2(32767);</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">    l_index   t_prop_index;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql">    l_value   varchar2(32767);</code></li>

            <li class="covered" data-hits="33" data-linenumber="31">
              <span class="hits">33</span>
              <code class="sql">    l_max_len binary_integer := 2000;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="33" data-linenumber="33">
              <span class="hits">33</span>
              <code class="sql">    l_message := &apos;##teamcity[&apos; || a_command || &apos; timestamp=&apos;&apos;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">                 regexp_replace(to_char(systimestamp, &apos;YYYY-MM-DD&quot;T&quot;HH24:MI:ss.FF3TZHTZM&apos;), &apos;(\.\d{3})\d+(\+)&apos;, &apos;\1\2&apos;) || &apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="35">
            <code class="sql"></code></li>

            <li class="covered" data-hits="33" data-linenumber="36">
              <span class="hits">33</span>
              <code class="sql">    l_index := a_props.first;</code></li>

            <li class="covered" data-hits="119" data-linenumber="37">
              <span class="hits">119</span>
              <code class="sql">    while l_index is not null loop</code></li>

            <li class="covered" data-hits="86" data-linenumber="38">
              <span class="hits">86</span>
              <code class="sql">      if a_props(l_index) is not null then</code></li>

            <li class="covered" data-hits="51" data-linenumber="39">
              <span class="hits">51</span>
              <code class="sql">        l_value   := escape_value(a_props(l_index));</code></li>

            <li class="covered" data-hits="51" data-linenumber="40">
              <span class="hits">51</span>
              <code class="sql">        if length(l_value) &gt; l_max_len then</code></li>

            <li class="covered" data-hits="1" data-linenumber="41">
              <span class="hits">1</span>
              <code class="sql">          l_value   := substr(l_value,1,l_max_len-7)||escape_value(&apos;[...]&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql">        end if;</code></li>

            <li class="covered" data-hits="51" data-linenumber="43">
              <span class="hits">51</span>
              <code class="sql">        l_message := l_message || &apos; &apos; || l_index || &apos;=&apos;&apos;&apos; || l_value || &apos;&apos;&apos;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">      end if;</code></li>

            <li class="covered" data-hits="86" data-linenumber="45">
              <span class="hits">86</span>
              <code class="sql">      l_index := a_props.next(l_index);</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="33" data-linenumber="47">
              <span class="hits">33</span>
              <code class="sql">    l_message := l_message || &apos;]&apos;;</code></li>

            <li class="covered" data-hits="33" data-linenumber="48">
              <span class="hits">33</span>
              <code class="sql">    return l_message;</code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">  end message;</code></li>

            <li class="never" data-hits="" data-linenumber="51">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">  function test_suite_started(a_suite_name varchar2, a_flow_id varchar2 default null) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql">    l_props t_props;</code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="55">
              <span class="hits">8</span>
              <code class="sql">    l_props(&apos;name&apos;) := a_suite_name;</code></li>

            <li class="covered" data-hits="8" data-linenumber="56">
              <span class="hits">8</span>
              <code class="sql">    l_props(&apos;flowId&apos;) := a_flow_id;</code></li>

            <li class="covered" data-hits="8" data-linenumber="57">
              <span class="hits">8</span>
              <code class="sql">    return message(&apos;testSuiteStarted&apos;, l_props);</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">  function test_suite_finished(a_suite_name varchar2, a_flow_id varchar2 default null) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">    l_props t_props;</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="62">
              <span class="hits">8</span>
              <code class="sql">    l_props(&apos;name&apos;) := a_suite_name;</code></li>

            <li class="covered" data-hits="8" data-linenumber="63">
              <span class="hits">8</span>
              <code class="sql">    l_props(&apos;flowId&apos;) := a_flow_id;</code></li>

            <li class="covered" data-hits="8" data-linenumber="64">
              <span class="hits">8</span>
              <code class="sql">    return message(&apos;testSuiteFinished&apos;, l_props);</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="67">
            <code class="sql">  function test_started(a_test_name varchar2, a_capture_standard_output boolean default null, a_flow_id varchar2 default null) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="68">
            <code class="sql">    l_props t_props;</code></li>

            <li class="never" data-hits="" data-linenumber="69">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="6" data-linenumber="70">
              <span class="hits">6</span>
              <code class="sql">    l_props(&apos;name&apos;) := a_test_name;</code></li>

            <li class="covered" data-hits="6" data-linenumber="71">
              <span class="hits">6</span>
              <code class="sql">    l_props(&apos;captureStandardOutput&apos;) := case a_capture_standard_output</code></li>

            <li class="covered" data-hits="1" data-linenumber="72">
              <span class="hits">1</span>
              <code class="sql">                                          when true then</code></li>

            <li class="never" data-hits="" data-linenumber="73">
            <code class="sql">                                           &apos;true&apos;</code></li>

            <li class="missed" data-hits="0" data-linenumber="74">
              <code class="sql">                                          when false then</code></li>

            <li class="never" data-hits="" data-linenumber="75">
            <code class="sql">                                           &apos;false&apos;</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">                                          else</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql">                                           null</code></li>

            <li class="never" data-hits="" data-linenumber="78">
            <code class="sql">                                        end;</code></li>

            <li class="covered" data-hits="6" data-linenumber="79">
              <span class="hits">6</span>
              <code class="sql">    l_props(&apos;flowId&apos;) := a_flow_id;</code></li>

            <li class="covered" data-hits="6" data-linenumber="80">
              <span class="hits">6</span>
              <code class="sql">    return message(&apos;testStarted&apos;, l_props);</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">  function test_finished(a_test_name varchar2, a_test_duration_milisec number default null, a_flow_id varchar2 default null) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="84">
            <code class="sql">    l_props t_props;</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="5" data-linenumber="86">
              <span class="hits">5</span>
              <code class="sql">    l_props(&apos;name&apos;) := a_test_name;</code></li>

            <li class="covered" data-hits="5" data-linenumber="87">
              <span class="hits">5</span>
              <code class="sql">    l_props(&apos;duration&apos;) := a_test_duration_milisec;</code></li>

            <li class="covered" data-hits="5" data-linenumber="88">
              <span class="hits">5</span>
              <code class="sql">    l_props(&apos;flowId&apos;) := a_flow_id;</code></li>

            <li class="covered" data-hits="5" data-linenumber="89">
              <span class="hits">5</span>
              <code class="sql">    return message(&apos;testFinished&apos;, l_props);</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="92">
            <code class="sql">  function test_disabled(a_test_name varchar2, a_flow_id varchar2 default null) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="93">
            <code class="sql">    l_props t_props;</code></li>

            <li class="never" data-hits="" data-linenumber="94">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="95">
              <span class="hits">1</span>
              <code class="sql">    l_props(&apos;name&apos;) := a_test_name;</code></li>

            <li class="covered" data-hits="1" data-linenumber="96">
              <span class="hits">1</span>
              <code class="sql">    l_props(&apos;flowId&apos;) := a_flow_id;</code></li>

            <li class="covered" data-hits="1" data-linenumber="97">
              <span class="hits">1</span>
              <code class="sql">    return message(&apos;testIgnored&apos;, l_props);</code></li>

            <li class="never" data-hits="" data-linenumber="98">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="99">
            <code class="sql">  function test_failed(a_test_name varchar2, a_msg in varchar2 default null, a_details varchar2 default null, a_flow_id varchar2 default null, a_actual varchar2 default null, a_expected varchar2 default null) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="100">
            <code class="sql">    l_props t_props;</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="4" data-linenumber="102">
              <span class="hits">4</span>
              <code class="sql">    l_props(&apos;name&apos;) := a_test_name;</code></li>

            <li class="covered" data-hits="4" data-linenumber="103">
              <span class="hits">4</span>
              <code class="sql">    l_props(&apos;message&apos;) := a_msg;</code></li>

            <li class="covered" data-hits="4" data-linenumber="104">
              <span class="hits">4</span>
              <code class="sql">    l_props(&apos;details&apos;) := a_details;</code></li>

            <li class="covered" data-hits="4" data-linenumber="105">
              <span class="hits">4</span>
              <code class="sql">    l_props(&apos;flowId&apos;) := a_flow_id;</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="107">
              <span class="hits">4</span>
              <code class="sql">    if a_actual is not null and a_expected is not null then</code></li>

            <li class="missed" data-hits="0" data-linenumber="108">
              <code class="sql">      l_props(&apos;actual&apos;) := a_actual;</code></li>

            <li class="missed" data-hits="0" data-linenumber="109">
              <code class="sql">      l_props(&apos;expected&apos;) := a_expected;</code></li>

            <li class="never" data-hits="" data-linenumber="110">
            <code class="sql">    end if;</code></li>

            <li class="never" data-hits="" data-linenumber="111">
            <code class="sql"></code></li>

            <li class="covered" data-hits="4" data-linenumber="112">
              <span class="hits">4</span>
              <code class="sql">    return message(&apos;testFailed&apos;, l_props);</code></li>

            <li class="never" data-hits="" data-linenumber="113">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="115">
            <code class="sql">  function test_std_err(a_test_name varchar2, a_out in varchar2, a_flow_id in varchar2 default null) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">    l_props t_props;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="118">
              <span class="hits">1</span>
              <code class="sql">    l_props(&apos;name&apos;) := a_test_name;</code></li>

            <li class="covered" data-hits="1" data-linenumber="119">
              <span class="hits">1</span>
              <code class="sql">    l_props(&apos;out&apos;) := a_out;</code></li>

            <li class="covered" data-hits="1" data-linenumber="120">
              <span class="hits">1</span>
              <code class="sql">    l_props(&apos;flowId&apos;) := a_flow_id;</code></li>

            <li class="covered" data-hits="1" data-linenumber="121">
              <span class="hits">1</span>
              <code class="sql">    return message(&apos;testStdErr&apos;, l_props);</code></li>

            <li class="never" data-hits="" data-linenumber="122">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="124">
            <code class="sql">end ut_teamcity_reporter_helper;</code></li>
</ol></pre></div>
    <div class="source_table" id="875134AA9841E08D6A462A51BD5228D1"><div class="header"> <h3>UT3.UT_TFS_JUNIT_REPORTER</h3><h4><span class="green">92.45 %</span> lines covered</h4><div> <b>53</b> relevant lines. <span class="green"><b>49</b> lines covered</span> and <span class="red"><b>4</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_tfs_junit_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_tfs_junit_reporter(self in out nocopy ut_tfs_junit_reporter) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="21">
              <span class="hits">8</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="8" data-linenumber="22">
              <span class="hits">8</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member procedure after_calling_run(self in out nocopy ut_tfs_junit_reporter, a_run in ut_run) is</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="27">
              <span class="hits">8</span>
              <code class="sql">     junit_version_one(a_run);</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"> member procedure junit_version_one(self in out nocopy ut_tfs_junit_reporter,a_run in ut_run) is</code></li>

            <li class="covered" data-hits="8" data-linenumber="31">
              <span class="hits">8</span>
              <code class="sql">    l_suite_id    integer := 0;</code></li>

            <li class="never" data-hits="" data-linenumber="32">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="33">
            <code class="sql">    function get_common_suite_attributes(a_item ut_suite_item) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="34">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="35">
              <span class="hits">10</span>
              <code class="sql">     return &apos; errors=&quot;&apos; ||a_item.results_count.errored_count || &apos;&quot;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="36">
            <code class="sql">            &apos; failures=&quot;&apos; || a_item.results_count.failure_count ||</code></li>

            <li class="never" data-hits="" data-linenumber="37">
            <code class="sql">            &apos;&quot; name=&quot;&apos; || dbms_xmlgen.convert(nvl(a_item.description, a_item.name)) || &apos;&quot;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="38">
            <code class="sql">            &apos; time=&quot;&apos; || ut_utils.to_xml_number_format(a_item.execution_time()) || &apos;&quot; &apos;||</code></li>

            <li class="never" data-hits="" data-linenumber="39">
            <code class="sql">            &apos; timestamp=&quot;&apos; || to_char(sysdate,&apos;RRRR-MM-DD&quot;T&quot;HH24:MI:SS&apos;) || &apos;&quot; &apos;||</code></li>

            <li class="never" data-hits="" data-linenumber="40">
            <code class="sql">            &apos; hostname=&quot;&apos; || sys_context(&apos;USERENV&apos;,&apos;HOST&apos;) || &apos;&quot; &apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="41">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="42">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="43">
            <code class="sql">     function get_common_testcase_attributes(a_item ut_suite_item) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="44">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="45">
              <span class="hits">10</span>
              <code class="sql">     return &apos; name=&quot;&apos; || dbms_xmlgen.convert(nvl(a_item.description, a_item.name)) || &apos;&quot;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="46">
            <code class="sql">            &apos; time=&quot;&apos; || ut_utils.to_xml_number_format(a_item.execution_time()) || &apos;&quot;&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="47">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="48">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="49">
            <code class="sql">    function get_path(a_path_with_name varchar2, a_name varchar2) return varchar2 is</code></li>

            <li class="never" data-hits="" data-linenumber="50">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="51">
              <span class="hits">10</span>
              <code class="sql">      return regexp_substr(a_path_with_name, &apos;(.*)\.&apos; ||a_name||&apos;$&apos;,subexpression=&gt;1);</code></li>

            <li class="never" data-hits="" data-linenumber="52">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="53">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="54">
            <code class="sql">    procedure print_test_results(a_test ut_test) is</code></li>

            <li class="covered" data-hits="10" data-linenumber="55">
              <span class="hits">10</span>
              <code class="sql">      l_results ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="56">
            <code class="sql">    begin</code></li>

            <li class="covered" data-hits="10" data-linenumber="57">
              <span class="hits">10</span>
              <code class="sql">      self.print_text(&apos;&lt;testcase classname=&quot;&apos; || dbms_xmlgen.convert(get_path(a_test.path, a_test.name)) || &apos;&quot; &apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="58">
            <code class="sql">                      get_common_testcase_attributes(a_test) || &apos;&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="59">
            <code class="sql">      /*</code></li>

            <li class="never" data-hits="" data-linenumber="60">
            <code class="sql">      According to specs :</code></li>

            <li class="never" data-hits="" data-linenumber="61">
            <code class="sql">      - A failure is a test which the code has explicitly failed by using the mechanisms for that purpose.</code></li>

            <li class="never" data-hits="" data-linenumber="62">
            <code class="sql">        e.g., via an assertEquals</code></li>

            <li class="never" data-hits="" data-linenumber="63">
            <code class="sql">      - An errored test is one that had an unanticipated problem.</code></li>

            <li class="never" data-hits="" data-linenumber="64">
            <code class="sql">        e.g., an unchecked throwable; or a problem with the implementation of the test.</code></li>

            <li class="never" data-hits="" data-linenumber="65">
            <code class="sql">      */</code></li>

            <li class="never" data-hits="" data-linenumber="66">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="67">
              <span class="hits">10</span>
              <code class="sql">      if a_test.result = ut_utils.gc_error then</code></li>

            <li class="covered" data-hits="1" data-linenumber="68">
              <span class="hits">1</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;error type=&quot;error&quot; message=&quot;Error while executing &apos;||a_test.name||&apos;&quot;&gt;&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="69">
              <span class="hits">1</span>
              <code class="sql">        ut_utils.append_to_list( l_results, ut_utils.to_cdata( ut_utils.convert_collection( a_test.get_error_stack_traces() ) ) );</code></li>

            <li class="covered" data-hits="1" data-linenumber="70">
              <span class="hits">1</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;/error&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="71">
            <code class="sql">     -- Do not count error as failure</code></li>

            <li class="covered" data-hits="9" data-linenumber="72">
              <span class="hits">9</span>
              <code class="sql">      elsif a_test.result = ut_utils.gc_failure then</code></li>

            <li class="covered" data-hits="6" data-linenumber="73">
              <span class="hits">6</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;failure type=&quot;failure&quot; message=&quot;Test &apos;||a_test.name||&apos; failed&quot;&gt;&apos;);</code></li>

            <li class="covered" data-hits="6" data-linenumber="74">
              <span class="hits">6</span>
              <code class="sql">        ut_utils.append_to_list( l_results, ut_utils.to_cdata( a_test.get_failed_expectation_lines() ) );</code></li>

            <li class="covered" data-hits="6" data-linenumber="75">
              <span class="hits">6</span>
              <code class="sql">        ut_utils.append_to_list( l_results, &apos;&lt;/failure&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="76">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="77">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="78">
              <span class="hits">10</span>
              <code class="sql">      ut_utils.append_to_list( l_results, &apos;&lt;/testcase&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="79">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="80">
              <span class="hits">10</span>
              <code class="sql">      self.print_text_lines(l_results);</code></li>

            <li class="never" data-hits="" data-linenumber="81">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="82">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="83">
            <code class="sql">    procedure print_suite_results(a_suite ut_logical_suite, a_suite_id in out nocopy integer) is</code></li>

            <li class="covered" data-hits="17" data-linenumber="84">
              <span class="hits">17</span>
              <code class="sql">      l_tests_count integer := a_suite.results_count.disabled_count + a_suite.results_count.success_count +</code></li>

            <li class="never" data-hits="" data-linenumber="85">
            <code class="sql">                               a_suite.results_count.failure_count + a_suite.results_count.errored_count;</code></li>

            <li class="covered" data-hits="17" data-linenumber="86">
              <span class="hits">17</span>
              <code class="sql">      l_results     ut_varchar2_rows := ut_varchar2_rows();</code></li>

            <li class="never" data-hits="" data-linenumber="87">
            <code class="sql">      l_suite       ut_suite;</code></li>

            <li class="never" data-hits="" data-linenumber="88">
            <code class="sql">      l_outputs     clob;</code></li>

            <li class="never" data-hits="" data-linenumber="89">
            <code class="sql">      l_errors      ut_varchar2_list;</code></li>

            <li class="never" data-hits="" data-linenumber="90">
            <code class="sql">    begin</code></li>

            <li class="never" data-hits="" data-linenumber="91">
            <code class="sql"></code></li>

            <li class="covered" data-hits="36" data-linenumber="92">
              <span class="hits">36</span>
              <code class="sql">      for i in 1 .. a_suite.items.count loop</code></li>

            <li class="covered" data-hits="19" data-linenumber="93">
              <span class="hits">19</span>
              <code class="sql">        if a_suite.items(i) is of(ut_logical_suite) then</code></li>

            <li class="covered" data-hits="9" data-linenumber="94">
              <span class="hits">9</span>
              <code class="sql">          print_suite_results(treat(a_suite.items(i) as ut_logical_suite), a_suite_id);</code></li>

            <li class="never" data-hits="" data-linenumber="95">
            <code class="sql">        end if;</code></li>

            <li class="never" data-hits="" data-linenumber="96">
            <code class="sql">      end loop;</code></li>

            <li class="never" data-hits="" data-linenumber="97">
            <code class="sql"></code></li>

            <li class="covered" data-hits="17" data-linenumber="98">
              <span class="hits">17</span>
              <code class="sql">      if a_suite is of(ut_suite) then</code></li>

            <li class="covered" data-hits="10" data-linenumber="99">
              <span class="hits">10</span>
              <code class="sql">         a_suite_id := a_suite_id + 1;</code></li>

            <li class="covered" data-hits="11" data-linenumber="100">
              <span class="hits">11</span>
              <code class="sql">         self.print_text(&apos;&lt;testsuite tests=&quot;&apos; || l_tests_count || &apos;&quot;&apos; || &apos; id=&quot;&apos; || a_suite_id || &apos;&quot;&apos; || &apos; package=&quot;&apos; ||</code></li>

            <li class="never" data-hits="" data-linenumber="101">
            <code class="sql">                        dbms_xmlgen.convert(a_suite.path) || &apos;&quot; &apos; || get_common_suite_attributes(a_suite) || &apos;&gt;&apos;);</code></li>

            <li class="covered" data-hits="10" data-linenumber="102">
              <span class="hits">10</span>
              <code class="sql">         self.print_text(&apos;&lt;properties/&gt;&apos;);</code></li>

            <li class="covered" data-hits="22" data-linenumber="103">
              <span class="hits">22</span>
              <code class="sql">         for i in 1 .. a_suite.items.count loop</code></li>

            <li class="covered" data-hits="12" data-linenumber="104">
              <span class="hits">12</span>
              <code class="sql">           if a_suite.items(i) is of(ut_test) then</code></li>

            <li class="covered" data-hits="10" data-linenumber="105">
              <span class="hits">10</span>
              <code class="sql">             print_test_results(treat(a_suite.items(i) as ut_test));</code></li>

            <li class="never" data-hits="" data-linenumber="106">
            <code class="sql">           end if;</code></li>

            <li class="never" data-hits="" data-linenumber="107">
            <code class="sql">         end loop;</code></li>

            <li class="covered" data-hits="10" data-linenumber="108">
              <span class="hits">10</span>
              <code class="sql">         l_suite := treat(a_suite as ut_suite);</code></li>

            <li class="covered" data-hits="10" data-linenumber="109">
              <span class="hits">10</span>
              <code class="sql">         l_outputs := l_suite.get_serveroutputs();</code></li>

            <li class="covered" data-hits="10" data-linenumber="110">
              <span class="hits">10</span>
              <code class="sql">         if l_outputs is not null and l_outputs != empty_clob() then</code></li>

            <li class="covered" data-hits="1" data-linenumber="111">
              <span class="hits">1</span>
              <code class="sql">           ut_utils.append_to_list( l_results, &apos;&lt;system-out&gt;&apos;);</code></li>

            <li class="covered" data-hits="1" data-linenumber="112">
              <span class="hits">1</span>
              <code class="sql">           ut_utils.append_to_list( l_results, ut_utils.to_cdata( l_suite.get_serveroutputs() ) );</code></li>

            <li class="covered" data-hits="1" data-linenumber="113">
              <span class="hits">1</span>
              <code class="sql">           ut_utils.append_to_list( l_results, &apos;&lt;/system-out&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="114">
            <code class="sql">         else</code></li>

            <li class="covered" data-hits="9" data-linenumber="115">
              <span class="hits">9</span>
              <code class="sql">           ut_utils.append_to_list( l_results, &apos;&lt;system-out/&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="116">
            <code class="sql">         end if;</code></li>

            <li class="never" data-hits="" data-linenumber="117">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="118">
              <span class="hits">10</span>
              <code class="sql">         l_errors := l_suite.get_error_stack_traces();</code></li>

            <li class="covered" data-hits="10" data-linenumber="119">
              <span class="hits">10</span>
              <code class="sql">         if l_errors is not empty then</code></li>

            <li class="missed" data-hits="0" data-linenumber="120">
              <code class="sql">           ut_utils.append_to_list( l_results, &apos;&lt;system-err&gt;&apos;);</code></li>

            <li class="missed" data-hits="0" data-linenumber="121">
              <code class="sql">           ut_utils.append_to_list( l_results, ut_utils.to_cdata( ut_utils.convert_collection( l_errors ) ) );</code></li>

            <li class="missed" data-hits="0" data-linenumber="122">
              <code class="sql">           ut_utils.append_to_list( l_results, &apos;&lt;/system-err&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="123">
            <code class="sql">         else</code></li>

            <li class="covered" data-hits="10" data-linenumber="124">
              <span class="hits">10</span>
              <code class="sql">           ut_utils.append_to_list( l_results, &apos;&lt;system-err/&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="125">
            <code class="sql">         end if;</code></li>

            <li class="covered" data-hits="10" data-linenumber="126">
              <span class="hits">10</span>
              <code class="sql">         ut_utils.append_to_list( l_results, &apos;&lt;/testsuite&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="127">
            <code class="sql"></code></li>

            <li class="covered" data-hits="10" data-linenumber="128">
              <span class="hits">10</span>
              <code class="sql">         self.print_text_lines(l_results);</code></li>

            <li class="never" data-hits="" data-linenumber="129">
            <code class="sql">      end if;</code></li>

            <li class="never" data-hits="" data-linenumber="130">
            <code class="sql">    end;</code></li>

            <li class="never" data-hits="" data-linenumber="131">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="132">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="8" data-linenumber="133">
              <span class="hits">8</span>
              <code class="sql">    l_suite_id := 0;</code></li>

            <li class="covered" data-hits="8" data-linenumber="134">
              <span class="hits">8</span>
              <code class="sql">    self.print_text(ut_utils.get_xml_header(a_run.client_character_set));</code></li>

            <li class="covered" data-hits="8" data-linenumber="135">
              <span class="hits">8</span>
              <code class="sql">    self.print_text(&apos;&lt;testsuites&gt;&apos;);</code></li>

            <li class="covered" data-hits="16" data-linenumber="136">
              <span class="hits">16</span>
              <code class="sql">    for i in 1 .. a_run.items.count loop</code></li>

            <li class="covered" data-hits="8" data-linenumber="137">
              <span class="hits">8</span>
              <code class="sql">      print_suite_results(treat(a_run.items(i) as ut_logical_suite), l_suite_id);</code></li>

            <li class="never" data-hits="" data-linenumber="138">
            <code class="sql">    end loop;</code></li>

            <li class="covered" data-hits="8" data-linenumber="139">
              <span class="hits">8</span>
              <code class="sql">    self.print_text(&apos;&lt;/testsuites&gt;&apos;);</code></li>

            <li class="never" data-hits="" data-linenumber="140">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="141">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="142">
            <code class="sql">  overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="143">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="144">
              <code class="sql">    return &apos;Provides outcomes in a format conforming with JUnit version for TFS / VSTS.</code></li>

            <li class="never" data-hits="" data-linenumber="145">
            <code class="sql">    As defined by specs :https://docs.microsoft.com/en-us/vsts/build-release/tasks/test/publish-test-results?view=vsts</code></li>

            <li class="never" data-hits="" data-linenumber="146">
            <code class="sql">    Version is based on windy road junit https://github.com/windyroad/JUnit-Schema/blob/master/JUnit.xsd.&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="147">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="148">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="149">
            <code class="sql">end;</code></li>
</ol></pre></div>
    <div class="source_table" id="1AD77BAF3D3931D97C1DD87611947781"><div class="header"> <h3>UT3.UT_XUNIT_REPORTER</h3><h4><span class="red">66.67 %</span> lines covered</h4><div> <b>3</b> relevant lines. <span class="green"><b>2</b> lines covered</span> and <span class="red"><b>1</b> lines missed</span></div></div><pre><ol>

            <li class="never" data-hits="" data-linenumber="1">
            <code class="sql">type body ut_xunit_reporter is</code></li>

            <li class="never" data-hits="" data-linenumber="2">
            <code class="sql">  /*</code></li>

            <li class="never" data-hits="" data-linenumber="3">
            <code class="sql">  utPLSQL - Version 3</code></li>

            <li class="never" data-hits="" data-linenumber="4">
            <code class="sql">  Copyright 2016 - 2019 utPLSQL Project</code></li>

            <li class="never" data-hits="" data-linenumber="5">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="6">
            <code class="sql">  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;):</code></li>

            <li class="never" data-hits="" data-linenumber="7">
            <code class="sql">  you may not use this file except in compliance with the License.</code></li>

            <li class="never" data-hits="" data-linenumber="8">
            <code class="sql">  You may obtain a copy of the License at</code></li>

            <li class="never" data-hits="" data-linenumber="9">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="10">
            <code class="sql">      http://www.apache.org/licenses/LICENSE-2.0</code></li>

            <li class="never" data-hits="" data-linenumber="11">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="12">
            <code class="sql">  Unless required by applicable law or agreed to in writing, software</code></li>

            <li class="never" data-hits="" data-linenumber="13">
            <code class="sql">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</code></li>

            <li class="never" data-hits="" data-linenumber="14">
            <code class="sql">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</code></li>

            <li class="never" data-hits="" data-linenumber="15">
            <code class="sql">  See the License for the specific language governing permissions and</code></li>

            <li class="never" data-hits="" data-linenumber="16">
            <code class="sql">  limitations under the License.</code></li>

            <li class="never" data-hits="" data-linenumber="17">
            <code class="sql">  */</code></li>

            <li class="never" data-hits="" data-linenumber="18">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="19">
            <code class="sql">  constructor function ut_xunit_reporter(self in out nocopy ut_xunit_reporter) return self as result is</code></li>

            <li class="never" data-hits="" data-linenumber="20">
            <code class="sql">  begin</code></li>

            <li class="covered" data-hits="1" data-linenumber="21">
              <span class="hits">1</span>
              <code class="sql">    self.init($$plsql_unit);</code></li>

            <li class="covered" data-hits="1" data-linenumber="22">
              <span class="hits">1</span>
              <code class="sql">    return;</code></li>

            <li class="never" data-hits="" data-linenumber="23">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="24">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="25">
            <code class="sql">  overriding member function get_description return varchar2 as</code></li>

            <li class="never" data-hits="" data-linenumber="26">
            <code class="sql">  begin</code></li>

            <li class="missed" data-hits="0" data-linenumber="27">
              <code class="sql">    return &apos;Depracated reporter. Please use Junit.</code></li>

            <li class="never" data-hits="" data-linenumber="28">
            <code class="sql">    Provides outcomes in a format conforming with JUnit 4 and above as defined in: https://gist.github.com/kuzuha/232902acab1344d6b578&apos;;</code></li>

            <li class="never" data-hits="" data-linenumber="29">
            <code class="sql">  end;</code></li>

            <li class="never" data-hits="" data-linenumber="30">
            <code class="sql"></code></li>

            <li class="never" data-hits="" data-linenumber="31">
            <code class="sql">end;</code></li>
</ol></pre></div>
</div></div></div></body></html>
